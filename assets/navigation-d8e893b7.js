import{b as k,n as G,c as g,e as _}from"./navigation-72a31663.js";function z(B){let{swiper:e,extendParams:H,on:v,emit:b}=B;const Y=k();H({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let M,y=g(),o;const r=[];function n(t){let d=0,a=0,s=0,u=0;return"detail"in t&&(a=t.detail),"wheelDelta"in t&&(a=-t.wheelDelta/120),"wheelDeltaY"in t&&(a=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(d=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(d=a,a=0),s=d*10,u=a*10,"deltaY"in t&&(u=t.deltaY),"deltaX"in t&&(s=t.deltaX),t.shiftKey&&!s&&(s=u,u=0),(s||u)&&t.deltaMode&&(t.deltaMode===1?(s*=40,u*=40):(s*=800,u*=800)),s&&!d&&(d=s<1?-1:1),u&&!a&&(a=u<1?-1:1),{spinX:d,spinY:a,pixelX:s,pixelY:u}}function S(){e.enabled&&(e.mouseEntered=!0)}function D(){e.enabled&&(e.mouseEntered=!1)}function p(t){return e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&g()-y<e.params.mousewheel.thresholdTime?!1:t.delta>=6&&g()-y<60?!0:(t.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),b("scroll",t.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),b("scroll",t.raw)),y=new Y.Date().getTime(),!1)}function h(t){const i=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&i.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&i.releaseOnEdges)return!0;return!1}function I(t){let i=t,T=!0;if(!e.enabled||t.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const c=e.params.mousewheel;e.params.cssMode&&i.preventDefault();let d=e.el;e.params.mousewheel.eventsTarget!=="container"&&(d=document.querySelector(e.params.mousewheel.eventsTarget));const a=d&&d.contains(i.target);if(!e.mouseEntered&&!a&&!c.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);let s=0;const u=e.rtlTranslate?-1:1,m=n(i);if(c.forceToAxis)if(e.isHorizontal())if(Math.abs(m.pixelX)>Math.abs(m.pixelY))s=-m.pixelX*u;else return!0;else if(Math.abs(m.pixelY)>Math.abs(m.pixelX))s=-m.pixelY;else return!0;else s=Math.abs(m.pixelX)>Math.abs(m.pixelY)?-m.pixelX*u:-m.pixelY;if(s===0)return!0;c.invert&&(s=-s);let x=e.getTranslate()+s*c.sensitivity;if(x>=e.minTranslate()&&(x=e.minTranslate()),x<=e.maxTranslate()&&(x=e.maxTranslate()),T=e.params.loop?!0:!(x===e.minTranslate()||x===e.maxTranslate()),T&&e.params.nested&&i.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const l={time:g(),delta:Math.abs(s),direction:Math.sign(s),raw:t};r.length>=2&&r.shift();const E=r.length?r[r.length-1]:void 0;if(r.push(l),E?(l.direction!==E.direction||l.delta>E.delta||l.time>E.time+150)&&p(l):p(l),h(l))return!0}else{const l={time:g(),delta:Math.abs(s),direction:Math.sign(s)},E=o&&l.time<o.time+500&&l.delta<=o.delta&&l.direction===o.direction;if(!E){o=void 0;let w=e.getTranslate()+s*c.sensitivity;const O=e.isBeginning,R=e.isEnd;if(w>=e.minTranslate()&&(w=e.minTranslate()),w<=e.maxTranslate()&&(w=e.maxTranslate()),e.setTransition(0),e.setTranslate(w),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!O&&e.isBeginning||!R&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:l.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(M),M=void 0,r.length>=15&&r.shift();const L=r.length?r[r.length-1]:void 0,A=r[0];if(r.push(l),L&&(l.delta>L.delta||l.direction!==L.direction))r.splice(0);else if(r.length>=15&&l.time-A.time<500&&A.delta-l.delta>=1&&l.delta<=6){const C=s>0?.8:.2;o=l,r.splice(0),M=G(()=>{e.slideToClosest(e.params.speed,!0,void 0,C)},0)}M||(M=G(()=>{o=l,r.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(E||b("scroll",i),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),c.releaseOnEdges&&(w===e.minTranslate()||w===e.maxTranslate()))return!0}}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1}function X(t){let i=e.el;e.params.mousewheel.eventsTarget!=="container"&&(i=document.querySelector(e.params.mousewheel.eventsTarget)),i[t]("mouseenter",S),i[t]("mouseleave",D),i[t]("wheel",I)}function f(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",I),!0):e.mousewheel.enabled?!1:(X("addEventListener"),e.mousewheel.enabled=!0,!0)}function P(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,I),!0):e.mousewheel.enabled?(X("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}v("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&P(),e.params.mousewheel.enabled&&f()}),v("destroy",()=>{e.params.cssMode&&f(),e.mousewheel.enabled&&P()}),Object.assign(e.mousewheel,{enable:f,disable:P})}function V(B){let{swiper:e,extendParams:H,emit:v,once:b}=B;H({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function Y(){if(e.params.cssMode)return;const o=e.getTranslate();e.setTranslate(o),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function M(){if(e.params.cssMode)return;const{touchEventsData:o,touches:r}=e;o.velocities.length===0&&o.velocities.push({position:r[e.isHorizontal()?"startX":"startY"],time:o.touchStartTime}),o.velocities.push({position:r[e.isHorizontal()?"currentX":"currentY"],time:g()})}function y(o){let{currentPos:r}=o;if(e.params.cssMode)return;const{params:n,wrapperEl:S,rtlTranslate:D,snapGrid:p,touchEventsData:h}=e,X=g()-h.touchStartTime;if(r<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(r>-e.maxTranslate()){e.slides.length<p.length?e.slideTo(p.length-1):e.slideTo(e.slides.length-1);return}if(n.freeMode.momentum){if(h.velocities.length>1){const a=h.velocities.pop(),s=h.velocities.pop(),u=a.position-s.position,m=a.time-s.time;e.velocity=u/m,e.velocity/=2,Math.abs(e.velocity)<n.freeMode.minimumVelocity&&(e.velocity=0),(m>150||g()-a.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=n.freeMode.momentumVelocityRatio,h.velocities.length=0;let f=1e3*n.freeMode.momentumRatio;const P=e.velocity*f;let t=e.translate+P;D&&(t=-t);let i=!1,T;const c=Math.abs(e.velocity)*20*n.freeMode.momentumBounceRatio;let d;if(t<e.maxTranslate())n.freeMode.momentumBounce?(t+e.maxTranslate()<-c&&(t=e.maxTranslate()-c),T=e.maxTranslate(),i=!0,h.allowMomentumBounce=!0):t=e.maxTranslate(),n.loop&&n.centeredSlides&&(d=!0);else if(t>e.minTranslate())n.freeMode.momentumBounce?(t-e.minTranslate()>c&&(t=e.minTranslate()+c),T=e.minTranslate(),i=!0,h.allowMomentumBounce=!0):t=e.minTranslate(),n.loop&&n.centeredSlides&&(d=!0);else if(n.freeMode.sticky){let a;for(let s=0;s<p.length;s+=1)if(p[s]>-t){a=s;break}Math.abs(p[a]-t)<Math.abs(p[a-1]-t)||e.swipeDirection==="next"?t=p[a]:t=p[a-1],t=-t}if(d&&b("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(D?f=Math.abs((-t-e.translate)/e.velocity):f=Math.abs((t-e.translate)/e.velocity),n.freeMode.sticky){const a=Math.abs((D?-t:t)-e.translate),s=e.slidesSizesGrid[e.activeIndex];a<s?f=n.speed:a<2*s?f=n.speed*1.5:f=n.speed*2.5}}else if(n.freeMode.sticky){e.slideToClosest();return}n.freeMode.momentumBounce&&i?(e.updateProgress(T),e.setTransition(f),e.setTranslate(t),e.transitionStart(!0,e.swipeDirection),e.animating=!0,_(S,()=>{!e||e.destroyed||!h.allowMomentumBounce||(v("momentumBounce"),e.setTransition(n.speed),setTimeout(()=>{e.setTranslate(T),_(S,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(v("_freeModeNoMomentumRelease"),e.updateProgress(t),e.setTransition(f),e.setTranslate(t),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,_(S,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(t),e.updateActiveIndex(),e.updateSlidesClasses()}else if(n.freeMode.sticky){e.slideToClosest();return}else n.freeMode&&v("_freeModeNoMomentumRelease");(!n.freeMode.momentum||X>=n.longSwipesMs)&&(v("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:Y,onTouchMove:M,onTouchEnd:y}})}export{z as M,V as f};
