import{b as W,n as V,c as L,e as O}from"./navigation.js";import{P as R,r as I,ai as Q,d as A,e as X,s as G,b as J,j as t,ak as Y,k as z,c as Z,aB as ee,K as te,bj as se,ad as ae,o as $}from"./index.js";import{b as ne,E as ie}from"./pp.js";import{I as K}from"./InputDate.js";import{S as re}from"./SingleSelect.js";import{P as le}from"./PhoneNumberSelect.js";function ye(D){let{swiper:e,extendParams:S,on:h,emit:E}=D;const P=W();S({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let w,N=L(),m;const n=[];function l(s){let j=0,c=0,i=0,f=0;return"detail"in s&&(c=s.detail),"wheelDelta"in s&&(c=-s.wheelDelta/120),"wheelDeltaY"in s&&(c=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(j=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(j=c,c=0),i=j*10,f=c*10,"deltaY"in s&&(f=s.deltaY),"deltaX"in s&&(i=s.deltaX),s.shiftKey&&!i&&(i=f,f=0),(i||f)&&s.deltaMode&&(s.deltaMode===1?(i*=40,f*=40):(i*=800,f*=800)),i&&!j&&(j=i<1?-1:1),f&&!c&&(c=f<1?-1:1),{spinX:j,spinY:c,pixelX:i,pixelY:f}}function d(){e.enabled&&(e.mouseEntered=!0)}function C(){e.enabled&&(e.mouseEntered=!1)}function b(s){return e.params.mousewheel.thresholdDelta&&s.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&L()-N<e.params.mousewheel.thresholdTime?!1:s.delta>=6&&L()-N<60?!0:(s.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),E("scroll",s.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),E("scroll",s.raw)),N=new P.Date().getTime(),!1)}function v(s){const o=e.params.mousewheel;if(s.direction<0){if(e.isEnd&&!e.params.loop&&o.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&o.releaseOnEdges)return!0;return!1}function a(s){let o=s,y=!0;if(!e.enabled||s.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const T=e.params.mousewheel;e.params.cssMode&&o.preventDefault();let j=e.el;e.params.mousewheel.eventsTarget!=="container"&&(j=document.querySelector(e.params.mousewheel.eventsTarget));const c=j&&j.contains(o.target);if(!e.mouseEntered&&!c&&!T.releaseOnEdges)return!0;o.originalEvent&&(o=o.originalEvent);let i=0;const f=e.rtlTranslate?-1:1,p=l(o);if(T.forceToAxis)if(e.isHorizontal())if(Math.abs(p.pixelX)>Math.abs(p.pixelY))i=-p.pixelX*f;else return!0;else if(Math.abs(p.pixelY)>Math.abs(p.pixelX))i=-p.pixelY;else return!0;else i=Math.abs(p.pixelX)>Math.abs(p.pixelY)?-p.pixelX*f:-p.pixelY;if(i===0)return!0;T.invert&&(i=-i);let H=e.getTranslate()+i*T.sensitivity;if(H>=e.minTranslate()&&(H=e.minTranslate()),H<=e.maxTranslate()&&(H=e.maxTranslate()),y=e.params.loop?!0:!(H===e.minTranslate()||H===e.maxTranslate()),y&&e.params.nested&&o.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const r={time:L(),delta:Math.abs(i),direction:Math.sign(i),raw:s};n.length>=2&&n.shift();const _=n.length?n[n.length-1]:void 0;if(n.push(r),_?(r.direction!==_.direction||r.delta>_.delta||r.time>_.time+150)&&b(r):b(r),v(r))return!0}else{const r={time:L(),delta:Math.abs(i),direction:Math.sign(i)},_=m&&r.time<m.time+500&&r.delta<=m.delta&&r.direction===m.direction;if(!_){m=void 0;let M=e.getTranslate()+i*T.sensitivity;const B=e.isBeginning,F=e.isEnd;if(M>=e.minTranslate()&&(M=e.minTranslate()),M<=e.maxTranslate()&&(M=e.maxTranslate()),e.setTransition(0),e.setTranslate(M),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!B&&e.isBeginning||!F&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:r.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(w),w=void 0,n.length>=15&&n.shift();const k=n.length?n[n.length-1]:void 0,U=n[0];if(n.push(r),k&&(r.delta>k.delta||r.direction!==k.direction))n.splice(0);else if(n.length>=15&&r.time-U.time<500&&U.delta-r.delta>=1&&r.delta<=6){const q=i>0?.8:.2;m=r,n.splice(0),w=V(()=>{e.slideToClosest(e.params.speed,!0,void 0,q)},0)}w||(w=V(()=>{m=r,n.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(_||E("scroll",o),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),T.releaseOnEdges&&(M===e.minTranslate()||M===e.maxTranslate()))return!0}}return o.preventDefault?o.preventDefault():o.returnValue=!1,!1}function x(s){let o=e.el;e.params.mousewheel.eventsTarget!=="container"&&(o=document.querySelector(e.params.mousewheel.eventsTarget)),o[s]("mouseenter",d),o[s]("mouseleave",C),o[s]("wheel",a)}function g(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",a),!0):e.mousewheel.enabled?!1:(x("addEventListener"),e.mousewheel.enabled=!0,!0)}function u(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,a),!0):e.mousewheel.enabled?(x("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}h("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&u(),e.params.mousewheel.enabled&&g()}),h("destroy",()=>{e.params.cssMode&&g(),e.mousewheel.enabled&&u()}),Object.assign(e.mousewheel,{enable:g,disable:u})}function ve(D){let{swiper:e,extendParams:S,emit:h,once:E}=D;S({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function P(){if(e.params.cssMode)return;const m=e.getTranslate();e.setTranslate(m),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function w(){if(e.params.cssMode)return;const{touchEventsData:m,touches:n}=e;m.velocities.length===0&&m.velocities.push({position:n[e.isHorizontal()?"startX":"startY"],time:m.touchStartTime}),m.velocities.push({position:n[e.isHorizontal()?"currentX":"currentY"],time:L()})}function N(m){let{currentPos:n}=m;if(e.params.cssMode)return;const{params:l,wrapperEl:d,rtlTranslate:C,snapGrid:b,touchEventsData:v}=e,x=L()-v.touchStartTime;if(n<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(n>-e.maxTranslate()){e.slides.length<b.length?e.slideTo(b.length-1):e.slideTo(e.slides.length-1);return}if(l.freeMode.momentum){if(v.velocities.length>1){const c=v.velocities.pop(),i=v.velocities.pop(),f=c.position-i.position,p=c.time-i.time;e.velocity=f/p,e.velocity/=2,Math.abs(e.velocity)<l.freeMode.minimumVelocity&&(e.velocity=0),(p>150||L()-c.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=l.freeMode.momentumVelocityRatio,v.velocities.length=0;let g=1e3*l.freeMode.momentumRatio;const u=e.velocity*g;let s=e.translate+u;C&&(s=-s);let o=!1,y;const T=Math.abs(e.velocity)*20*l.freeMode.momentumBounceRatio;let j;if(s<e.maxTranslate())l.freeMode.momentumBounce?(s+e.maxTranslate()<-T&&(s=e.maxTranslate()-T),y=e.maxTranslate(),o=!0,v.allowMomentumBounce=!0):s=e.maxTranslate(),l.loop&&l.centeredSlides&&(j=!0);else if(s>e.minTranslate())l.freeMode.momentumBounce?(s-e.minTranslate()>T&&(s=e.minTranslate()+T),y=e.minTranslate(),o=!0,v.allowMomentumBounce=!0):s=e.minTranslate(),l.loop&&l.centeredSlides&&(j=!0);else if(l.freeMode.sticky){let c;for(let i=0;i<b.length;i+=1)if(b[i]>-s){c=i;break}Math.abs(b[c]-s)<Math.abs(b[c-1]-s)||e.swipeDirection==="next"?s=b[c]:s=b[c-1],s=-s}if(j&&E("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(C?g=Math.abs((-s-e.translate)/e.velocity):g=Math.abs((s-e.translate)/e.velocity),l.freeMode.sticky){const c=Math.abs((C?-s:s)-e.translate),i=e.slidesSizesGrid[e.activeIndex];c<i?g=l.speed:c<2*i?g=l.speed*1.5:g=l.speed*2.5}}else if(l.freeMode.sticky){e.slideToClosest();return}l.freeMode.momentumBounce&&o?(e.updateProgress(y),e.setTransition(g),e.setTranslate(s),e.transitionStart(!0,e.swipeDirection),e.animating=!0,O(d,()=>{!e||e.destroyed||!v.allowMomentumBounce||(h("momentumBounce"),e.setTransition(l.speed),setTimeout(()=>{e.setTranslate(y),O(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(h("_freeModeNoMomentumRelease"),e.updateProgress(s),e.setTransition(g),e.setTranslate(s),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,O(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(s),e.updateActiveIndex(),e.updateSlidesClasses()}else if(l.freeMode.sticky){e.slideToClosest();return}else l.freeMode&&h("_freeModeNoMomentumRelease");(!l.freeMode.momentum||x>=l.longSwipesMs)&&(h("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:P,onTouchMove:w,onTouchEnd:N}})}const oe=["JPG","JPEG","PNG","PDF"],ce=({passenger:D,isOpenScanPassportModal:e,setIsOpenScanPassportModal:S})=>{const{title:h,first_name:E,last_name:P,doc_country:w,doc_no:N,dob:m,gender:n,doc_dateofissue:l,doc_dateofexpiry:d,pax_id:C,pax_type:b,tracking_id:v}=D||{},[a,x]=I.useState({title:h,first_name:E,last_name:P,doc_country:w,doc_no:N,dob:m,gender:n,doc_dateofissue:l,doc_dateofexpiry:d}),[g,u]=I.useState(null),[s,o]=I.useState(!1),[y,T]=I.useState(!1),j=Q(),{axiosInstance:c}=A(),{member_id:i}=X.useState().user_data||{},{country_code:f}=G.useState().location_info||{};I.useEffect(()=>{a.doc_country||x({...a,doc_country:f})},[f]),I.useEffect(()=>{(!a.doc_dateofexpiry||a.doc_dateofexpiry==="0000-00-00")&&x(r=>({...r,doc_dateofexpiry:J().add(1,"year").format("YYYY-MM-DD")}))},[a.doc_dateofexpiry]);const p=async r=>{var _,M,B;o(!0);try{if(r){u(URL.createObjectURL(r));const F=new FormData;F.append("documents_image_url",r),F.append("image_type","file"),F.append("member_id",i),F.append("booking_tracking_id",v),F.append("documents_type","passport"),F.append("pax_id",C);const k=await c.post("/tools/document-scan",F);((_=k==null?void 0:k.data)==null?void 0:_.status)==="success"&&x({...a,...k.data.data,doc_dateofissue:(B=(M=k==null?void 0:k.data)==null?void 0:M.data)==null?void 0:B.doc_issuedate})}}catch(F){console.error(F)}finally{o(!1)}},H=async r=>{var _;if(r.preventDefault(),!(!a||y)){T(!0);try{const M={passenger:[{...a,pax_id:C,pax_type:b}],member_id:i,tracking_id:v,action_type:"doc"},B=await c.post("/flight/update-pax-passport",M);if(S(!1),u(null),((_=B==null?void 0:B.data)==null?void 0:_.status)==="success")z("success","Updated!",B.data.reason),j.invalidateQueries(["FLIGHT_BOOKING_DETAILS",v,i]);else throw new Error(B.data.reason)}catch(M){console.error(M),z("error","Failed!",M.message)}finally{T(!1)}}};return t.jsx("div",{className:"modal",open:e,children:t.jsxs("div",{className:"max-w-4xl modal-box",children:[t.jsx("div",{className:"sticky top-0 z-20 bg-base-200",children:t.jsx("button",{onClick:()=>S(!1),className:"absolute -top-2 -right-2 btn btn-sm btn-circle btn-ghost",children:"✕"})}),t.jsxs("form",{onSubmit:H,children:[t.jsxs("div",{className:"grid gap-8 mb-4 md:grid-cols-2",children:[t.jsxs("div",{className:"relative flex flex-col items-center justify-center h-full bg-center bg-no-repeat bg-contain",style:{backgroundImage:`url("${g||ne}")`},children:[t.jsx(ie,{handleChange:p,name:"file",label:" Upload or drop your doc right here",types:oe,classes:"!h-full !min-h-[420px] !py-0 !min-w-0 !w-full !max-w-full !items-end !pb-4 scan_passport"}),s&&t.jsx("div",{className:"absolute z-10 bg-center bg-no-repeat bg-contain opacity-100 inset-[1px] bg-base-200",style:{backgroundImage:"url(https://i.pinimg.com/originals/1e/d5/47/1ed547006742581be6daece42fb2fd34.gif)"}})]}),t.jsxs("div",{className:"space-y-3 font-medium",children:[t.jsxs("h5",{className:"mb-4 font-semibold uppercase",children:["For"," ",b==="ADT"?"Adult":b==="CHD"?"Child":"Infant"," ","- Passenger No ",C]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Title"}),t.jsx("input",{autoComplete:"off",type:"text",className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:a==null?void 0:a.title,readOnly:!0})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"First name"}),t.jsx("input",{autoComplete:"off",type:"text",className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:a==null?void 0:a.first_name,readOnly:!0})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Last name"}),t.jsx("input",{autoComplete:"off",type:"text",className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:a==null?void 0:a.last_name,readOnly:!0})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Country"}),t.jsx("input",{autoComplete:"off",type:"text",onChange:r=>x({...a,doc_country:r.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:a==null?void 0:a.doc_country})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Passport number"}),t.jsx("input",{autoComplete:"off",type:"text",onChange:r=>x({...a,doc_no:r.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:a==null?void 0:a.doc_no})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Birth date"}),t.jsx(K,{action:r=>x({...a,dob:r}),className:"w-full p-2 text-sm uppercase border-0 border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0 h-9",defaultValue:a==null?void 0:a.dob})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Birth place"}),t.jsx("input",{autoComplete:"off",type:"text",onChange:r=>x({...a,birth_place:r.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:(a==null?void 0:a.birth_place)||(a==null?void 0:a.doc_country)})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Gender"}),t.jsx(re,{options:[{label:"Male",value:"M"},{label:"Female",value:"F"}],className:"w-full p-2 text-sm !border-0 !border-l-2 !rounded-md bg-neutral/10 !border-primary focus:outline-0 h-9",defaultValue:a==null?void 0:a.gender,action:r=>{var _;return x({...a,gender:(_=r==null?void 0:r.at(0))==null?void 0:_.value})}})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Expiry date"}),t.jsx(K,{action:r=>x({...a,doc_dateofexpiry:r}),className:"w-full p-2 text-sm uppercase border-0 border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0 h-9",defaultValue:a==null?void 0:a.doc_dateofexpiry})]})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!a,children:y?t.jsxs(t.Fragment,{children:[t.jsx(Y,{className:"animate-spin"})," Updating..."]}):"Update"})})]})]})})};ce.propTypes={isOpenScanPassportModal:R.bool.isRequired,setIsOpenScanPassportModal:R.func.isRequired,passenger:R.object.isRequired};const de=({passenger:D,isOpenContactModal:e,setIsOpenContactModal:S})=>{const{isd_code:h,contact_no:E,email_address:P,pax_id:w,pax_type:N,tracking_id:m}=D||{},[n,l]=I.useState({isd_code:h,contact_no:E,email_address:P}),[d,C]=I.useState(!1),b=Q(),{axiosInstance:v}=A(),{member_id:a}=X.useState().user_data||{},{isd_code:x}=G.useState().location_info||{};I.useEffect(()=>{n.isd_code||l({...n,isd_code:x})},[x]);const g=async u=>{var s;if(u.preventDefault(),!(!n||d)){C(!0);try{const o={passenger:[{...n,pax_id:w,pax_type:N}],member_id:a,tracking_id:m,action_type:"contact"},y=await v.post("/flight/update-pax-passport",o);if(S(!1),((s=y==null?void 0:y.data)==null?void 0:s.status)==="success")z("success","Updated!",y.data.reason),b.invalidateQueries(["FLIGHT_BOOKING_DETAILS",m,a]);else throw new Error(y.data.reason)}catch(o){console.error(o),z("error","Failed!",o.message)}finally{C(!1)}}};return t.jsx("div",{className:"modal",open:e,children:t.jsxs("div",{className:"max-w-4xl modal-box",children:[t.jsx("div",{className:"sticky top-0 z-20 bg-base-200",children:t.jsx("button",{onClick:()=>S(!1),className:"absolute -top-2 -right-2 btn btn-sm btn-circle btn-ghost",children:"✕"})}),t.jsxs("form",{onSubmit:g,children:[t.jsxs("div",{className:"mb-4 font-medium",children:[t.jsxs("h5",{className:"mb-3 font-semibold",children:["For"," ",N==="ADT"?"Adult":N==="CHD"?"Child":"Infant"," ","- Passenger No ",w]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-44",children:[t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Contact No"}),t.jsx(le,{placeholder:"Enter Mobile Number",className:"!w-full p-2 text-sm rounded-md !border-transparent !bg-neutral/10 !border-l-primary focus:outline-0",defaultValue:String(n.isd_code||"")+String(n.contact_no||""),action:u=>l({...n,isd_code:(u==null?void 0:u.isd_code)||"",contact_no:(u==null?void 0:u.mobile)||""}),isRequired:!0})]}),t.jsxs("div",{className:"form-control",children:[t.jsx("label",{className:"text-sm capitalize",children:"Email Address"}),t.jsx("input",{autoComplete:"off",type:"text",onChange:u=>l({...n,email_address:u.target.value}),className:"w-full p-2 text-sm border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:n==null?void 0:n.email_address})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"btn btn-primary",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Y,{className:"animate-spin"})," Updating..."]}):"Update"})})]})]})})};de.propTypes={isOpenContactModal:R.bool.isRequired,setIsOpenContactModal:R.func.isRequired,passenger:R.object.isRequired};const me=({isActive:D,setIsActive:e,tracking_id:S,primary_customer_data:h})=>{var a,x,g;const{system_config:E}=G.useState(),{title:P,first_name:w,last_name:N}=(h==null?void 0:h.customer)||{},m=P+" "+w+" "+N,{email_address:n}=(h==null?void 0:h.contact)||{},[l,d]=I.useState(!1),{member_id:C}=((a=X.useState())==null?void 0:a.user_data)||{},{axiosInstance:b}=A(),v=async u=>{var c,i,f;if(u.preventDefault(),l)return;d(!0);const s=u.target,o=s.platform_type.value,y=s.receiver_id.value,T=s.name.value,j={member_id:C,tracking_id:S,platform_type:o,receiver_id:y,name:T};try{const p=await b.post("/finance/partner-customer-send-invoice",j);if(e(!1),((c=p.data)==null?void 0:c.status)==="success")z("success","Sent!",(i=p.data)==null?void 0:i.reason);else throw new Error(((f=p.data)==null?void 0:f.reason)||"Something happen wrong. Sending Failed!")}catch(p){console.error(p),z("error","Sending Failed!",p.message)}finally{d(!1)}};return t.jsx("div",{className:"modal",open:D,children:t.jsxs("form",{onSubmit:v,className:"max-w-md p-0 rounded-md modal-box bg-base-200",children:[t.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Send Customer Invoice"}),t.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-sm btn-circle btn-ghost",children:t.jsx(Z,{})})]}),t.jsx("div",{className:"px-5 max-h-[70vh] h-full overflow-auto",children:t.jsxs("div",{className:"grid gap-4 py-3",children:[t.jsxs("label",{htmlFor:"",className:"gap-2 form-control",children:[t.jsx("span",{className:"text-sm",children:"Enter Platform Type"}),t.jsx("select",{type:"text",className:"h-10 min-h-0 capitalize bg-transparent rounded select select-bordered select-primary focus:outline-none",name:"platform_type",children:(g=(x=E==null?void 0:E.support_send_alert_platform_type)==null?void 0:x.data)==null?void 0:g.map(u=>t.jsx("option",{value:u,children:u},u))})]}),t.jsxs("label",{htmlFor:"",className:"gap-2 form-control",children:[t.jsx("span",{className:"text-sm",children:"Enter Receiver ID"}),t.jsx("input",{autoComplete:"off",type:"text",className:"h-10 min-h-0 bg-transparent rounded input input-bordered input-primary focus:outline-none",name:"receiver_id",defaultValue:n})]}),t.jsxs("label",{htmlFor:"",className:"gap-2 form-control",children:[t.jsx("span",{className:"text-sm",children:"Enter Receiver Name"}),t.jsx("input",{autoComplete:"off",type:"text",className:"h-10 min-h-0 bg-transparent rounded input input-bordered input-primary focus:outline-none",name:"name",defaultValue:m})]})]})}),t.jsxs("div",{className:"flex justify-end gap-3 px-4 py-2 mt-2 border-t bg-base-300",children:[t.jsx("button",{type:"submit",className:"h-10 min-h-0 normal-case btn btn-primary",children:l?t.jsxs(t.Fragment,{children:[t.jsx(Y,{className:"animate-spin"})," Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ee,{})," Send"]})}),t.jsx("button",{type:"button",onClick:()=>e(!1),className:"h-10 min-h-0 normal-case bg-white btn hover:bg-white border-primary hover:border-primary",children:"Close"})]})]})})};me.propTypes={isActive:R.bool.isRequired,setIsActive:R.func.isRequired,tracking_id:R.string,primary_customer_data:R.object};const ue=({booking_details:D})=>{const{search_parameter:e}=(D==null?void 0:D.flight)||{},[S,h]=I.useState(!1),{axiosInstance:E}=A(),P=te(),w=async()=>{var N,m,n,l;if(!S){h(!0);try{const d=await E.post("/flight/search",e);if(((N=d==null?void 0:d.data)==null?void 0:N.status)==="success")$.update(()=>$._getInitialState()),P(`/flight/search?tracking_id=${d.data.tracking_id}`,{replace:!1});else throw new Error(((m=d==null?void 0:d.data)==null?void 0:m.reason)||((l=(n=d==null?void 0:d.response)==null?void 0:n.data)==null?void 0:l.message))}catch(d){console.error(d),z("error","Failed!",d.message)}}};return t.jsx("button",{onClick:w,className:"h-10 min-h-0 font-normal normal-case rounded btn btn-outline btn-primary flex-nowrap whitespace-nowrap border-neutral/30",children:S?t.jsxs(t.Fragment,{children:[t.jsx(se,{className:"animate-spin"})," Searching..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"text-lg"})," Search Again"]})})};ue.propTypes={booking_details:R.object.isRequired};export{ye as M,ue as R,ce as S,de as U,me as a,ve as f};
