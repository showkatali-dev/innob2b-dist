import{a$ as Ft,e as j,b1 as he,a0 as d,q as e,o as U,P as ne,ab as pe,D as Bt,m as Re,ac as ke,aM as yt,am as se,T as Ie,a2 as _e}from"./index-0b0e509a.js";import{bV as Lt,u as A,s as Ee,_ as De,v as _t,bW as Mt,bX as Pt,P as w,d as ae,e as $,b8 as Q,b9 as q,ba as X,bb as Te,bY as Fe,b as Ct,aa as be,bZ as Be,b_ as Le,b$ as Me,L as Pe,Q as Vt,c0 as Gt,c1 as Wt,F as Yt,c2 as zt,c3 as Zt,c4 as Ut,c5 as Ht,c as J,c6 as ee,c7 as te,c8 as Ne,c9 as we,W as Jt}from"./App-f4418714.js";import{l as je,b as $t,m as Qt}from"./index.esm-ea538e87.js";import{d as re,D as Ve,b as ve,c as qt}from"./SuppliersSelection2-1c69c9e6.js";import{C as ue,a as Ge,b as H,S as We,c as Nt,d as wt,e as At,f as St}from"./SingleSelect-bb241bd1.js";import{I as Ye}from"./InputDate-9c5df192.js";import{P as Xt}from"./PrimaryTabsWithIcon-ef54301b.js";var me=globalThis&&globalThis.__assign||function(){return me=Object.assign||function(a){for(var l,t=1,i=arguments.length;t<i;t++){l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(a[n]=l[n])}return a},me.apply(this,arguments)},Kt=globalThis&&globalThis.__rest||function(a,l){var t={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&l.indexOf(i)<0&&(t[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(a);n<i.length;n++)l.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(a,i[n])&&(t[i[n]]=a[i[n]]);return t},ea=Ft("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function ta(a){var l=a.loading,t=l===void 0?!0:l,i=a.color,n=i===void 0?"#000000":i,s=a.speedMultiplier,r=s===void 0?1:s,p=a.cssOverride,c=p===void 0?{}:p,o=a.height,h=o===void 0?35:o,y=a.width,f=y===void 0?4:y,x=a.radius,m=x===void 0?2:x,u=a.margin,g=u===void 0?2:u,v=Kt(a,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),O=me({display:"inherit"},c),C=function(W){return{backgroundColor:n,width:he(f),height:he(h),margin:he(g),borderRadius:he(m),display:"inline-block",animation:"".concat(ea," ").concat(1/r,"s ").concat(W*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return t?j.createElement("span",me({style:O},v),j.createElement("span",{style:C(1)}),j.createElement("span",{style:C(2)}),j.createElement("span",{style:C(3)}),j.createElement("span",{style:C(4)}),j.createElement("span",{style:C(5)})):null}/**
 * @license lucide-react v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),aa=()=>{const{travelers_adult:a}=d.useState(t=>t),{t:l}=A();return e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text text-neutral/70",children:e.jsx("i",{className:"inline-block alight-middle",children:e.jsx(Ee,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:l("adults")}),e.jsxs("p",{className:"text-[10px] text-neutral leading-3",children:[">12 ",l("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>1&&d.update(t=>{t.travelers_adult=a-1})},type:"button",disabled:a===1,className:"rounded minusBtn btn btn-xs btn-primary",children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>d.update(t=>{t.travelers_adult=a+1}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]})},sa=()=>{const{travelers_child:a,travelers_child_age:l}=d.useState(i=>i),{t}=A();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1 child-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"pb-3 text-xl text-neutral/70",children:e.jsx("i",{className:"inline-block align-middle",children:e.jsx(De,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:t("children")}),e.jsxs("p",{className:"text-xs",children:["2-12 ",t("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>0&&d.update(i=>{i.travelers_child=a-1,i.travelers_child_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:a===0,children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>{d.update(i=>{i.travelers_child=a+1,i.travelers_child_age.push("10")})},type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),(l==null?void 0:l.length)>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:l.map((i,n)=>e.jsxs("select",{className:"select select-xs w-full focus:outline-0 font-normal !text-xs rounded",defaultValue:i,onChange:s=>d.update(r=>{r.travelers_child_age[n]=s.target.value}),children:[e.jsxs("option",{value:"12",children:["12 ",t("years_old")]}),e.jsxs("option",{value:"11",children:["11 ",t("years_old")]}),e.jsxs("option",{value:"10",children:["10 ",t("years_old")]}),e.jsxs("option",{value:"9",children:["9 ",t("years_old")]}),e.jsxs("option",{value:"8",children:["8 ",t("years_old")]}),e.jsxs("option",{value:"7",children:["7 ",t("years_old")]}),e.jsxs("option",{value:"6",children:["6 ",t("years_old")]}),e.jsxs("option",{value:"5",children:["5 ",t("years_old")]}),e.jsxs("option",{value:"4",children:["4 ",t("years_old")]}),e.jsxs("option",{value:"3",children:["3 ",t("years_old")]}),e.jsxs("option",{value:"2",children:["2 ",t("years_old")]})]},n))})]})},ra=()=>{const{travelers_infants:a,travelers_infants_age:l}=d.useState(i=>i),{t}=A();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 infants-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"pb-3 text-xl text-neutral/70",children:[e.jsx("i",{className:"fa-solid fa-hands-holding-child"}),e.jsx("i",{className:"inline-block align-middle",children:e.jsx(_t,{})})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:t("infants")}),e.jsxs("p",{className:"text-xs",children:["<2 ",t("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>0&&d.update(i=>{i.travelers_infants=a-1,i.travelers_infants_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:a===0,children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>d.update(i=>{i.travelers_infants=a+1,i.travelers_infants_age.push("1")}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),(l==null?void 0:l.length)>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1",children:l.map((i,n)=>e.jsxs("select",{className:"select select-xs w-full focus:outline-0 font-normal !text-xs rounded",defaultValue:i,onChange:s=>d.update(r=>{r.travelers_infants_age[n]=s.target.value}),children:[e.jsxs("option",{value:"1",children:["1 ",t("year_old")]}),e.jsx("option",{value:"0",children:t("below_1_year")})]},n))})]})},qa=()=>{const[a,l]=j.useState(!1),t=j.useRef(),{travelers_adult:i,travelers_child:n,travelers_infants:s}=d.useState(c=>c),{t:r}=A(),p=i+n+s;return j.useEffect(()=>{const c=o=>{t.current&&!t.current.contains(o.target)&&l(!1)};return document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}},[]),e.jsxs("div",{ref:t,className:`relative passengerContainer group ${a?"active":""}`,children:[e.jsxs("button",{onClick:()=>l(!a),type:"button",className:"w-full px-4 py-2 text-xs rounded-xl hover:bg-neutral/10 text-start lg:text-sm",children:[p," ",p>1?r("Passengers"):r("Passenger"),e.jsx("i",{className:"ml-1 inline-flex align-middle items-center",children:a?e.jsx(Mt,{}):e.jsx(Pt,{})})]}),e.jsxs("div",{className:"absolute top-full right-0 z-10 w-64 min-w-full py-1 origin-['50%_0'] border rounded-lg mt-0.5 shadow-[0_4px_16px_0_rgba(69,88,115,.2)] max-w-max lists bg-base-200 transition-all scale-90 -translate-y-8 opacity-0 pointer-events-none group-[.active]:pointer-events-auto group-[.active]:scale-100 group-[.active]:translate-y-0 group-[.active]:opacity-100",style:{transition:"all .2s cubic-bezier(.5,0,0,1.25), opacity .15s ease-out"},children:[e.jsxs("div",{className:"p-5",children:[e.jsx(aa,{}),e.jsx(sa,{}),e.jsx(ra,{})]}),e.jsx("hr",{className:"mb-2"}),e.jsx("div",{className:"px-2",children:e.jsx("button",{onClick:()=>l(!1),type:"button",className:"w-full h-10 min-h-0 normal-case rounded-md btn btn-primary",children:r("apply")})})]})]})},Rt=({isActive:a,setIsActive:l,fieldName:t})=>{const{system_config:i}=U.useState(),[n,s]=j.useState({}),{axiosInstance:r}=ae(),{data:p=[]}=$(["AIRPORTS"],async()=>(await r.get("/tools/airport-autosuggetion-data")).data),[c,o]=j.useState({}),h=j.useRef();j.useEffect(()=>{var u;const m=((u=i==null?void 0:i.default_flight_suggetion)==null?void 0:u.reduce((g,v)=>({...g,[v.city_name]:g!=null&&g[v.city_name]?[...g[v.city_name],v]:[v]}),{}))||{};s(m)},[i==null?void 0:i.default_flight_suggetion]),j.useEffect(()=>{a?h.current&&h.current.focus():(o(n),h.current&&(h.current.value=""))},[a,n]);const y=m=>{t.name==="arrival_airport"?d.update(u=>{u.segment[t.index]={...u.segment[t.index],arrival_airport:m,arrival_airport_type:"AIRPORT"},u.segment[t.index+1]={...u.segment[t.index+1],departure_airport:m,departure_airport_type:"AIRPORT"},u.segment[t.index+1].departure_airport_type="AIRPORT"}):d.update(u=>{u.segment[t.index]={...u.segment[t.index],departure_airport:m,departure_airport_type:"AIRPORT"},u.segment[t.index][t.name]=m,u.segment[t.index].departure_airport_type="AIRPORT"}),l(!1)},f=m=>{t.name==="arrival_airport"?d.update(u=>{u.segment[t.index]={...u.segment[t.index],arrival_airport:m,arrival_airport_type:"CITY"},u.segment[t.index+1]={...u.segment[t.index+1],departure_airport:m,departure_airport_type:"CITY"},u.segment[t.index+1].departure_airport_type="CITY"}):d.update(u=>{u.segment[t.index]={...u.segment[t.index],departure_airport:m,departure_airport_type:"CITY"},u.segment[t.index][t.name]=m,u.segment[t.index].departure_airport_type="CITY"}),l(!1)},x=m=>{var g,v,O,C,W,T;const u=m.target.value.toLowerCase();if(u.trim().length>0){const P=[],Y=[],E=[],V=[],k=[],L=[];for(const b of p){const S=(g=b.city_code)==null?void 0:g.toLowerCase(),N=(v=b.code)==null?void 0:v.toLowerCase(),D=(O=b.airport_name)==null?void 0:O.toLowerCase(),I=(C=b.city_name)==null?void 0:C.toLowerCase(),_=(W=b.country_name)==null?void 0:W.toLowerCase(),M=(T=b.search_contents)==null?void 0:T.toLowerCase();S===u?P.push(b):N===u?Y.push(b):D.split(" ").some(z=>z.startsWith(u)||D.startsWith(u))?E.push(b):I!=null&&I.startsWith(u)?V.push(b):_!=null&&_.startsWith(u)?k.push(b):M.includes(u)&&L.push(b)}[P,Y,E,V,k,L].forEach(b=>b.sort((S,N)=>(S==null?void 0:S.priority)-(N==null?void 0:N.priority)));const R=P.concat(Y,E,V,k,L).slice(0,50),G={};R.forEach(b=>{G[b.city_name]=[...G[b.city_name]||[],b]}),o(G)}else o(n)};return e.jsxs(Q,{open:a,onOpenChange:l,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{})}),e.jsx(X,{align:"start",onClick:m=>m.stopPropagation(),asChild:!0,children:e.jsxs(ue,{className:"p-0 w-[350px] max-w-full",children:[e.jsx("input",{autoComplete:"off",ref:h,onChange:x,type:"search",className:"w-full pl-10 my-2 text-xs bg-transparent border-none outline-none",placeholder:"Airport code, city, name or country"}),e.jsx("span",{className:"absolute text-xs top-2 left-4",children:e.jsx(Te,{className:"inline"})}),e.jsx("hr",{}),e.jsx(Ge,{className:"overflow-auto text-xs max-h-64",children:Object.keys(c).length>0?Object.keys(c).map(m=>{const u=c[m];return u.length>1?e.jsxs("div",{className:"border-b",children:[e.jsxs(H,{onSelect:()=>f(u[0]),className:"flex gap-2 p-2 cursor-pointer",children:[e.jsx(Fe,{className:"text-lg"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex gap-2 text-xs",children:[e.jsx("span",{className:"font-medium text-primary",children:u[0].city_name}),e.jsx("span",{className:"text-neutral/80",children:u[0].city_code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:u[0].country_name})]})]}),u.map(g=>e.jsx(H,{onSelect:()=>y(g),className:"pl-6 cursor-pointer",children:e.jsxs("div",{className:"flex gap-2 py-2 pr-2 border-t border-primary/10",children:[e.jsx(re,{className:"text-base rotate-45"}),e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px] flex-1",children:[e.jsx("span",{children:g.airport_name}),e.jsx("span",{className:"text-neutral/80",children:g.code})]})]})},g.code))]},m):u.map(g=>e.jsxs(H,{onSelect:()=>y(g),className:"flex gap-2 p-2 border-b cursor-pointer border-primary/10",children:[e.jsx(re,{className:"text-lg rotate-45"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px]",children:[e.jsxs("span",{children:[g.city_name," - ",g.country_name]}),e.jsx("span",{className:"text-neutral",children:g.code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:g.airport_name})]})]},g.code))}):e.jsx("p",{className:"py-10 text-center text-error",children:"No result found"})})]})})]})};Rt.propTypes={isActive:w.bool.isRequired,setIsActive:w.func.isRequired,fieldName:w.object.isRequired};const oe=({label:a,fieldName:l,value:t})=>{const[i,n]=j.useState(!1),s=j.useRef(),{t:r}=A();return j.useEffect(()=>{const p=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}},[]),e.jsxs("div",{ref:s,className:`sb-input-container group ${i?"active":""}`,children:[e.jsx("label",{className:"sb-label",children:a}),e.jsx("input",{autoComplete:"off",onClick:()=>n(!0),type:"text",className:"sb-input",placeholder:r("select"),value:t,readOnly:!0}),e.jsx(Rt,{isActive:i,setIsActive:n,fieldName:l})]})};oe.propTypes={label:w.string.isRequired,fieldName:w.object.isRequired,value:w.string.isRequired};const xe=({label:a,defaultValue:l,minDate:t,action:i,...n})=>{const{journey_type:s}=d.useState(r=>r);return e.jsxs("div",{className:"sb-input-container",children:[e.jsx("label",{className:"sb-label",children:a}),e.jsx(Ye,{className:`sb-input ${a==="Return Date"&&s!=="RoundTrip"?"pointer-events-none opacity-50":"pointer-events-auto opacity-100 cursor-pointer"}`,defaultValue:ne(l).format("YYYY-MM-DD"),minDate:t,type:"text",action:i,placeholder:"mm/dd/yyyy",...n})]})};xe.propTypes={label:w.string.isRequired,defaultValue:w.string.isRequired,minDate:w.string.isRequired,action:w.func.isRequired};const Xa=()=>{var i,n,s,r,p;const{segment:a,journey_type:l}=d.useState(c=>c),{t}=A();return e.jsxs("div",{className:"grid-cols-1 gap-5 mb-4 sm:grid-cols-2 lg:grid-cols-5 one-way-round-trip grid",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-1 sm:grid-cols-2 sm:col-span-2 lg:col-span-3",children:[e.jsx(oe,{label:t("leaving_from"),fieldName:{name:"departure_airport",index:0},value:(i=a[0])!=null&&i.departure_airport?a[0].departure_airport_type==="AIRPORT"?`${a[0].departure_airport.code} - ${a[0].departure_airport.airport_name}`:`${a[0].departure_airport.city_code} - ${a[0].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{onClick:()=>d.update(c=>{c.segment[0].arrival_airport=a[0].departure_airport,c.segment[0].departure_airport=a[0].arrival_airport}),type:"button",className:"w-8 h-8 flex justify-center items-center absolute right-4 sm:left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white text-primary border border-neutral/20 rounded-[50%] shadow rotate-90 sm:rotate-0 z-[1]",disabled:!((n=a[0])!=null&&n.departure_airport)||!((s=a[0])!=null&&s.arrival_airport),children:e.jsx(je,{})}),e.jsx(oe,{label:t("going_to"),fieldName:{name:"arrival_airport",index:0},value:(r=a[0])!=null&&r.arrival_airport?a[0].arrival_airport_type==="AIRPORT"?`${a[0].arrival_airport.code} - ${a[0].arrival_airport.airport_name}`:`${a[0].arrival_airport.city_code} - ${a[0].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(xe,{label:t("departure_date"),minDate:"today",defaultValue:a[0].departure_date||ne().format("YYYY-MM-DD"),action:async c=>{var o,h;await d.update(y=>{y.segment[0].departure_date=c}),l==="RoundTrip"&&((h=(o=document.getElementById("_return_date"))==null?void 0:o.nextElementSibling)==null||h.click())}}),e.jsx(xe,{label:t("return_date"),defaultValue:((p=a[0])==null?void 0:p.arrival_date)||null,minDate:a[0].departure_date||"today",action:c=>{d.update(o=>{o.segment[0].arrival_date=c})},id:"_return_date"})]})},Ka=()=>{const{flight_count:a,segment:l}=d.useState(n=>n),{t}=A(),i=n=>{a>2&&d.update(s=>{s.flight_count=a-1,s.segment=l.filter((r,p)=>p!==n)})};return e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{type:"button",onClick:()=>d.update(n=>{n.flight_count=a+1,n.segment.length<a&&n.segment.push({departure_airport:n.segment.at(-1).departure_airport,departure_airport_type:n.segment.at(-1).departure_airport_type,arrival_airport:null,arrival_airport_type:"",departure_date:"",return_date:""})}),className:"normal-case btn btn-sm btn-primary btn-outline",children:["+ ",t("add_flight")]})}),e.jsx("div",{className:"flex flex-col gap-5 multi-flight",children:Array(a).fill("").map((n,s)=>{var r,p,c,o,h,y;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"grid w-full grid-cols-1 gap-5 md:grid-cols-4",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-1 md:col-span-3 md:grid-cols-2",children:[e.jsx(oe,{label:t("leaving_from"),fieldName:{name:"departure_airport",index:s},value:(r=l[s])!=null&&r.departure_airport?l[s].departure_airport_type==="AIRPORT"?`${l[s].departure_airport.code} - ${l[s].departure_airport.airport_name}`:`${l[s].departure_airport.city_code} - ${l[s].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{type:"button",onClick:()=>d.update(f=>{f.segment[s].arrival_airport=l[s].departure_airport,f.segment[s].departure_airport=l[s].arrival_airport}),className:"w-8 h-8 flex justify-center items-center absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-base-200 shadow text-primary border border-neutral/20 rounded-[50%] rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((p=l[s])!=null&&p.departure_airport)||!((c=l[s])!=null&&c.arrival_airport),children:e.jsx(je,{})}),e.jsx(oe,{label:t("going_to"),fieldName:{name:"arrival_airport",index:s},value:(o=l[s])!=null&&o.arrival_airport?l[s].arrival_airport_type==="AIRPORT"?`${l[s].arrival_airport.code} - ${l[s].arrival_airport.airport_name}`:`${l[s].arrival_airport.city_code} - ${l[s].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(xe,{label:t("departure_date"),minDate:(h=l[s-1])!=null&&h.departure_date?l[s-1].departure_date:"today",defaultValue:((y=l[s])==null?void 0:y.departure_date)||new Date().toDateString(),action:f=>{var x;d.update(m=>{m.segment[s].departure_date=f}),(x=l[s])!=null&&x.arrival_date&&new Date(f)>new Date(l[s].arrival_date)&&d.update(m=>{m.segment[s].arrival_date=""})}})]}),e.jsx("button",{type:"button",onClick:()=>i(s),className:"text-xl text-neutral/90 ms-1 removeBtn disabled:opacity-30",disabled:a<3,children:e.jsx("i",{children:e.jsx(Ct,{})})})]},pe())})})]})};var kt={exports:{}},ge={};Object.defineProperty(ge,"__esModule",{value:!0});var ce,Ae=j,F=(ce=Ae)&&typeof ce=="object"&&"default"in ce?ce.default:ce;function It(a,l){return(It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(a,l)}function B(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(function(a,l){l===void 0&&(l={});var t=l.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a))}})('.multiSelectContainer,.multiSelectContainer *,.multiSelectContainer :after,.multiSelectContainer :before{box-sizing:border-box}.multiSelectContainer{position:relative;text-align:left;width:100%}.disable_ms{opacity:.5;pointer-events:none}.display-none{display:none}.searchWrapper{border:1px solid #ccc;border-radius:4px;min-height:22px;padding:5px;position:relative}.multiSelectContainer input{background:transparent;border:none;margin-top:3px}.multiSelectContainer input:focus{outline:none}.chip{align-items:center;background:#0096fb;border-radius:11px;color:#fff;display:inline-flex;font-size:13px;line-height:19px;margin-bottom:5px;margin-right:5px;padding:4px 10px}.chip,.singleChip{white-space:nowrap}.singleChip{background:none;border-radius:none;color:inherit}.singleChip i{display:none}.closeIcon{cursor:pointer;float:right;height:13px;margin-left:5px;width:13px}.optionListContainer{background:#fff;border-radius:4px;margin-top:1px;position:absolute;width:100%;z-index:2}.multiSelectContainer ul{border:1px solid #ccc;border-radius:4px;display:block;margin:0;max-height:250px;overflow-y:auto;padding:0}.multiSelectContainer li{padding:10px}.multiSelectContainer li:hover{background:#0096fb;color:#fff;cursor:pointer}.checkbox{margin-right:10px}.disableSelection{opacity:.5;pointer-events:none}.highlightOption{background:#0096fb;color:#fff}.displayBlock{display:block}.displayNone{display:none}.notFound{display:block;padding:10px}.singleSelect{padding-right:20px}li.groupHeading{color:#908e8e;padding:5px 15px;pointer-events:none}li.groupChildEle{padding-left:30px}.icon_down_dir{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:14px}.icon_down_dir:before{content:"\\e803"}.custom-close{display:flex}');var bt={circle:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M256%2C33C132.3%2C33%2C32%2C133.3%2C32%2C257c0%2C123.7%2C100.3%2C224%2C224%2C224c123.7%2C0%2C224-100.3%2C224-224C480%2C133.3%2C379.7%2C33%2C256%2C33z%20%20%20%20M364.3%2C332.5c1.5%2C1.5%2C2.3%2C3.5%2C2.3%2C5.6c0%2C2.1-0.8%2C4.2-2.3%2C5.6l-21.6%2C21.7c-1.6%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3L256%2C289.8%20%20%20l-75.4%2C75.7c-1.5%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3l-21.6-21.7c-1.5-1.5-2.3-3.5-2.3-5.6c0-2.1%2C0.8-4.2%2C2.3-5.6l75.7-76%20%20%20l-75.9-75c-3.1-3.1-3.1-8.2%2C0-11.3l21.6-21.7c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l75.7%2C74.7l75.7-74.7%20%20%20c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l21.6%2C21.7c3.1%2C3.1%2C3.1%2C8.2%2C0%2C11.3l-75.9%2C75L364.3%2C332.5z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",circle2:"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2096%2096%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M48%2C0A48%2C48%2C0%2C1%2C0%2C96%2C48%2C48.0512%2C48.0512%2C0%2C0%2C0%2C48%2C0Zm0%2C84A36%2C36%2C0%2C1%2C1%2C84%2C48%2C36.0393%2C36.0393%2C0%2C0%2C1%2C48%2C84Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M64.2422%2C31.7578a5.9979%2C5.9979%2C0%2C0%2C0-8.4844%2C0L48%2C39.5156l-7.7578-7.7578a5.9994%2C5.9994%2C0%2C0%2C0-8.4844%2C8.4844L39.5156%2C48l-7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C1%2C0%2C8.4844%2C8.4844L48%2C56.4844l7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C0%2C0%2C8.4844-8.4844L56.4844%2C48l7.7578-7.7578A5.9979%2C5.9979%2C0%2C0%2C0%2C64.2422%2C31.7578Z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",close:"data:image/svg+xml,%3Csvg%20height%3D%22135.467mm%22%20style%3D%22shape-rendering%3AgeometricPrecision%3B%20text-rendering%3AgeometricPrecision%3B%20image-rendering%3AoptimizeQuality%3B%20fill-rule%3Aevenodd%3B%20clip-rule%3Aevenodd%22%20viewBox%3D%220%200%2013547%2013547%22%20width%3D%22135.467mm%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20%20%20%20%20.fil0%20%7Bfill%3Anone%7D%20%20%20%20%20%20%20%20%20%20%20%20.fil1%20%7Bfill%3A%23fff%7D%20%20%20%20%20%20%20%20%3C%2Fstyle%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Ebene_x0020_1%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20class%3D%22fil0%22%20points%3D%220%2C0%2013547%2C0%2013547%2C13547%200%2C13547%20%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22fil1%22%20d%3D%22M714%2012832l12118%200%200%20-12117%20-12118%200%200%2012117zm4188%20-2990l1871%20-1871%201871%201871%201197%20-1197%20-1871%20-1871%201871%20-1871%20-1197%20-1197%20-1871%201871%20-1871%20-1871%20-1197%201197%201871%201871%20-1871%201871%201197%201197z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",cancel:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E"};function na(a){var l,t,i=Ae.useRef(null);return t=a.outsideClick,Ae.useEffect(function(){function n(s){l.current&&!l.current.contains(s.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[l=i]),F.createElement("div",{ref:i},a.children)}var Ce=function(a){var l,t;function i(s){var r;return(r=a.call(this,s)||this).state={inputValue:"",options:s.options,filteredOptions:s.options,unfilteredOptions:s.options,selectedValues:Object.assign([],s.selectedValues),preSelectedValues:Object.assign([],s.selectedValues),toggleOptionsList:!1,highlightOption:s.avoidHighlightFirstOption?-1:0,showCheckbox:s.showCheckbox,keepSearchTerm:s.keepSearchTerm,groupedObject:[],closeIconType:bt[s.closeIcon]||bt.circle},r.optionTimeout=null,r.searchWrapper=F.createRef(),r.searchBox=F.createRef(),r.onChange=r.onChange.bind(B(r)),r.onKeyPress=r.onKeyPress.bind(B(r)),r.onFocus=r.onFocus.bind(B(r)),r.onBlur=r.onBlur.bind(B(r)),r.renderMultiselectContainer=r.renderMultiselectContainer.bind(B(r)),r.renderSelectedList=r.renderSelectedList.bind(B(r)),r.onRemoveSelectedItem=r.onRemoveSelectedItem.bind(B(r)),r.toggelOptionList=r.toggelOptionList.bind(B(r)),r.onArrowKeyNavigation=r.onArrowKeyNavigation.bind(B(r)),r.onSelectItem=r.onSelectItem.bind(B(r)),r.filterOptionsByInput=r.filterOptionsByInput.bind(B(r)),r.removeSelectedValuesFromOptions=r.removeSelectedValuesFromOptions.bind(B(r)),r.isSelectedValue=r.isSelectedValue.bind(B(r)),r.fadeOutSelection=r.fadeOutSelection.bind(B(r)),r.isDisablePreSelectedValues=r.isDisablePreSelectedValues.bind(B(r)),r.renderGroupByOptions=r.renderGroupByOptions.bind(B(r)),r.renderNormalOption=r.renderNormalOption.bind(B(r)),r.listenerCallback=r.listenerCallback.bind(B(r)),r.resetSelectedValues=r.resetSelectedValues.bind(B(r)),r.getSelectedItems=r.getSelectedItems.bind(B(r)),r.getSelectedItemsCount=r.getSelectedItemsCount.bind(B(r)),r.hideOnClickOutside=r.hideOnClickOutside.bind(B(r)),r.onCloseOptionList=r.onCloseOptionList.bind(B(r)),r.isVisible=r.isVisible.bind(B(r)),r}t=a,(l=i).prototype=Object.create(t.prototype),l.prototype.constructor=l,It(l,t);var n=i.prototype;return n.initialSetValue=function(){var s=this.props,r=s.groupBy,p=this.state.options;s.showCheckbox||s.singleSelect||this.removeSelectedValuesFromOptions(!1),r&&this.groupByOptions(p)},n.resetSelectedValues=function(){var s=this,r=this.state.unfilteredOptions;return new Promise(function(p){s.setState({selectedValues:[],preSelectedValues:[],options:r,filteredOptions:r},function(){p(),s.initialSetValue()})})},n.getSelectedItems=function(){return this.state.selectedValues},n.getSelectedItemsCount=function(){return this.state.selectedValues.length},n.componentDidMount=function(){this.initialSetValue(),this.searchWrapper.current.addEventListener("click",this.listenerCallback)},n.componentDidUpdate=function(s){var r=this.props,p=r.options,c=r.selectedValues,o=s.selectedValues;JSON.stringify(s.options)!==JSON.stringify(p)&&this.setState({options:p,filteredOptions:p,unfilteredOptions:p},this.initialSetValue),JSON.stringify(o)!==JSON.stringify(c)&&this.setState({selectedValues:Object.assign([],c),preSelectedValues:Object.assign([],c)},this.initialSetValue)},n.listenerCallback=function(){this.searchBox.current.focus()},n.componentWillUnmount=function(){this.optionTimeout&&clearTimeout(this.optionTimeout),this.searchWrapper.current.removeEventListener("click",this.listenerCallback)},n.removeSelectedValuesFromOptions=function(s){var r=this.props,p=r.isObject,c=r.displayValue,o=r.groupBy,h=this.state,y=h.selectedValues,f=y===void 0?[]:y,x=h.unfilteredOptions;if(!s&&o&&this.groupByOptions(h.options),f.length||s){if(p){var m=x.filter(function(g){return f.findIndex(function(v){return v[c]===g[c]})===-1});return o&&this.groupByOptions(m),void this.setState({options:m,filteredOptions:m},this.filterOptionsByInput)}var u=x.filter(function(g){return f.indexOf(g)===-1});this.setState({options:u,filteredOptions:u},this.filterOptionsByInput)}},n.groupByOptions=function(s){var r=this.props.groupBy,p=s.reduce(function(c,o){var h=o[r]||"Others";return c[h]=c[h]||[],c[h].push(o),c},Object.create({}));this.setState({groupedObject:p})},n.onChange=function(s){var r=this.props.onSearch;this.setState({inputValue:s.target.value},this.filterOptionsByInput),r&&r(s.target.value)},n.onKeyPress=function(s){var r=this.props.onKeyPressFn;r&&r(s,s.target.value)},n.filterOptionsByInput=function(){var s,r=this,p=this.state,c=p.inputValue,o=this.props,h=o.displayValue;s=p.filteredOptions.filter(o.isObject?function(y){return r.matchValues(y[h],c)}:function(y){return r.matchValues(y,c)}),this.groupByOptions(s),this.setState({options:s})},n.matchValues=function(s,r){return this.props.caseSensitiveSearch?s.indexOf(r)>-1:s.toLowerCase?s.toLowerCase().indexOf(r.toLowerCase())>-1:s.toString().indexOf(r)>-1},n.onArrowKeyNavigation=function(s){var r=this.state,p=r.options,c=r.highlightOption,o=r.toggleOptionsList,h=r.selectedValues;if(s.keyCode!==8||r.inputValue||this.props.disablePreSelectedValues||!h.length||this.onRemoveSelectedItem(h.length-1),p.length){if(s.keyCode===38)this.setState(c>0?function(y){return{highlightOption:y.highlightOption-1}}:{highlightOption:p.length-1});else if(s.keyCode===40)this.setState(c<p.length-1?function(y){return{highlightOption:y.highlightOption+1}}:{highlightOption:0});else if(s.key==="Enter"&&p.length&&o){if(c===-1)return;this.onSelectItem(p[c])}}},n.onRemoveSelectedItem=function(s){var r,p=this,c=this.state.selectedValues,o=this.props,h=o.onRemove,y=o.showCheckbox,f=o.displayValue;r=o.isObject?c.findIndex(function(x){return x[f]===s[f]}):c.indexOf(s),c.splice(r,1),h(c,s),this.setState({selectedValues:c},function(){y||p.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus()},n.onSelectItem=function(s){var r=this,p=this.state.selectedValues,c=this.props,o=c.selectionLimit,h=c.onSelect,y=c.singleSelect,f=c.showCheckbox;if(this.state.keepSearchTerm||this.setState({inputValue:""}),y)return this.onSingleSelect(s),void h([s],s);this.isSelectedValue(s)?this.onRemoveSelectedItem(s):o!=p.length&&(p.push(s),h(p,s),this.setState({selectedValues:p},function(){f?r.filterOptionsByInput():r.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus())},n.onSingleSelect=function(s){this.setState({selectedValues:[s],toggleOptionsList:!1})},n.isSelectedValue=function(s){var r=this.props,p=r.displayValue,c=this.state.selectedValues;return r.isObject?c.filter(function(o){return o[p]===s[p]}).length>0:c.filter(function(o){return o===s}).length>0},n.renderOptionList=function(){var s=this.props,r=s.groupBy,p=s.style,c=s.emptyRecordMsg,o=s.loadingMessage,h=o===void 0?"loading...":o,y=this.state.options;return s.loading?F.createElement("ul",{className:"optionContainer",style:p.optionContainer},typeof h=="string"&&F.createElement("span",{style:p.loadingMessage,className:"notFound"},h),typeof h!="string"&&h):F.createElement("ul",{className:"optionContainer",style:p.optionContainer},y.length===0&&F.createElement("span",{style:p.notFound,className:"notFound"},c),r?this.renderGroupByOptions():this.renderNormalOption())},n.renderGroupByOptions=function(){var s=this,r=this.props,p=r.isObject,c=p!==void 0&&p,o=r.displayValue,h=r.showCheckbox,y=r.style,f=r.singleSelect,x=this.state.groupedObject;return Object.keys(x).map(function(m){return F.createElement(F.Fragment,{key:m},F.createElement("li",{className:"groupHeading",style:y.groupHeading},m),x[m].map(function(u,g){var v=s.isSelectedValue(u);return F.createElement("li",{key:"option"+g,style:y.option,className:"groupChildEle option "+(v?"selected":"")+" "+(s.fadeOutSelection(u)?"disableSelection":"")+" "+(s.isDisablePreSelectedValues(u)?"disableSelection":""),onClick:function(){return s.onSelectItem(u)}},h&&!f&&F.createElement("input",{type:"checkbox",className:"checkbox",readOnly:!0,checked:v}),s.props.optionValueDecorator(c?u[o]:(u||"").toString(),u))}))})},n.renderNormalOption=function(){var s=this,r=this.props,p=r.isObject,c=p!==void 0&&p,o=r.displayValue,h=r.showCheckbox,y=r.style,f=r.singleSelect,x=this.state.highlightOption;return this.state.options.map(function(m,u){var g=s.isSelectedValue(m);return F.createElement("li",{key:"option"+u,style:y.option,className:"option "+(g?"selected":"")+" "+(x===u?"highlightOption highlight":"")+" "+(s.fadeOutSelection(m)?"disableSelection":"")+" "+(s.isDisablePreSelectedValues(m)?"disableSelection":""),onClick:function(){return s.onSelectItem(m)}},h&&!f&&F.createElement("input",{type:"checkbox",readOnly:!0,className:"checkbox",checked:g}),s.props.optionValueDecorator(c?m[o]:(m||"").toString(),m))})},n.renderSelectedList=function(){var s=this,r=this.props,p=r.isObject,c=p!==void 0&&p,o=r.displayValue,h=r.style,y=r.singleSelect,f=r.customCloseIcon,x=this.state,m=x.closeIconType;return x.selectedValues.map(function(u,g){return F.createElement("span",{className:"chip  "+(y&&"singleChip")+" "+(s.isDisablePreSelectedValues(u)&&"disableSelection"),key:g,style:h.chips},s.props.selectedValueDecorator(c?u[o]:(u||"").toString(),u),!s.isDisablePreSelectedValues(u)&&(f?F.createElement("i",{className:"custom-close",onClick:function(){return s.onRemoveSelectedItem(u)}},f):F.createElement("img",{className:"icon_cancel closeIcon",src:m,onClick:function(){return s.onRemoveSelectedItem(u)}})))})},n.isDisablePreSelectedValues=function(s){var r=this.props,p=r.displayValue,c=this.state.preSelectedValues;return!(!r.disablePreSelectedValues||!c.length)&&(r.isObject?c.filter(function(o){return o[p]===s[p]}).length>0:c.filter(function(o){return o===s}).length>0)},n.fadeOutSelection=function(s){var r=this.props,p=r.selectionLimit;if(!r.singleSelect){var c=this.state.selectedValues;return p!=-1&&p==c.length&&(p==c.length?!r.showCheckbox||!this.isSelectedValue(s):void 0)}},n.toggelOptionList=function(){this.setState({toggleOptionsList:!this.state.toggleOptionsList,highlightOption:this.props.avoidHighlightFirstOption?-1:0})},n.onCloseOptionList=function(){this.setState({toggleOptionsList:!1,highlightOption:this.props.avoidHighlightFirstOption?-1:0,inputValue:""})},n.onFocus=function(){this.state.toggleOptionsList?clearTimeout(this.optionTimeout):this.toggelOptionList()},n.onBlur=function(){this.setState({inputValue:""},this.filterOptionsByInput),this.optionTimeout=setTimeout(this.onCloseOptionList,250)},n.isVisible=function(s){return!!s&&!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},n.hideOnClickOutside=function(){var s=this,r=document.getElementsByClassName("multiselect-container")[0];document.addEventListener("click",function(p){r&&!r.contains(p.target)&&s.isVisible(r)&&s.toggelOptionList()})},n.renderMultiselectContainer=function(){var s=this.state,r=s.inputValue,p=s.toggleOptionsList,c=s.selectedValues,o=this.props,h=o.placeholder,y=o.style,f=o.singleSelect,x=o.id,m=o.name,u=o.hidePlaceholder,g=o.disable,v=o.showArrow,O=o.customArrow;return F.createElement("div",{className:"multiselect-container multiSelectContainer "+(g?"disable_ms":"")+" "+(o.className||""),id:x||"multiselectContainerReact",style:y.multiselectContainer},F.createElement("div",{className:"search-wrapper searchWrapper "+(f?"singleSelect":""),ref:this.searchWrapper,style:y.searchBox,onClick:f?this.toggelOptionList:function(){}},!o.hideSelectedList&&this.renderSelectedList(),F.createElement("input",{type:"text",ref:this.searchBox,className:"searchBox "+(f&&c.length?"display-none":""),id:(x||"search")+"_input",name:(m||"search_name")+"_input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:r,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:f&&c.length||u&&c.length?"":h,onKeyDown:this.onArrowKeyNavigation,style:y.inputField,autoComplete:"off",disabled:f||g}),(f||v)&&F.createElement(F.Fragment,null,O?F.createElement("span",{className:"icon_down_dir"},O):F.createElement("img",{src:"data:image/svg+xml,%3Csvg%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20width%3D%2232%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cg%20id%3D%22background%22%3E%20%20%20%20%20%20%20%20%3Crect%20fill%3D%22none%22%20height%3D%2232%22%20width%3D%2232%22%2F%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cg%20id%3D%22arrow_x5F_down%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20points%3D%222.002%2C10%2016.001%2C24%2030.002%2C10%20%20%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",className:"icon_cancel icon_down_dir"}))),F.createElement("div",{className:"optionListContainer "+(p?"displayBlock":"displayNone"),onMouseDown:function(C){C.preventDefault()}},this.renderOptionList()))},n.render=function(){return F.createElement(na,{outsideClick:this.onCloseOptionList},this.renderMultiselectContainer())},i}(F.Component);Ce.defaultProps={options:[],disablePreSelectedValues:!1,selectedValues:[],isObject:!0,displayValue:"model",showCheckbox:!1,selectionLimit:-1,placeholder:"Select",groupBy:"",style:{},emptyRecordMsg:"No Options Available",onSelect:function(){},onRemove:function(){},onKeyPressFn:function(){},closeIcon:"circle2",singleSelect:!1,caseSensitiveSearch:!1,id:"",name:"",closeOnSelect:!0,avoidHighlightFirstOption:!1,hidePlaceholder:!1,showArrow:!1,keepSearchTerm:!1,customCloseIcon:"",className:"",customArrow:void 0,selectedValueDecorator:function(a){return a},optionValueDecorator:function(a){return a}},ge.Multiselect=Ce,ge.default=Ce;kt.exports=ge;var ia=kt.exports;const la=Bt(ia),ze=({data:a,defaultValue:l,className:t,placeholder:i,action:n,singleSelect:s=!1})=>e.jsx(la,{options:a,selectedValues:l,displayValue:"label",className:t,placeholder:i,singleSelect:s,avoidHighlightFirstOption:!0,selectedValueDecorator:r=>{var p;return(p=a.find(c=>c.label===r))==null?void 0:p.value},onSelect:r=>n(r),onRemove:r=>n(r),style:{chips:{background:"hsl(var(--p) / 1)"},multiselectContainer:{color:"hsl(var(--n) / 1)"},searchBox:{border:"none",borderRadius:"0px",padding:"0px"}}});ze.propTypes={data:w.array.isRequired,defaultValue:w.array,className:w.string.isRequired,placeholder:w.string,action:w.func.isRequired,singleSelect:w.bool};const es=()=>{const[a,l]=j.useState([]),{preferred_carrier:t}=d.useState(n=>n),{t:i}=A();return j.useEffect(()=>{const n=window.location.origin;be.get(`${n}/airlines_list.json`).then(s=>{const r=Object.keys(s.data.data).map(p=>{const{iata_code:c,airline_name:o}=s.data.data[p];return{label:`${o} (${c})`,value:c}});l(r)})},[]),e.jsx(ze,{data:a,className:"px-4 py-2 font-medium rounded-lg outline-none bg-neutral/5 placeholder:text-neutral/50",placeholder:i("preferred_carrier"),defaultValue:t,action:n=>d.update(s=>{s.preferred_carrier=n})})},ca=[{id:1,name:"Any Flight",value:"any"},{id:2,name:"Non-Stop",value:"non-stop"}],ts=()=>{const{non_stop_flight:a}=d.useState(t=>t),{t:l}=A();return e.jsx(Ve,{items:ca.map(t=>({...t,name:l(`flightOptions.${t.value}`)})),selectedItem:l(`flightOptions.${a}`),action:t=>d.update(i=>{i.non_stop_flight=t})})},jt=[{id:1,name:"One-way",value:"OneWay",icon:e.jsx(Be,{})},{id:2,name:"Round-trip",value:"RoundTrip",icon:e.jsx(Le,{})},{id:3,name:"Multi-city",value:"MultiCity",icon:e.jsx(Me,{})}],as=()=>{const{journey_type:a}=d.useState(t=>t),{t:l}=A();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-sm:hidden",children:e.jsx(Xt,{items:jt.map(t=>({...t,name:l(`${t.value}`)})),activeTab:a,action:t=>d.update(i=>{i.journey_type=t})})}),e.jsx("div",{className:"hidden max-sm:block",children:e.jsx(Ve,{items:jt.map(t=>({...t,name:l(`${t.value}`)})),selectedItem:l(`${a}`),action:t=>d.update(i=>{i.journey_type=t})})})]})},oa=[{id:0,name:"Any Class",value:"any"},{id:1,name:"Economy",value:"Economy"},{id:2,name:"Premium Economy",value:"Premium-Economy"},{id:3,name:"Business Class",value:"Business"},{id:4,name:"First Class",value:"First-Class"}],ss=()=>{const{booking_class:a}=d.useState(t=>t),{t:l}=A();return e.jsx(Ve,{items:oa.map(t=>({...t,name:l("booking_classes."+t.value)})),selectedItem:l("booking_classes."+a),action:t=>d.update(i=>{i.booking_class=t})})},da=pe(),rs=()=>{var P,Y;const{axiosInstance:a}=ae(),{login_required:l}=U.useState(),{journey_type:t,segment:i,preferred_carrier:n,...s}=d.useState(E=>E),{login_key:r,member_id:p}=((Y=(P=Re)==null?void 0:P.useState())==null?void 0:Y.user_data)||{},c=d.useState(),{t:o}=A(),{data:h={}}=$({queryKey:["PARTNER_PROFILE",r,p],enabled:l==="yes"||!!r,queryFn:async()=>{var V,k;const E=await a.post("/settings/partner-profile",{login_key:r,member_id:p});if(((V=E==null?void 0:E.data)==null?void 0:V.status)==="success")return E.data;throw{...E,message:((k=E.data)==null?void 0:k.reason)||"Request failed!"}}}),{legal_name:y,contact_person_name:f,isd_code:x,contact_number:m,company_type:u,city:g,state:v,address:O,country:C}=(h==null?void 0:h.partner_profile)||{},W=!!(y&&f&&x&&m&&u&&g&&v&&O&&C),T=async()=>{var E,V,k,L;if(l==="yes"&&W===!1){ke.error(e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Please update your partner profile first"}),e.jsx(Pe,{to:"/settings/profile",className:"font-normal text-white normal-case btn btn-xs btn-error",children:"Update"})]}),{toastId:da,closeOnClick:!1});return}yt.update(R=>{R.isActive=!0,R.service_type="flight"});try{const R=i.map(S=>{var N,D,I,_;return{...S,departure_airport:S.departure_airport_type==="AIRPORT"?(N=S.departure_airport)==null?void 0:N.code:(D=S.departure_airport)==null?void 0:D.city_code,arrival_airport:S.arrival_airport_type==="AIRPORT"?(I=S.arrival_airport)==null?void 0:I.code:(_=S.arrival_airport)==null?void 0:_.city_code}}),G={...s,journey_type:t,segment:t==="MultiCity"?R.filter(S=>!!S.arrival_airport):R.slice(0,1),preferred_carrier:n.map(S=>S.value),version:1},b=await a.post(`/flight/search?login_required=${l}`,G);if(((E=b==null?void 0:b.data)==null?void 0:E.status)==="success"){const S=localStorage.getItem("flightRecentSearch"),N=JSON.parse(S)||[];if(N.some(D=>JSON.stringify(D)===JSON.stringify(c))===!1){const D=[c,...N.slice(0,9)];localStorage.setItem("flightRecentSearch",JSON.stringify(D))}se.update(()=>se._getInitialState()),window.open(`/flight/search?tracking_id=${b.data.tracking_id}`,"_self")}else throw new Error(((V=b==null?void 0:b.data)==null?void 0:V.reason)||((L=(k=b==null?void 0:b.response)==null?void 0:k.data)==null?void 0:L.message))}catch(R){Ie("error","Failed",R.message)}finally{yt.update(R=>{R.isActive=!1})}};return e.jsx(e.Fragment,{children:e.jsxs("button",{type:"button",onClick:T,id:"flight_search_button",className:"btn btn-primary sm:absolute top-full left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:active:!-translate-x-1/2 sm:active:!-translate-y-1/2 sm:active:scale-95 !animate-none normal-case font-normal flex-nowrap max-sm:w-full",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 25 24",fill:"currentColor",className:"text-xl max-sm:hidden",children:e.jsx("path",{d:"M11.1241 0.213867C13.1191 0.213737 15.0737 0.761183 16.7645 1.79355C18.4552 2.82593 19.8137 4.30151 20.6844 6.05144C21.5551 7.80137 21.9029 9.75495 21.688 11.6886C21.473 13.6222 20.7041 15.4578 19.4691 16.9853L24.0341 21.4359C24.2618 21.6658 24.3878 21.9736 24.3849 22.2931C24.3821 22.6127 24.2506 22.9183 24.0189 23.1443C23.7871 23.3702 23.4736 23.4984 23.1458 23.5012C22.8181 23.5039 22.5023 23.3811 22.2666 23.1591L17.7016 18.7085C16.3709 19.7309 14.8087 20.4283 13.1454 20.7424C11.482 21.0565 9.76575 20.9782 8.13974 20.5141C6.51373 20.05 5.02513 19.2135 3.79814 18.0745C2.57115 16.9354 1.64136 15.5268 1.08632 13.9661C0.531283 12.4055 0.367105 10.738 0.607482 9.10295C0.847858 7.46785 1.48582 5.91251 2.46814 4.56668C3.45046 3.22085 4.74866 2.12356 6.25442 1.36636C7.76018 0.609162 9.42984 0.214008 11.1241 0.213867ZM11.1241 2.65122C8.96921 2.65122 6.90259 3.48579 5.37885 4.97134C3.85512 6.4569 2.9991 8.47173 2.9991 10.5726C2.9991 12.6735 3.85512 14.6883 5.37885 16.1739C6.90259 17.6594 8.96921 18.494 11.1241 18.494C13.279 18.494 15.3456 17.6594 16.8693 16.1739C18.3931 14.6883 19.2491 12.6735 19.2491 10.5726C19.2491 8.47173 18.3931 6.4569 16.8693 4.97134C15.3456 3.48579 13.279 2.65122 11.1241 2.65122ZM11.1241 3.8699C12.9475 3.8699 14.6961 4.57608 15.9855 5.83308C17.2748 7.09008 17.9991 8.79495 17.9991 10.5726C17.9991 12.3503 17.2748 14.0552 15.9855 15.3122C14.6961 16.5692 12.9475 17.2753 11.1241 17.2753C9.30073 17.2753 7.55205 16.5692 6.26274 15.3122C4.97342 14.0552 4.2491 12.3503 4.2491 10.5726C4.2491 8.79495 4.97342 7.09008 6.26274 5.83308C7.55205 4.57608 9.30073 3.8699 11.1241 3.8699Z"})})," ",e.jsx("span",{className:"uppercase",children:o("search")})]})})},pa=()=>{const{travelers_adult:a}=d.useState(t=>t),{t:l}=A();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg text text-neutral/70",children:e.jsx("i",{className:"inline-block alight-middle",children:e.jsx(Ee,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:l("adults")}),e.jsxs("p",{className:"text-[10px] text-neutral leading-3",children:[">12 ",l("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>1&&d.update(t=>{t.travelers_adult=a-1})},type:"button",disabled:a===1,className:"rounded minusBtn btn btn-xs btn-primary",children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>d.update(t=>{t.travelers_adult=a+1}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]})})},ua=()=>{const{travelers_child:a,travelers_child_age:l}=d.useState(i=>i),{t}=A();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1 child-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg text-neutral/70",children:e.jsx("i",{className:"inline-block align-middle",children:e.jsx(De,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:t("children")}),e.jsxs("p",{className:"text-[10px] leading-3 text-neutral",children:["2-12 ",t("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>0&&d.update(i=>{i.travelers_child=a-1,i.travelers_child_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:a===0,children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>{d.update(i=>{i.travelers_child=a+1,i.travelers_child_age.push("10")})},type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),(l==null?void 0:l.length)>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1.5 mb-2",children:l.map((i,n)=>e.jsxs("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:i,onChange:s=>d.update(r=>{r.travelers_child_age[n]=s.target.value}),children:[e.jsxs("option",{value:"12",children:["12 ",t("years_old")]}),e.jsxs("option",{value:"11",children:["11 ",t("years_old")]}),e.jsxs("option",{value:"10",children:["10 ",t("years_old")]}),e.jsxs("option",{value:"9",children:["9 ",t("years_old")]}),e.jsxs("option",{value:"8",children:["8 ",t("years_old")]}),e.jsxs("option",{value:"7",children:["7 ",t("years_old")]}),e.jsxs("option",{value:"6",children:["6 ",t("years_old")]}),e.jsxs("option",{value:"5",children:["5 ",t("years_old")]}),e.jsxs("option",{value:"4",children:["4 ",t("years_old")]}),e.jsxs("option",{value:"3",children:["3 ",t("years_old")]}),e.jsxs("option",{value:"2",children:["2 ",t("years_old")]})]},n))})]})},ha=()=>{const{travelers_infants:a,travelers_infants_age:l}=d.useState(i=>i),{t}=A();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 infants-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg text-neutral/70",children:[e.jsx("i",{className:"fa-solid fa-hands-holding-child"}),e.jsx("i",{className:"inline-block align-middle",children:e.jsx(_t,{})})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:t("infants")}),e.jsxs("p",{className:"text-[10px] leading-3 text-neutral",children:["<2 ",t("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>0&&d.update(i=>{i.travelers_infants=a-1,i.travelers_infants_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:a===0,children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>d.update(i=>{i.travelers_infants=a+1,i.travelers_infants_age.push("1")}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),(l==null?void 0:l.length)>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1.5",children:l.map((i,n)=>e.jsxs("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:i,onChange:s=>d.update(r=>{r.travelers_infants_age[n]=s.target.value}),children:[e.jsxs("option",{value:"1",children:["1 ",t("year_old")]}),e.jsx("option",{value:"0",children:t("below_1_year")})]},n))})]})},ma=()=>{const{flight:a}=U.useState(y=>y.component_version)||{},{travelers_adult:l,travelers_adult_age:t,travelers_child:i,travelers_child_age:n,travelers_infants:s,travelers_infants_age:r}=d.useState(y=>y),{axiosInstance:p}=ae(),{data:c,isLoading:o}=$({queryKey:["PAX_FARE_TYPES"],queryFn:async()=>(await p.get("/tools/pax-fare-type")).data.data}),{t:h}=A();return e.jsx("dialog",{id:"advanced_passenger_selection",className:"modal",children:e.jsxs("div",{className:"max-w-2xl p-0 rounded-md modal-box bg-base-200",children:[e.jsxs("form",{method:"dialog",className:"sticky top-0 left-0 right-0 flex min-h-[34px] bg-primary",children:[e.jsx("h1",{className:"px-5 py-2 text-xl font-semibold text-primary-content",children:h("advanced_pax_selection")}),e.jsx("button",{className:"absolute top-1 right-1 btn btn-ghost btn-circle btn-sm !text-primary-content",children:e.jsx($t,{})})]}),o?e.jsx(Vt,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-5 pt-4",children:[e.jsx("p",{className:"max-w-xl mb-4 text-base",children:h("advanced_pax_please")}),e.jsxs("div",{className:"w-full mb-4 rounded join join-vertical",children:[e.jsxs("div",{className:"p-4 border join-item",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg text text-neutral/70",children:e.jsx("i",{className:"inline-block alight-middle",children:e.jsx(Ee,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:h("adults")}),e.jsxs("p",{className:"text-[10px] text-neutral leading-3",children:[">12 ",h("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{l>1&&d.update(y=>{y.travelers_adult=l-1})},type:"button",disabled:l===1,className:"rounded minusBtn btn btn-xs btn-primary",children:"-"}),e.jsx("span",{className:"value",children:l}),e.jsx("button",{onClick:()=>d.update(y=>{y.travelers_adult=l+1}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),Number(l)>0&&e.jsx("div",{className:"grid grid-cols-3 pt-1 gap-x-6 gap-y-1",children:[...Array(l)].map((y,f)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:[h("adult")," ",f+1," ",h("age")]}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:t[f],onChange:x=>d.update(m=>{m.travelers_adult_age[f]=x.target.value}),children:[...Array(88)].map((x,m)=>e.jsxs("option",{value:m+13,children:[m+13," ",h("years")]},m))})})]},"age"+f),(a==null?void 0:a.search_box)==="2"&&e.jsxs("div",{className:"flex items-center col-span-2 gap-1",children:[e.jsx("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:h("fare_types")}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",onChange:x=>d.update(m=>{m.travelers_adult_types[f]=x.target.value}),children:Object.values((c==null?void 0:c.ADT)||{}).map(x=>e.jsxs("option",{value:x==null?void 0:x.pax_type,children:[x==null?void 0:x.pax_type,"-",x==null?void 0:x.pax_title]},x==null?void 0:x.pax_type))})})]},"type"+f)]}))})]}),e.jsxs("div",{className:"p-4 border border-t-0 join-item",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1 child-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg text-neutral/70",children:e.jsx("i",{className:"inline-block align-middle",children:e.jsx(De,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:h("children")}),e.jsxs("p",{className:"text-[10px] leading-3 text-neutral",children:["2-12 ",h("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{i>0&&d.update(y=>{y.travelers_child=i-1,y.travelers_child_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:i===0,children:"-"}),e.jsx("span",{className:"value",children:i}),e.jsx("button",{onClick:()=>{d.update(y=>{y.travelers_child=i+1,y.travelers_child_age.push("10")})},type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),Number(i)>0&&e.jsx("div",{className:"grid grid-cols-3 pt-1 gap-x-6 gap-y-1",children:[...Array(i)].map((y,f)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:[h("child")," ",f+1," ",h("age")]}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:n[f],onChange:x=>d.update(m=>{m.travelers_child_age[f]=x.target.value}),children:[e.jsxs("option",{value:"12",children:["12 ",h("years")]}),e.jsxs("option",{value:"11",children:["11 ",h("years")]}),e.jsxs("option",{value:"10",children:["10 ",h("years")]}),e.jsxs("option",{value:"9",children:["9 ",h("years")]}),e.jsxs("option",{value:"8",children:["8 ",h("years")]}),e.jsxs("option",{value:"7",children:["7 ",h("years")]}),e.jsxs("option",{value:"6",children:["6 ",h("years")]}),e.jsxs("option",{value:"5",children:["5 ",h("years")]}),e.jsxs("option",{value:"4",children:["4 ",h("years")]}),e.jsxs("option",{value:"3",children:["3 ",h("years")]}),e.jsxs("option",{value:"2",children:["2 ",h("years")]})]})})]},"age"+f),(a==null?void 0:a.search_box)==="2"&&e.jsxs("div",{className:"flex items-center col-span-2 gap-1",children:[e.jsx("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:"Fare Type"}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",onChange:x=>d.update(m=>{m.travelers_child_types[f]=x.target.value}),children:Object.values((c==null?void 0:c.CNN)||{}).map(x=>e.jsxs("option",{value:x==null?void 0:x.pax_type,children:[x==null?void 0:x.pax_type,"-",x==null?void 0:x.pax_title]},x==null?void 0:x.pax_type))})})]},"type"+f)]}))})]}),e.jsxs("div",{className:"p-4 border join-item",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 infants-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg text-neutral/70",children:[e.jsx("i",{className:"fa-solid fa-hands-holding-child"}),e.jsx("i",{className:"inline-block align-middle",children:e.jsx(Gt,{})})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:h("infants")}),e.jsxs("p",{className:"text-[10px] leading-3 text-neutral",children:["<2 ",h("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{s>0&&d.update(y=>{y.travelers_infants=s-1,y.travelers_infants_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:s===0,children:"-"}),e.jsx("span",{className:"value",children:s}),e.jsx("button",{onClick:()=>d.update(y=>{y.travelers_infants=s+1,y.travelers_infants_age.push("2")}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),Number(s)>0&&e.jsx("div",{className:"grid grid-cols-3 pt-1 gap-x-6 gap-y-1",children:[...Array(s)].map((y,f)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:[h("infants")," ",f+1," ",h("age")]}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:r[f],onChange:x=>d.update(m=>{m.travelers_infants_age[f]=x.target.value}),children:[e.jsxs("option",{value:"1",children:["1 ",h("year_old")]}),e.jsxs("option",{value:"0",children:[h("below")," 1 ",h("year")]})]})})]},"age"+f),(a==null?void 0:a.search_box)==="2"&&e.jsxs("div",{className:"flex items-center col-span-2 gap-1",children:[e.jsx("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:h("fare_types")}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",onChange:x=>d.update(m=>{m.travelers_infants_types[f]=x.target.value}),children:Object.values((c==null?void 0:c.INF)||{}).map(x=>e.jsxs("option",{value:x==null?void 0:x.pax_type,children:[x==null?void 0:x.pax_type,"-",x==null?void 0:x.pax_title]},x==null?void 0:x.pax_type))})})]},"type"+f)]}))})]})]})]}),e.jsx("hr",{}),e.jsx("div",{className:"justify-center pb-2 mt-2 modal-action",children:e.jsx("button",{onClick:()=>{document.getElementById("advanced_passenger_selection").close()},type:"button",className:"h-10 min-h-0 normal-case rounded btn btn-primary min-w-[100px]",children:h("apply")})})]})]})})},ns=()=>{const[a,l]=j.useState(!1),t=j.useRef(),{travelers_adult:i,travelers_child:n,travelers_infants:s}=d.useState(c=>c),r=i+n+s,{t:p}=A();return j.useEffect(()=>{const c=o=>{t.current&&!t.current.contains(o.target)&&l(!1)};return document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:t,className:`relative passengerContainer group ${a?"active":""}`,children:[e.jsxs("button",{onClick:()=>l(!a),type:"button",className:"w-full px-2 py-1 text-xs font-semibold rounded-xl text-start",children:[e.jsx(Qt,{className:"mr-1 text-base"})," ",r," ",r>1?p("Passengers"):p("Passenger"),e.jsx("i",{className:"ml-1 inline-flex align-middle items-center",children:a?e.jsx(Wt,{}):e.jsx(Yt,{})})]}),e.jsxs("div",{className:"absolute top-full right-0 z-10 w-56 min-w-full py-1 origin-['50%_0'] shadow-[0_4px_16px_0_rgba(69,88,115,.2)] rounded mt-0.5 max-w-max lists bg-base-200 transition-all scale-90 -translate-y-8 opacity-0 pointer-events-none group-[.active]:pointer-events-auto group-[.active]:scale-100 group-[.active]:translate-y-0 group-[.active]:opacity-100",style:{transition:"all .2s cubic-bezier(.5,0,0,1.25), opacity .15s ease-out"},children:[e.jsxs("div",{className:"p-3 pt-2",children:[e.jsx(pa,{}),e.jsx(ua,{}),e.jsx(ha,{})]}),e.jsxs("div",{className:"flex justify-between px-3 pb-2",children:[e.jsx("button",{onClick:()=>{var c;(c=document.getElementById("advanced_passenger_selection"))==null||c.showModal(),l(!1)},type:"button",className:"font-normal normal-case border-dashed rounded btn btn-xs btn-primary btn-outline",children:p("advanced")}),e.jsx("button",{onClick:()=>l(!1),type:"button",className:"font-normal normal-case rounded btn btn-xs btn-primary",children:p("apply")})]})]})]}),e.jsx(ma,{})]})},Et=({isActive:a,setIsActive:l,fieldName:t})=>{const{system_config:i}=U.useState(),[n,s]=j.useState({}),{axiosInstance:r}=ae(),{data:p=[]}=$(["AIRPORTS"],async()=>(await r.get("/tools/airport-autosuggetion-data")).data),[c,o]=j.useState({}),h=j.useRef();j.useEffect(()=>{var u;const m=((u=i==null?void 0:i.default_flight_suggetion)==null?void 0:u.reduce((g,v)=>({...g,[v.city_name]:g!=null&&g[v.city_name]?[...g[v.city_name],v]:[v]}),{}))||{};s(m)},[i==null?void 0:i.default_flight_suggetion]),j.useEffect(()=>{a?h.current&&h.current.focus():(o(n),h.current&&(h.current.value=""))},[a,n]);const y=m=>{t.name==="arrival_airport"?d.update(u=>{u.segment[t.index]={...u.segment[t.index],arrival_airport:m,arrival_airport_type:"AIRPORT"},u.segment[t.index+1]={...u.segment[t.index+1],departure_airport:m,departure_airport_type:"AIRPORT"},u.segment[t.index+1].departure_airport_type="AIRPORT"}):d.update(u=>{u.segment[t.index]={...u.segment[t.index],departure_airport:m,departure_airport_type:"AIRPORT"},u.segment[t.index][t.name]=m,u.segment[t.index].departure_airport_type="AIRPORT"}),l(!1)},f=m=>{t.name==="arrival_airport"?d.update(u=>{u.segment[t.index]={...u.segment[t.index],arrival_airport:m,arrival_airport_type:"CITY"},u.segment[t.index+1]={...u.segment[t.index+1],departure_airport:m,departure_airport_type:"CITY"},u.segment[t.index+1].departure_airport_type="CITY"}):d.update(u=>{u.segment[t.index]={...u.segment[t.index],departure_airport:m,departure_airport_type:"CITY"},u.segment[t.index][t.name]=m,u.segment[t.index].departure_airport_type="CITY"}),l(!1)},x=m=>{var g,v,O,C,W,T;const u=m.target.value.toLowerCase();if(u.trim().length>0){const P=[],Y=[],E=[],V=[],k=[],L=[];for(const b of p){const S=(g=b.city_code)==null?void 0:g.toLowerCase(),N=(v=b.code)==null?void 0:v.toLowerCase(),D=(O=b.airport_name)==null?void 0:O.toLowerCase(),I=(C=b.city_name)==null?void 0:C.toLowerCase(),_=(W=b.country_name)==null?void 0:W.toLowerCase(),M=(T=b.search_contents)==null?void 0:T.toLowerCase();S===u?P.push(b):N===u?Y.push(b):D.split(" ").some(z=>z.startsWith(u)||D.startsWith(u))?E.push(b):I!=null&&I.startsWith(u)?V.push(b):_!=null&&_.startsWith(u)?k.push(b):M.includes(u)&&L.push(b)}[P,Y,E,V,k,L].forEach(b=>b.sort((S,N)=>(S==null?void 0:S.priority)-(N==null?void 0:N.priority)));const R=P.concat(Y,E,V,k,L).slice(0,50),G={};R.forEach(b=>{G[b.city_name]=[...G[b.city_name]||[],b]}),o(G)}else o(n)};return e.jsxs(Q,{open:a,onOpenChange:l,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{})}),e.jsx(X,{align:"start",onClick:m=>m.stopPropagation(),asChild:!0,children:e.jsxs(ue,{className:"p-0 w-[350px] max-w-full",children:[e.jsx("input",{autoComplete:"off",ref:h,onChange:x,type:"search",className:"w-full pl-10 my-2 text-xs bg-transparent border-none outline-none",placeholder:"Airport code, city, name or country"}),e.jsx("span",{className:"absolute text-xs top-2 left-4",children:e.jsx(Te,{className:"inline"})}),e.jsx("hr",{}),e.jsx(Ge,{className:"overflow-auto text-xs max-h-64",children:Object.keys(c).length>0?Object.keys(c).map(m=>{const u=c[m];return u.length>1?e.jsxs("div",{className:"border-b",children:[e.jsxs(H,{onSelect:()=>f(u[0]),className:"flex gap-2 p-2 cursor-pointer",children:[e.jsx(Fe,{className:"text-lg"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex gap-2 text-xs",children:[e.jsx("span",{className:"font-medium text-primary",children:u[0].city_name}),e.jsx("span",{className:"text-neutral/80",children:u[0].city_code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:u[0].country_name})]})]}),u.map(g=>e.jsx(H,{onSelect:()=>y(g),className:"pl-6 cursor-pointer",children:e.jsxs("div",{className:"flex gap-2 py-2 pr-2 border-t border-primary/10",children:[e.jsx(re,{className:"text-base rotate-45"}),e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px] flex-1",children:[e.jsx("span",{children:g.airport_name}),e.jsx("span",{className:"text-neutral/80",children:g.code})]})]})},g.code))]},m):u.map(g=>e.jsxs(H,{onSelect:()=>y(g),className:"flex gap-2 p-2 border-b cursor-pointer border-primary/10",children:[e.jsx(re,{className:"text-lg rotate-45"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px]",children:[e.jsxs("span",{children:[g.city_name," - ",g.country_name]}),e.jsx("span",{className:"text-neutral",children:g.code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:g.airport_name})]})]},g.code))}):e.jsx("p",{className:"py-10 text-center text-error",children:"No result found"})})]})})]})};Et.propTypes={isActive:w.bool.isRequired,setIsActive:w.func.isRequired,fieldName:w.object.isRequired};const de=({label:a,fieldName:l,value:t})=>{const[i,n]=j.useState(!1),s=j.useRef(),{t:r}=A();return j.useEffect(()=>{const p=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}},[]),e.jsxs("div",{ref:s,className:`sb-input-container group ${i?"active":""}`,children:[e.jsx("label",{className:"sb-label",children:a}),e.jsx("input",{autoComplete:"off",onClick:()=>n(!0),type:"text",className:"sb-input",placeholder:r("select"),value:t,readOnly:!0}),e.jsx(Et,{isActive:i,setIsActive:n,fieldName:l})]})};de.propTypes={label:w.string.isRequired,fieldName:w.object.isRequired,value:w.string.isRequired};const fe=({label:a,defaultValue:l,minDate:t,action:i,...n})=>{const{journey_type:s}=d.useState(r=>r);return e.jsxs("div",{className:"sb-input-container",children:[e.jsx("label",{className:"sb-label",children:a}),e.jsx(Ye,{className:`sb-input ${a==="Return Date"&&s!=="RoundTrip"?"pointer-events-none opacity-50":"pointer-events-auto opacity-100 cursor-pointer"}`,defaultValue:ne(l).format("YYYY-MM-DD"),minDate:t,type:"text",action:i,placeholder:"mm/dd/yyyy",...n})]})};fe.propTypes={label:w.string.isRequired,defaultValue:w.string.isRequired,minDate:w.string.isRequired,action:w.func.isRequired};const is=()=>{var i,n,s,r,p;const{segment:a,journey_type:l}=d.useState(c=>c),{t}=A();return e.jsxs("div",{className:"grid-cols-1 gap-5 mb-4 sm:grid-cols-2 lg:grid-cols-5 one-way-round-trip grid",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-1 sm:grid-cols-2 sm:col-span-2 lg:col-span-3",children:[e.jsx(de,{label:t("leaving_from"),fieldName:{name:"departure_airport",index:0},value:(i=a[0])!=null&&i.departure_airport?a[0].departure_airport_type==="AIRPORT"?`${a[0].departure_airport.code} - ${a[0].departure_airport.airport_name}`:`${a[0].departure_airport.city_code} - ${a[0].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{onClick:()=>d.update(c=>{c.segment[0].arrival_airport=a[0].departure_airport,c.segment[0].departure_airport=a[0].arrival_airport}),type:"button",className:"w-8 h-8 flex justify-center items-center absolute right-4 sm:left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white text-primary border border-neutral/20 rounded-[50%] shadow rotate-90 sm:rotate-0 z-[1]",disabled:!((n=a[0])!=null&&n.departure_airport)||!((s=a[0])!=null&&s.arrival_airport),children:e.jsx(je,{})}),e.jsx(de,{label:t("going_to"),fieldName:{name:"arrival_airport",index:0},value:(r=a[0])!=null&&r.arrival_airport?a[0].arrival_airport_type==="AIRPORT"?`${a[0].arrival_airport.code} - ${a[0].arrival_airport.airport_name}`:`${a[0].arrival_airport.city_code} - ${a[0].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(fe,{label:t("departure_date"),minDate:"today",defaultValue:a[0].departure_date||ne().format("YYYY-MM-DD"),action:async c=>{var o,h;await d.update(y=>{y.segment[0].departure_date=c}),l==="RoundTrip"&&((h=(o=document.getElementById("_return_date"))==null?void 0:o.nextElementSibling)==null||h.click())}}),e.jsx(fe,{label:t("return_date"),defaultValue:((p=a[0])==null?void 0:p.arrival_date)||null,minDate:a[0].departure_date||"today",action:c=>{d.update(o=>{o.segment[0].arrival_date=c})},id:"_return_date"})]})},ls=()=>{const{flight_count:a,segment:l}=d.useState(n=>n),{t}=A(),i=n=>{a>2&&d.update(s=>{s.flight_count=a-1,s.segment=l.filter((r,p)=>p!==n)})};return e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex flex-col gap-5 multi-flight",children:Array(a).fill("").map((n,s)=>{var r,p,c,o,h,y;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"grid w-full grid-cols-1 gap-5 md:grid-cols-4",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-1 md:col-span-3 md:grid-cols-2",children:[e.jsx(de,{label:t("leaving_from"),fieldName:{name:"departure_airport",index:s},value:(r=l[s])!=null&&r.departure_airport?l[s].departure_airport_type==="AIRPORT"?`${l[s].departure_airport.code} - ${l[s].departure_airport.airport_name}`:`${l[s].departure_airport.city_code} - ${l[s].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{type:"button",onClick:()=>d.update(f=>{f.segment[s].arrival_airport=l[s].departure_airport,f.segment[s].departure_airport=l[s].arrival_airport,f.segment[s].arrival_airport_type=l[s].departure_airport_type,f.segment[s].departure_airport_type=l[s].arrival_airport_type}),className:"w-8 h-8 flex justify-center items-center absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-base-200 shadow text-primary border border-neutral/20 rounded-[50%] rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((p=l[s])!=null&&p.departure_airport)||!((c=l[s])!=null&&c.arrival_airport),children:e.jsx("i",{className:"inline-flex",children:e.jsx(je,{})})}),e.jsx(de,{label:t("going_to"),fieldName:{name:"arrival_airport",index:s},value:(o=l[s])!=null&&o.arrival_airport?l[s].arrival_airport_type==="AIRPORT"?`${l[s].arrival_airport.code} - ${l[s].arrival_airport.airport_name}`:`${l[s].arrival_airport.city_code} - ${l[s].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(fe,{label:t("departure_date"),minDate:(h=l[s-1])!=null&&h.departure_date?l[s-1].departure_date:"today",defaultValue:((y=l[s])==null?void 0:y.departure_date)||new Date().toDateString(),action:f=>{var x;d.update(m=>{m.segment[s].departure_date=f}),(x=l[s])!=null&&x.arrival_date&&new Date(f)>new Date(l[s].arrival_date)&&d.update(m=>{m.segment[s].arrival_date=""})}})]}),e.jsx("button",{type:"button",onClick:()=>i(s),className:"text-xl text-neutral/90 ms-1 removeBtn disabled:opacity-30 text-primary",disabled:a<3,children:e.jsx("i",{children:e.jsx(Ct,{})})})]},pe())})}),e.jsx("div",{className:"flex mt-3 pr-7",children:e.jsxs("button",{type:"button",onClick:()=>d.update(n=>{n.flight_count=a+1,n.segment.length<a&&n.segment.push({departure_airport:n.segment.at(-1).departure_airport,departure_airport_type:n.segment.at(-1).departure_airport_type,arrival_airport:null,arrival_airport_type:"",departure_date:"",return_date:""})}),className:"w-full normal-case border-dashed rounded btn btn-primary btn-outline no-animation",children:["+ ",t("add_flight")]})})]})},cs=()=>{const[a,l]=j.useState([]),{preferred_carrier:t}=d.useState(n=>n),{t:i}=A();return j.useEffect(()=>{const n=window.location.origin;be.get(`${n}/airlines_list.json`).then(s=>{const r=Object.keys(s.data.data).map(p=>{const{iata_code:c,airline_name:o}=s.data.data[p];return{label:`${o} (${c})`,value:c}});l(r)})},[]),e.jsx(ze,{data:a,className:"px-4 py-2 text-xs font-medium bg-transparent border rounded outline-none placeholder:text-neutral/50",placeholder:i("preferred_carrier"),defaultValue:t,action:n=>d.update(s=>{s.preferred_carrier=n})})},xa=[{id:1,name:"Any Flight",value:"any"},{id:2,name:"Non-Stop",value:"non-stop"}],os=()=>{const{non_stop_flight:a}=d.useState(t=>t),{t:l}=A();return e.jsx(ve,{items:xa.map(t=>({...t,name:l(`flightOptions.${t.value}`)})),selectedItem:l(`flightOptions.${a}`),action:t=>d.update(i=>{i.non_stop_flight=t}),icon:e.jsx(zt,{className:"mr-1 text-base"})})},vt=[{id:1,name:"One-way",value:"OneWay",icon:e.jsx(Be,{})},{id:2,name:"Round-trip",value:"RoundTrip",icon:e.jsx(Le,{})},{id:3,name:"Multi-city",value:"MultiCity",icon:e.jsx(Me,{})}],ds=()=>{const{journey_type:a}=d.useState(t=>t),{t:l}=A();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-sm:hidden",children:e.jsx(qt,{items:vt.map(t=>({...t,name:l(`${t.value}`)})),activeTab:a,action:t=>d.update(i=>{i.journey_type=t})})}),e.jsx("div",{className:"hidden max-sm:block",children:e.jsx(ve,{items:vt.map(t=>({...t,name:l(`${t.value}`)})),selectedItem:l(`${a}`),action:t=>d.update(i=>{i.journey_type=t}),icon:e.jsx(Zt,{className:"mr-1 text-base"})})})]})},ga=[{id:1,name:"Any Baggage",value:"any"},{id:2,name:"With Baggage",value:"only-baggage"}],ps=()=>{const{baggage_option:a}=d.useState(t=>t),{t:l}=A();return e.jsx(ve,{items:ga.map(t=>({...t,name:l(`baggage_options.${t.value}`)})),selectedItem:l(`baggage_options.${a}`),action:t=>d.update(i=>{i.baggage_option=t}),icon:e.jsx(Ut,{className:"mr-1 text-base"})})},fa=[{id:0,name:"Any Class",value:"any"},{id:1,name:"Economy",value:"Economy"},{id:2,name:"Premium Economy",value:"Premium-Economy"},{id:3,name:"Business Class",value:"Business"},{id:4,name:"First Class",value:"First-Class"}],us=()=>{const{booking_class:a}=d.useState(t=>t),{t:l}=A();return e.jsx(ve,{items:fa.map(t=>({...t,name:l("booking_classes."+t.value)})),selectedItem:l("booking_classes."+a),action:t=>d.update(i=>{i.booking_class=t}),icon:e.jsx(Ht,{className:"mr-1 text-base"})})},ya="/assets/airplane-loader-2-94f1091b.gif",ba=pe(),hs=()=>{var E,V;const[a,l]=j.useState(!1),{t}=A(),{axiosInstance:i}=ae(),{login_required:n}=U.useState(),{journey_type:s,segment:r,preferred_carrier:p,...c}=d.useState(k=>k),{login_key:o,member_id:h}=((V=(E=Re)==null?void 0:E.useState())==null?void 0:V.user_data)||{},y=d.useState(),{data:f={}}=$({queryKey:["PARTNER_PROFILE",o,h],enabled:n==="yes"||!!o,queryFn:async()=>{var L,R;const k=await i.post("/settings/partner-profile",{login_key:o,member_id:h});if(((L=k==null?void 0:k.data)==null?void 0:L.status)==="success")return k.data;throw{...k,message:((R=k.data)==null?void 0:R.reason)||"Request failed!"}}}),{legal_name:x,contact_person_name:m,isd_code:u,contact_number:g,company_type:v,city:O,state:C,address:W,country:T}=(f==null?void 0:f.partner_profile)||{},P=!!(x&&m&&u&&g&&v&&O&&C&&W&&T),Y=async()=>{var k,L,R,G;if(n==="yes"&&P===!1){ke.error(e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Please update your partner profile first"}),e.jsx(Pe,{to:"/settings/profile",className:"font-normal text-white normal-case btn btn-xs btn-error",children:"Update"})]}),{toastId:ba,closeOnClick:!1});return}l(!0),document.body.classList.add("pointer-events-none");try{const b=r.map(D=>{var I,_,M,z;return{...D,departure_airport:D.departure_airport_type==="AIRPORT"?(I=D.departure_airport)==null?void 0:I.code:(_=D.departure_airport)==null?void 0:_.city_code,arrival_airport:D.arrival_airport_type==="AIRPORT"?(M=D.arrival_airport)==null?void 0:M.code:(z=D.arrival_airport)==null?void 0:z.city_code}}),S={...c,journey_type:s,segment:s==="MultiCity"?b.filter(D=>!!D.arrival_airport):b.slice(0,1),preferred_carrier:p.map(D=>D.value),version:2},N=await i.post(`/flight/search?login_required=${n}`,S);if(((k=N==null?void 0:N.data)==null?void 0:k.status)==="success"){const D=localStorage.getItem("flightRecentSearch"),I=JSON.parse(D)||[];if(I.some(_=>JSON.stringify(_)===JSON.stringify(y))===!1){const _=[y,...I.slice(0,9)];localStorage.setItem("flightRecentSearch",JSON.stringify(_))}se.update(()=>se._getInitialState()),window.open(`/flight/search?tracking_id=${N.data.tracking_id}`,"_self")}else throw new Error(((L=N==null?void 0:N.data)==null?void 0:L.reason)||((G=(R=N==null?void 0:N.response)==null?void 0:R.data)==null?void 0:G.message))}catch(b){Ie("error","Failed",b.message)}finally{l(!1),document.body.classList.remove("pointer-events-none")}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:Y,id:"flight_search_button",className:"btn btn-lg min-h-0 h-12 btn-primary sm:absolute static top-full left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:active:!-translate-x-1/2 sm:active:!-translate-y-1/2 sm:active:scale-95 !animate-none normal-case flex-nowrap font-normal max-sm:w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsxs("span",{children:[t("searching"),"..."]})]}):e.jsx("span",{children:t("search")})}),a&&e.jsx("dialog",{className:"modal bg-black/50",open:!0,children:e.jsxs("div",{className:"max-w-xs rounded-md modal-box",children:[e.jsx("div",{className:"relative z-20 mb-2 text-xl font-semibold text-center",children:t("search_flight_title")}),e.jsx("div",{className:"flex items-center justify-center mb-5",children:e.jsx("img",{src:ya,alt:"Flight Searching...",className:"h-20"})}),e.jsx("p",{className:"px-4 mb-3 text-sm text-center",children:t("search_flight_waiting")})]})})]})},ms=()=>{const{travelers_adult:a,travelers_child:l,travelers_infants:t}=d.useState(i=>i);return e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:"Adt"}),e.jsx("select",{className:"field",value:a,onChange:i=>d.update(n=>{n.travelers_adult=Number(i.target.value)}),children:[...Array(6)].map((i,n)=>e.jsx("option",{value:n+1,children:n+1},n))})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:"Chd"}),e.jsx("select",{className:"field",value:l,onChange:i=>d.update(n=>{n.travelers_child=Number(i.target.value),n.travelers_child_age=[...Array(Number(i.target.value))].fill("10")}),children:[...Array(7)].map((i,n)=>e.jsx("option",{value:n,children:n},n))})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:"Inf"}),e.jsx("select",{className:"field",value:t,onChange:i=>d.update(n=>{n.travelers_infants=Number(i.target.value),n.travelers_infants_age=[...Array(Number(i.target.value))].fill("1")}),children:[...Array(7)].map((i,n)=>e.jsx("option",{value:n,children:n},n))})]})]})},Dt=({isActive:a,setIsActive:l,fieldName:t})=>{const{system_config:i}=U.useState(),[n,s]=j.useState({}),{axiosInstance:r}=ae(),{data:p=[]}=$(["AIRPORTS"],async()=>(await r.get("/tools/airport-autosuggetion-data")).data),[c,o]=j.useState({}),h=j.useRef();j.useEffect(()=>{var u;const m=((u=i==null?void 0:i.default_flight_suggetion)==null?void 0:u.reduce((g,v)=>({...g,[v.city_name]:g!=null&&g[v.city_name]?[...g[v.city_name],v]:[v]}),{}))||{};s(m)},[i==null?void 0:i.default_flight_suggetion]),j.useEffect(()=>{a?h.current&&h.current.focus():(o(n),h.current&&(h.current.value=""))},[a,n]);const y=m=>{t.name==="arrival_airport"?d.update(u=>{u.segment[t.index]={...u.segment[t.index],arrival_airport:m,arrival_airport_type:"AIRPORT"},u.segment[t.index+1]={...u.segment[t.index+1],departure_airport:m,departure_airport_type:"AIRPORT"},u.segment[t.index+1].departure_airport_type="AIRPORT"}):d.update(u=>{u.segment[t.index]={...u.segment[t.index],departure_airport:m,departure_airport_type:"AIRPORT"},u.segment[t.index][t.name]=m,u.segment[t.index].departure_airport_type="AIRPORT"}),l(!1)},f=m=>{t.name==="arrival_airport"?d.update(u=>{u.segment[t.index]={...u.segment[t.index],arrival_airport:m,arrival_airport_type:"CITY"},u.segment[t.index+1]={...u.segment[t.index+1],departure_airport:m,departure_airport_type:"CITY"},u.segment[t.index+1].departure_airport_type="CITY"}):d.update(u=>{u.segment[t.index]={...u.segment[t.index],departure_airport:m,departure_airport_type:"CITY"},u.segment[t.index][t.name]=m,u.segment[t.index].departure_airport_type="CITY"}),l(!1)},x=m=>{var g,v,O,C,W,T;const u=m.target.value.toLowerCase();if(u.trim().length>0){const P=[],Y=[],E=[],V=[],k=[],L=[];for(const b of p){const S=(g=b.city_code)==null?void 0:g.toLowerCase(),N=(v=b.code)==null?void 0:v.toLowerCase(),D=(O=b.airport_name)==null?void 0:O.toLowerCase(),I=(C=b.city_name)==null?void 0:C.toLowerCase(),_=(W=b.country_name)==null?void 0:W.toLowerCase(),M=(T=b.search_contents)==null?void 0:T.toLowerCase();S===u?P.push(b):N===u?Y.push(b):D.split(" ").some(z=>z.startsWith(u)||D.startsWith(u))?E.push(b):I!=null&&I.startsWith(u)?V.push(b):_!=null&&_.startsWith(u)?k.push(b):M.includes(u)&&L.push(b)}[P,Y,E,V,k,L].forEach(b=>b.sort((S,N)=>(S==null?void 0:S.priority)-(N==null?void 0:N.priority)));const R=P.concat(Y,E,V,k,L).slice(0,50),G={};R.forEach(b=>{G[b.city_name]=[...G[b.city_name]||[],b]}),o(G)}else o(n)};return e.jsxs(Q,{open:a,onOpenChange:l,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{})}),e.jsx(X,{align:"start",onClick:m=>m.stopPropagation(),asChild:!0,children:e.jsxs(ue,{className:"p-0 w-[350px] max-w-full",children:[e.jsx("input",{autoComplete:"off",ref:h,onChange:x,type:"search",className:"w-full pl-10 my-2 text-xs bg-transparent border-none outline-none",placeholder:"Airport code, city, name or country"}),e.jsx("span",{className:"absolute text-xs top-2 left-4",children:e.jsx(Te,{className:"inline"})}),e.jsx("hr",{}),e.jsx(Ge,{className:"overflow-auto text-xs max-h-64",children:Object.keys(c).length>0?Object.keys(c).map(m=>{const u=c[m];return u.length>1?e.jsxs("div",{className:"border-b",children:[e.jsxs(H,{onSelect:()=>f(u[0]),className:"flex gap-2 p-2 cursor-pointer",children:[e.jsx(Fe,{className:"text-lg"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex gap-2 text-xs",children:[e.jsx("span",{className:"font-medium text-primary",children:u[0].city_name}),e.jsx("span",{className:"text-neutral/80",children:u[0].city_code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:u[0].country_name})]})]}),u.map(g=>e.jsx(H,{onSelect:()=>y(g),className:"pl-6 cursor-pointer",children:e.jsxs("div",{className:"flex gap-2 py-2 pr-2 border-t border-primary/10",children:[e.jsx(re,{className:"text-base rotate-45"}),e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px] flex-1",children:[e.jsx("span",{children:g.airport_name}),e.jsx("span",{className:"text-neutral/80",children:g.code})]})]})},g.code))]},m):u.map(g=>e.jsxs(H,{onSelect:()=>y(g),className:"flex gap-2 p-2 border-b cursor-pointer border-primary/10",children:[e.jsx(re,{className:"text-lg rotate-45"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px]",children:[e.jsxs("span",{children:[g.city_name," - ",g.country_name]}),e.jsx("span",{className:"text-neutral",children:g.code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:g.airport_name})]})]},g.code))}):e.jsx("p",{className:"py-10 text-center text-error",children:"No result found"})})]})})]})};Dt.propTypes={isActive:w.bool.isRequired,setIsActive:w.func.isRequired,fieldName:w.object.isRequired};const K=({label:a,fieldName:l,value:t,...i})=>{const[n,s]=j.useState(!1),r=j.useRef();return j.useEffect(()=>{const p=c=>{r.current&&!r.current.contains(c.target)&&s(!1)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}},[]),e.jsxs("div",{ref:r,className:J("relative input-container group min-w-[220px]",n?"active":""),children:[e.jsx("label",{className:"input-label",children:a}),e.jsx("input",{autoComplete:"off",onClick:()=>s(!0),type:"text",className:"field",placeholder:"Select",value:t,readOnly:!0,...i}),e.jsx(Dt,{isActive:n,setIsActive:s,fieldName:l})]})};K.propTypes={label:w.string.isRequired,fieldName:w.object.isRequired,value:w.string.isRequired};const Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHuWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTA4LTEwVDE3OjE3OjA1KzA1OjMwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA4LTEwVDE3OjE3OjA1KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMi0wOC0xMFQxNzoxNzowNSswNTozMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5YjcxM2M0Ni1hYjRlLTVjNGUtYWVmNC0xNDQ0NDk1MTEyMjIiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MTY4Mzk2Mi04YTY3LTk2NDUtYWZkNS1lNzJjNTY3NWMxNmYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNWIxZjQ4ZC1iYzJiLWI4NGItYmVjNS1jODkzNzIwZmQ2Y2IiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI1YjFmNDhkLWJjMmItYjg0Yi1iZWM1LWM4OTM3MjBmZDZjYiIgc3RFdnQ6d2hlbj0iMjAyMi0wOC0xMFQxNzoxNzowNSswNTozMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5YjcxM2M0Ni1hYjRlLTVjNGUtYWVmNC0xNDQ0NDk1MTEyMjIiIHN0RXZ0OndoZW49IjIwMjItMDgtMTBUMTc6MTc6MDUrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+MTEwNDM1OUFENzE1QTc4QzY3QkQ1ODMwMjkzODAxNTg8L3JkZjpsaT4gPHJkZjpsaT41Nzg0ODcyN0NEMUJEQkIxQkU0NzNBMzc4RDk5NEFFQzwvcmRmOmxpPiA8cmRmOmxpPkJBQTc2NDcxQjMyOUI0MUJFNzI2RjkwRjczQ0RDMzVEPC9yZGY6bGk+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjA0NmI1NGVmLTdhN2YtOWU0Ny1hNDM5LTNkYmVkZjhhZjc2MDwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkZTJjZjA2Ny05ODcxLWY3NGQtOWI4YS02Y2ExYzViNDcxOTQ8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpzdG9jazpjZjgwMzBiZC1kMTlmLTQyM2YtODc3Ny1hYTA1ZDNiYmU4NzU8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6ct7g7AAAHiUlEQVR4nO2ce4gVVRzHP7Pu+lifqZirPTSSfKxJomIpBWokiBKaqwYqGqIGZUZY4pp/9PinsPSfiEArs0DRIv8ILVMLH0SJSZIvUsrUwvWxaa2P9fbHd4a9e+/ce2funJnjXvzAZXfOzJxz7u+emd/v/M53xkmlUtymeMpsd6Clc9uAEXGmTp1qo90q4EvgHqAVMAP4OkqFGzZsMNCt8JRbaLMdsBkY5m5vA3ZY6IcRkr6EHWAtMNLdvgo8B9xIuB/GCD0Ci/XajuMAvAlMSyteBRwtqsJbhCRH4ALglbTt48AbCbYfC6FHoDuSwjIeWJ1RVgvUF1PZrUQSI3AwsA6oSCvbjRxJiyduA/YBNgHd08oagZeA6zG3nQhxGrAzGnn9Mso3AftibDdR4jKgA3wIjM4orweWxtSmFeIy4CrgSZ/y9cBvMbVphTgM+DwKjjOpB1bG0J5VTBtwBhp9fnyGYr+SwqQBJwBrcuy7iRyKaVoDTwPjYqg7EKYMOAL4FGibY/8BYI+htjzaoFhyPTDFcN2BMWHA/uiLdMpzzOeAydR3GfABGvUAWw3WHbojUagCNgK9Cxy3N2I7mawEZrr/XwUOGq4/MFEMWImMV13guMvoEjbFa8CitO0fgRMG6w+FXzKhHOiKRlfnHOc56EuMCtBGHfAImsI5yKH8iy5pB7gG/ANccP82uGV+vICSEOnsxOztIRSeAXsDjwJPoExxFdAFM/fIe1H6Ph+NyKiXUbx4CTgF/AL87v4/AHjH57yNBvpYNOUoT/c60M1iP1oBHd1PlVs2Aphc4LwrwB1AL+B0bL3LQxmwHLvGi0IH4H1gvq0OlAET0SzhnK1OFOAimsH49a8B9X9Fkh1KpxzYj6L5nsDDwAM0ORAvMHbQappD081/rFtWiGvAt2jh6DpNDsJzKA1unVeRE7kInAf+RpflSbesD/CF2z+PSmAQFtdV0r3wWRTwBmUW8FGA4xqBOW79UTiMZhw7aZ6gnUi4fhslipf9GFgS4Lh2KK1vgkPAJBTyeDwGtDdUf2iihilvuZ9CDCt8SGD2AtORBwa4D4U4VjAR5y2hcKZlooF20tmGbguN7rbJHygUprIxzwDb8+wfCgw01JbHRmAe8AdKaFjBlAGvo6B3d479bSgcFBfDWvTDLIuh7kAUZcBUKuX3qQdqgGM5TpuFwg7TXKbpfpg4ccjbHgR2obl0JnPRqDHB42gC0Ijmy5OAM4bqDkwci0oHgakoMM7kRcxJ6nYAPwE9kBPZTLDA3ihxLWt+g//8tBqNQhPcQKt/3g81Eo3uosQ7xdJq0KBBcdX9M/qSYzLKh6J0fK6cXxjqUAbHy0tWI4e1PaIMLzBxGhDge+BOYHhaWSc0/91lqI0f0C2jq7s9GvgLZapDE9aASaizngW2ZJS9DPQ1VH892Vnq1Y7jjHcch7CfsCQlsJyDsj4elWR/6ShspnkMWoFmR6bm4DlJyoB1SLVwKq1sDkqJmeA6ksw1ppV1R0qwPoba8CVJie9RpI9ucLcdtMZRkfOMcOxDBkunHxqJuRbHIpO0Sn8PMDttezCw0GD9S8mWDY9GUrtYwpu4vbAfh1Ds9hAajUNQQtSEXvoCenhneEZ5f+SlvzLQRjMcWw8b1tTUxFX1/WiG4ic1WUS22D0Spfis3HE0R/ZjFXJmxrBpwHFoMat1DHWvQwtWfqyhSZQUGZsGnIKkaZvR9Mske8itx2mLpHgjTDRk04CeJG0Cmhub7EuK/Ct1ndAPFzmTbdOAB2nKpMzEvH66kKSuN1oWqCpwXF5sGvAEzSf8i5B0zRQHULY6H9XIiEVnym08L+yRQovk6RK5WjTtezfHOa3RPawjEhV1dMs8tUQlGhQpJFiqQ/qZfIwCPkEeOldMdwllu8+T8Wiu7ThwCIrZWmXsXgz8CtyFAuNq9//O6P7VARkr87y4uInkJWfQVbMV+A740+YI7IVG0RWyg95MHaBtytBMpivS4sxGo7vWpgHnI4VBoUvsVqUbsNymE1mBFAsNPvvOoRnFxSQ7FIJzaLYz0eYIBF0OmR7wCHrO7iRaGu2DLvce6BLqgpxHG+Q42tLkOEBOpQI5yDEEm+n8h5QVnjNKuWVenQ00OZIjKEQ6C3a9MGRrZs6hGcphd/ssxcviehL8wcYFSG0WGpuXcHskTfO4gBbHDxmqfzDB1omXUKTxwK4BByBpGsgTT8fsAzlBFFtB5Xk5sWlA7wt6CtZthusvJKlbRzCBaF5sGrA/kqbNw/yzHgPRAn4utiNJXmRsOpFlaOpWaL5aDJPJnSLb7e438tILmwaMS5JWiaR0fhwDalwpXhbFLKzbDmPiYBrZbwoBBeVPAaeLfHmQL6W2JlKOJHSZXEX6GeOPxZaaAefi//jtfCS5M04pGbAj8KpPeS3BHggqilIy4GKyn5x/j5jfEFcqBuyLJHPpbEHSulgpFQPW0jyrsx/NbmKnFAw4lubGOoXUB3VJNN7SDViB0v9eYNeA4sDEHn9t6QZcSHMV6mzMv+AnLy15JnI3etHZeZQ5fhtI/GXS1pY1S4WWfglb57YBI3LbgBH5H1Ohd93vhiOjAAAAAElFTkSuQmCC",ja=({segment_no:a})=>{var s,r,p,c,o,h,y,f;const[l,t]=j.useState(!1),{segment:i}=d.useState(),{t:n}=A();return e.jsxs(Q,{open:l,onOpenChange:t,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{className:"select-field",children:!((s=i==null?void 0:i.at(a))!=null&&s.departure_time)||((r=i==null?void 0:i.at(a))==null?void 0:r.departure_time)==="anytime"?"Anytime":`${(p=i==null?void 0:i.at(a))==null?void 0:p.departure_time}-${(c=i==null?void 0:i.at(a))==null?void 0:c.departure_time_within}`})}),e.jsx(X,{align:"end",className:"p-0 w-fit",children:e.jsxs("ul",{className:"w-full p-0 rounded-lg menu menu-xs bg-base-200 [&_li>*]:rounded-xl hover:[&_li>a]:!bg-warning/10 [&_li>*]:text-[11px]",children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="anytime",x.segment[a].departure_time_within="anytime"}),t(!1)},children:n("Anytime")})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:n("fixed_dr")}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="anytime",x.segment[a].departure_time_within="anytime"}),t(!1)},children:n("all_day")})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="00:00",x.segment[a].departure_time_within="06:00"}),t(!1)},children:"00:00-06:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="06:00",x.segment[a].departure_time_within="11:00"}),t(!1)},children:"06:00-11:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="11:00",x.segment[a].departure_time_within="16:00"}),t(!1)},children:"11:00-16:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="16:00",x.segment[a].departure_time_within="21:00"}),t(!1)},children:"16:00-21:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="21:00",x.segment[a].departure_time_within="00:00"}),t(!1)},children:"21:00-00:00"})})]})]})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:n("departure_after")}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[11px] text-neutral",children:"Select Time"}),e.jsx("div",{className:"flex items-center justify-center p-1 text-xs",children:e.jsx("input",{type:"number",className:"w-16 text-[11px] hide_arrow_key focus:outline-0 placeholder:text-base-content text-center",placeholder:"HH:MM",defaultValue:((o=i==null?void 0:i.at(a))==null?void 0:o.departure_time)!=="anytime"?(h=i==null?void 0:i.at(a))==null?void 0:h.departure_time:"",onChange:x=>{d.update(m=>{m.segment[a].departure_time=x.target.value})}})})]})]})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:n("arrival_before")}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[11px] text-neutral",children:"Select Time"}),e.jsx("div",{className:"flex items-center justify-center p-1 text-xs",children:e.jsx("input",{type:"number",className:"w-16 text-[11px] hide_arrow_key focus:outline-0 placeholder:text-base-content text-center",placeholder:"HH:MM",defaultValue:((y=i==null?void 0:i.at(a))==null?void 0:y.departure_time_within)!=="anytime"?(f=i==null?void 0:i.at(a))==null?void 0:f.departure_time_within:"",onChange:x=>{d.update(m=>{m.segment[a].departure_time_within=x.target.value})}})})]})]})})]})})]})},va=({segment_no:a})=>{var s,r,p,c,o,h,y;const[l,t]=j.useState(!1),{segment:i}=d.useState(),{t:n}=A();return e.jsxs(Q,{open:l,onOpenChange:t,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{className:"select-field",children:((s=i==null?void 0:i.at(a))==null?void 0:s.arrival_time)==="anytime"?"Anytime":`${(r=i==null?void 0:i.at(a))==null?void 0:r.arrival_time}-${(p=i==null?void 0:i.at(a))==null?void 0:p.arrival_time_within}`})}),e.jsx(X,{align:"end",className:"p-0 w-fit",children:e.jsxs("ul",{className:"w-full p-0 rounded-lg menu menu-xs bg-base-200 [&_li>*]:rounded-xl hover:[&_li>a]:!bg-warning/10 [&_li>*]:text-[11px]",children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(f=>{f.segment[a].arrival_time="anytime",f.segment[a].arrival_time_within="anytime"}),t(!1)},children:n("Anytime")})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:n("fixed_dr")}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(f=>{f.segment[a].arrival_time="anytime",f.segment[a].arrival_time_within="anytime"}),t(!1)},children:n("all_day")})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(f=>{f.segment[a].arrival_time="00:00",f.segment[a].arrival_time_within="06:00"}),t(!1)},children:"00:00-06:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(f=>{f.segment[a].arrival_time="06:00",f.segment[a].arrival_time_within="11:00"}),t(!1)},children:"06:00-11:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(f=>{f.segment[a].arrival_time="11:00",f.segment[a].arrival_time_within="16:00"}),t(!1)},children:"11:00-16:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(f=>{f.segment[a].arrival_time="16:00",f.segment[a].arrival_time_within="21:00"}),t(!1)},children:"16:00-21:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(f=>{f.segment[a].arrival_time="21:00",f.segment[a].arrival_time_within="00:00"}),t(!1)},children:"21:00-00:00"})})]})]})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:n("departure_after")}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[11px] text-neutral",children:n("select_time")}),e.jsx("div",{className:"flex items-center justify-center p-1 text-xs",children:e.jsx("input",{type:"number",className:"w-16 text-[11px] hide_arrow_key focus:outline-0 placeholder:text-base-content text-center",placeholder:"HH:MM",defaultValue:((c=i==null?void 0:i.at(a))==null?void 0:c.arrival_time)!=="anytime"?(o=i==null?void 0:i.at(a))==null?void 0:o.arrival_time:"",onChange:f=>{d.update(x=>{x.segment[a].arrival_time=f.target.value})}})})]})]})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:n("arrival_before")}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[11px] text-neutral",children:n("select_time")}),e.jsx("div",{className:"flex items-center justify-center p-1 text-xs",children:e.jsx("input",{type:"number",className:"w-16 text-[11px] hide_arrow_key focus:outline-0 placeholder:text-base-content text-center",placeholder:"HH:MM",defaultValue:((h=i==null?void 0:i.at(a))==null?void 0:h.arrival_time_within)!=="anytime"?(y=i==null?void 0:i.at(a))==null?void 0:y.arrival_time_within:"",onChange:f=>{d.update(x=>{x.segment[a].arrival_time_within=f.target.value})}})})]})]})})]})})]})},ye=({label:a,defaultValue:l,minDate:t,action:i,segment_no:n=0,isArrival:s=!1})=>{const{journey_type:r}=d.useState(p=>p);return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative input-container group",children:[e.jsx("label",{className:"input-label",children:a}),e.jsx(Ye,{className:`field ${a==="Return Date"&&r!=="RoundTrip"?"pointer-events-none opacity-50":"pointer-events-auto opacity-100 cursor-pointer"}`,defaultValue:ne(l).format("YYYY-MM-DD"),minDate:t,type:"text",action:i,placeholder:"mm/dd/yyyy"})]}),e.jsx("div",{className:"self-end sm:pb-1",children:s?e.jsx(va,{segment_no:n}):e.jsx(ja,{segment_no:n})})]})};ye.propTypes={label:w.string.isRequired,defaultValue:w.string.isRequired,minDate:w.string.isRequired,action:w.func.isRequired};const _a=[{id:1,name:"Select..",value:""},{id:2,name:"Star Alliance",value:"SA"},{id:3,name:"Sky Team",value:"ST"},{id:4,name:"One World",value:"OW"}],Ca=({segment_no:a,isIncluded:l,setIsIncluded:t})=>{var n,s,r,p,c,o;const{segment:i}=d.useState();return e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"appearance-none field",value:l?((r=(s=(n=i==null?void 0:i.at(a))==null?void 0:n.alliance)==null?void 0:s.include)==null?void 0:r.at(0))||"":((o=(c=(p=i==null?void 0:i.at(a))==null?void 0:p.alliance)==null?void 0:c.exclude)==null?void 0:o.at(0))||"",onChange:h=>d.update(y=>{l?y.segment.at(a).alliance={exclude:[],include:[h.target.value]}:y.segment.at(a).alliance={include:[],exclude:[h.target.value]}}),children:_a.map(h=>e.jsx("option",{value:h.value,children:h.name},h.id))}),e.jsx("div",{className:"absolute -translate-y-1/2 tooltip tooltip-secondary right-1 top-1/2","data-tip":l?"Click to Exclude":"Click to Include",children:e.jsx("button",{onClick:()=>t(!l),type:"button",className:"flex items-center justify-center pl-1 border-l border-l-neutral/80 bg-base-200",children:l?e.jsx(ee,{}):e.jsx(te,{})})})]})},Na=[{id:0,name:"Any Class",value:"any"},{id:1,name:"Economy",value:"Economy"},{id:2,name:"Premium Economy",value:"Premium-Economy"},{id:3,name:"Business Class",value:"Business"},{id:4,name:"First Class",value:"First-Class"}],wa=({segment_no:a})=>{var t;const{segment:l}=d.useState(i=>i);return e.jsx("select",{className:"field",value:(t=l==null?void 0:l.at(a))==null?void 0:t.booking_class,onChange:i=>d.update(n=>{n.segment[a].booking_class=i.target.value}),children:Na.map(i=>e.jsx("option",{value:i.value,children:i.name},i.id))})},Aa=({name:a,action:l,placeholder:t,className:i,...n})=>{const{data:s=[]}=$(["COUNTRY"],async()=>{const r=window.location.origin,p=await be.get(`${r}/country.json`);return Object.values(p.data.data).map(c=>({label:`${c.country_name} (${c.country_code})`,value:c.country_code}))});return e.jsx(We,{options:s,className:i,name:a,action:l,placeholder:t,defaultValue:!0,...n})},Sa=({segment_no:a,isIncluded:l,setIsIncluded:t})=>{var n,s,r,p,c,o;const{segment:i}=d.useState();return e.jsxs("div",{className:"relative",children:[e.jsx(Aa,{className:"field",defaultValue:l?((r=(s=(n=i==null?void 0:i.at(a))==null?void 0:n.country)==null?void 0:s.include)==null?void 0:r.at(0))||"":((o=(c=(p=i==null?void 0:i.at(a))==null?void 0:p.country)==null?void 0:c.exclude)==null?void 0:o.at(0))||"",action:h=>d.update(y=>{var f,x;l?y.segment.at(a).country={exclude:[],include:[(f=h==null?void 0:h.at(0))==null?void 0:f.value]}:y.segment.at(a).country={include:[],exclude:[(x=h==null?void 0:h.at(0))==null?void 0:x.value]}})}),e.jsx("div",{className:"absolute -translate-y-1/2 tooltip tooltip-secondary right-1 top-1/2","data-tip":l?"Click to Exclude":"Click to Include",children:e.jsx("button",{onClick:()=>{t(!l)},type:"button",className:"flex items-center justify-center pl-1 border-l border-l-neutral/80 bg-base-200",children:l?e.jsx(ee,{}):e.jsx(te,{})})})]})},Tt=({className:a,name:l,options:t,action:i,placeholder:n,defaultValue:s,isRequired:r=!1,readOnly:p=!0,...c})=>{const[o,h]=j.useState(!1),[y,f]=j.useState([]);j.useEffect(()=>{o&&f(t)},[t,o]);const x=j.useCallback(m=>{var O;const u=m.target.value.toLowerCase().trim(),g=[],v=[];for(const C of t)((O=C.value)==null?void 0:O.toLowerCase())===u?g.push(C):C.label.toLowerCase().includes(u)&&v.push(C);return f(g.concat(v))},[t]);return e.jsxs(Q,{open:o,onOpenChange:h,children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:J(a,"flex items-center gap-2 focus-within:outline-0 relative",c!=null&&c.disabled?"pointer-events-none":""),...c,children:[e.jsx("input",{role:"combobox","aria-expanded":o,readOnly:p,name:l,value:s,className:"flex-1 bg-transparent focus:outline-0 max-w-[calc(100%-1.1rem)]",placeholder:n||"Select...",type:"text",required:r}),e.jsx(Nt,{className:"w-4 h-4 opacity-50 pointer-events-none shrink-0"})]})}),e.jsx(X,{align:"start",className:"w-[200px] p-0 z-[9999]",children:e.jsxs(ue,{shouldFilter:!1,children:[e.jsx(wt,{placeholder:"Search...",className:"h-8",onInput:x}),e.jsx(At,{children:"No result found."}),e.jsx(St,{className:"max-h-[250px] overflow-auto p-0",children:y.map(m=>e.jsxs(H,{onSelect:()=>{i(m.value)},className:"justify-between px-2 py-1 text-xs",children:[m.label,e.jsx(Ot,{className:J("ml-2 h-4 w-4 shrink-0",s.includes(m.value)?"opacity-100":"opacity-0")})]},m.label))})]})})]})},Oa=({segment_no:a})=>{var c,o,h,y,f,x;const[l,t]=j.useState([]),[i,n]=j.useState(!0),{segment:s}=d.useState(),r=((o=(c=s.at(a))==null?void 0:c.airlines)==null?void 0:o[i?"include":"exclude"])||[];j.useEffect(()=>{const m=window.location.origin;be.get(`${m}/airlines_list.json`).then(u=>{const g=Object.keys(u.data.data).map(v=>{const{iata_code:O,airline_name:C}=u.data.data[v];return{label:`[${O}] ${C}`,value:O}});t(g)})},[]);const{t:p}=A();return e.jsxs("div",{className:"input-container group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 input-label",children:[e.jsx("span",{children:p("Airlines")}),r!=null&&r.length?e.jsxs(Q,{children:[e.jsx(q,{asChild:!0,children:e.jsxs("button",{className:"text-secondary",children:["(",r.length,")"]})}),e.jsx(X,{className:"p-0 border rounded w-72 border-secondary",children:e.jsx("ul",{className:"w-full rounded-none join join-vertical",children:r.map(m=>{var u;return e.jsx("li",{className:"p-1 text-xs border text-secondary join-item",children:(u=l.find(g=>g.value===m))==null?void 0:u.label},m)})})})]}):null,e.jsx("span",{className:"duration-100 opacity-0 group-hover:opacity-100",children:p(i?"Included":"Excluded")})]}),e.jsxs("button",{type:"button",onClick:()=>{d.update(m=>{m.segment.at(a).airlines={include:[],exclude:[]}})},className:"h-4 min-h-0 gap-0 p-0 normal-case rounded px-0.5 btn btn-xs btn-ghost group/btn",children:["R",e.jsx("span",{className:"hidden font-normal duration-100 opacity-0 group-hover:inline-block group-hover/btn:opacity-100",children:"eset"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Tt,{className:"field",defaultValue:i?((y=(h=s==null?void 0:s.at(a))==null?void 0:h.airlines)==null?void 0:y.include)||"":((x=(f=s==null?void 0:s.at(a))==null?void 0:f.airlines)==null?void 0:x.exclude)||"",action:m=>{d.update(u=>{var g,v,O,C,W,T;i?(O=(v=(g=s.at(a))==null?void 0:g.airlines)==null?void 0:v.include)!=null&&O.includes(m)?u.segment.at(a).airlines={include:u.segment.at(a).airlines.include.filter(P=>P!==m),exclude:[]}:u.segment.at(a).airlines.include.push(m):(T=(W=(C=s.at(a))==null?void 0:C.airlines)==null?void 0:W.exclude)!=null&&T.includes(m)?u.segment.at(a).airlines={exclude:u.segment.at(a).airlines.exclude.filter(P=>P!==m),include:[]}:u.segment.at(a).airlines.exclude.push(m)})},options:l}),e.jsx("div",{className:"absolute -translate-y-1/2 tooltip tooltip-secondary right-1 top-1/2","data-tip":i?"Click to Exclude":"Click to Include",children:e.jsx("button",{onClick:()=>{n(!i)},type:"button",className:"flex items-center justify-center pl-1 border-l border-l-neutral/80 bg-base-200",children:i?e.jsx(ee,{}):e.jsx(te,{})})})]})]})},Ra=[{id:0,name:"Any",value:"any"},{id:1,name:"Direct",value:"non-stop"},{id:2,name:"One",value:"1"},{id:3,name:"Two",value:"2"},{id:4,name:"Three",value:"3"}],ka=({segment_no:a})=>{var t;const{segment:l}=d.useState();return e.jsx("select",{className:"field",value:(t=l==null?void 0:l.at(a))==null?void 0:t.stop,onChange:i=>d.update(n=>{n.segment[a].stop=i.target.value}),children:Ra.map(i=>e.jsx("option",{value:i.value,children:i.name},i.id))})},Oe=({segment_no:a=0})=>{var o,h;const[l,t]=j.useState(!1),[i,n]=j.useState(!0),{supplier_option:s}=U.useState(),{supplier_uid:r}=d.useState(),p=(h=(o=s==null?void 0:s.data)==null?void 0:o.find(y=>(y==null?void 0:y.supplier_uid)===r))==null?void 0:h.supplier_code,{t:c}=A();return e.jsx("div",{className:"max-w-[750px]",children:e.jsxs("div",{className:"grid gap-4 mb-4 max-sm:grid-cols-2 sm:grid-flow-col",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:c("Class")}),e.jsx(wa,{segment_no:a})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:c("Stop")}),e.jsx(ka,{segment_no:a})]}),e.jsxs("div",{className:"input-container group",children:[e.jsxs("div",{className:"input-label",children:[c("Alliances")," ",e.jsx("span",{className:"duration-100 opacity-0 group-hover:opacity-100",children:c(i?"Included":"Excluded")})]}),e.jsx(Ca,{segment_no:a,isIncluded:i,setIsIncluded:n})]}),p!=="sabre"&&e.jsxs("div",{className:"input-container group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"input-label",children:[c("Countries")," ",e.jsx("span",{className:"duration-100 opacity-0 group-hover:opacity-100",children:c(l?"Included":"Excluded")})]}),e.jsxs("button",{type:"button",onClick:()=>{d.update(y=>{y.segment.at(a).country={include:[],exclude:[]}})},className:"h-4 min-h-0 gap-0 p-0 normal-case rounded px-0.5 btn btn-xs btn-ghost group/btn",children:["R",e.jsx("span",{className:"hidden font-normal duration-100 opacity-0 group-hover/btn:inline-block group-hover:opacity-100",children:"eset"})]})]}),e.jsx(Sa,{segment_no:a,isIncluded:l,setIsIncluded:t})]}),e.jsx(Oa,{segment_no:a})]})})},xs=()=>{var c,o,h,y,f,x,m,u;const{segment:a,journey_type:l}=d.useState(g=>g),[t,i]=j.useState(!0),[n,s]=j.useState(!0),{t:r}=A(),p=a[0];return j.useEffect(()=>{l==="RoundTrip"?(i(!1),d.update(g=>{g.segment[1].departure_airport=p.arrival_airport,g.segment[1].departure_airport_type=p.arrival_airport_type,g.segment[1].arrival_airport=p.departure_airport,g.segment[1].arrival_airport_type=p.departure_airport_type})):i(!0)},[l,p]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"grid-cols-1 gap-5 mb-4 sm:grid-cols-2 lg:grid-cols-3 one-way-round-trip grid flex-1",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-x-10 gap-y-3 sm:grid-cols-2 sm:col-span-2",children:[e.jsx(K,{label:r("From"),fieldName:{name:"departure_airport",index:0},value:(c=a[0])!=null&&c.departure_airport?a[0].departure_airport_type==="AIRPORT"?`${a[0].departure_airport.code} - ${a[0].departure_airport.airport_name}`:`${a[0].departure_airport.city_code} - ${a[0].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{onClick:()=>d.update(g=>{g.segment[0].arrival_airport=a[0].departure_airport,g.segment[0].departure_airport=a[0].arrival_airport}),type:"button",className:"w-6 h-6 flex justify-center items-center absolute sm:left-1/2 sm:bottom-1 top-1/2 right-8 -translate-x-1/2 -translate-y-1 bg-base-200 text-primary rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((o=a[0])!=null&&o.departure_airport)||!((h=a[0])!=null&&h.arrival_airport),children:e.jsx("img",{src:Se,alt:"",className:"w-full"})}),e.jsx(K,{label:r("To"),fieldName:{name:"arrival_airport",index:0},value:(y=a[0])!=null&&y.arrival_airport?a[0].arrival_airport_type==="AIRPORT"?`${a[0].arrival_airport.code} - ${a[0].arrival_airport.airport_name}`:`${a[0].arrival_airport.city_code} - ${a[0].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(ye,{label:r("departure_date"),minDate:"today",defaultValue:a[0].departure_date||ne().format("YYYY-MM-DD"),action:g=>{d.update(v=>{v.segment[0].departure_date=g})},segment_no:0})]}),e.jsx("button",{type:"button",onClick:()=>d.update(g=>{g.journey_type="RoundTrip"}),className:J("ml-1 text-xl removeBtn text-primary",l==="OneWay"?"visible":"invisible pointer-events-none"),children:e.jsx("i",{children:e.jsx(te,{})})}),e.jsx("button",{className:"invisible mt-2 ml-1 text-xl text-neutral/90 removeBtn disabled:opacity-30 text-primary",children:e.jsx("i",{children:e.jsx(ee,{})})})]}),e.jsx("button",{onClick:()=>i(!t),type:"button",className:"pl-2",children:t?e.jsx(Ne,{}):e.jsx(we,{})})]}),e.jsx("div",{className:"overflow-visible rounded-none collapse",open:t,children:e.jsx("div",{className:"p-0 collapse-content",children:e.jsx(Oe,{segment_no:0})})}),l==="RoundTrip"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"grid-cols-1 gap-5 mb-4 sm:grid-cols-2 lg:grid-cols-3 one-way-round-trip grid flex-1",children:[e.jsxs("div",{className:"relative grid grid-cols-1 pointer-events-none gap-x-10 gap-y-3 sm:grid-cols-2 sm:col-span-2",children:[e.jsx(K,{label:r("From"),fieldName:{name:"departure_airport",index:1},value:(f=a[1])!=null&&f.departure_airport?a[1].departure_airport_type==="AIRPORT"?`${a[1].departure_airport.code} - ${a[1].departure_airport.airport_name}`:`${a[1].departure_airport.city_code} - ${a[1].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{onClick:()=>d.update(g=>{g.segment[1].arrival_airport=a[1].departure_airport,g.segment[1].departure_airport=a[1].arrival_airport}),type:"button",className:"w-6 h-6 flex justify-center items-center absolute sm:left-1/2 sm:bottom-1 top-1/2 right-8 -translate-x-1/2 -translate-y-1 bg-base-200 text-primary rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((x=a[1])!=null&&x.departure_airport)||!((m=a[1])!=null&&m.arrival_airport),children:e.jsx("img",{src:Se,alt:"",className:"w-full"})}),e.jsx(K,{label:r("To"),fieldName:{name:"arrival_airport",index:1},value:(u=a[1])!=null&&u.arrival_airport?a[1].arrival_airport_type==="AIRPORT"?`${a[1].arrival_airport.code} - ${a[1].arrival_airport.airport_name}`:`${a[1].arrival_airport.city_code} - ${a[1].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(ye,{label:r("return_date"),defaultValue:a[1].departure_date,minDate:a[0].departure_date||"today",action:g=>{d.update(v=>{v.segment[1].departure_date=g})},isArrival:!0})]}),e.jsx("button",{type:"button",onClick:()=>{d.update(g=>{g.journey_type="MultiCity"}),d.update(g=>{g.flight_count=3,g.segment.length<3&&g.segment.push({departure_airport:g.segment.at(-1).departure_airport,departure_airport_type:g.segment.at(-1).departure_airport_type,arrival_airport:null,arrival_airport_type:"",departure_date:"",return_date:"",departure_time:"anytime",departure_time_within:"anytime",booking_class:"Economy",stop:"any",alliance:{include:[],exclude:[]},country:{include:[],exclude:[]},airlines:{include:[],exclude:[]}})})},className:J("ml-1 text-xl removeBtn text-primary",l==="RoundTrip"?"visible":"invisible pointer-events-none"),children:e.jsx("i",{children:e.jsx(te,{})})}),e.jsx("button",{onClick:()=>d.update(g=>{g.journey_type="OneWay"}),className:"ml-1 text-xl removeBtn disabled:opacity-30 text-error",children:e.jsx("i",{children:e.jsx(ee,{})})})]}),e.jsx("button",{onClick:()=>s(!n),type:"button",className:"pl-2",children:n?e.jsx(Ne,{}):e.jsx(we,{})})]}),e.jsx("div",{className:"overflow-visible rounded-none collapse",open:n,children:e.jsx("div",{className:"p-0 collapse-content",children:e.jsx(Oe,{segment_no:1})})})]})]})},Ia=({index:a})=>{var p,c,o,h,y,f;const[l,t]=j.useState(!1),{flight_count:i,segment:n}=d.useState(x=>x),{t:s}=A(),r=x=>{i>2&&d.update(m=>{m.flight_count=i-1,m.segment=n.filter((u,g)=>g!==x)})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center flex-1 gap-1",children:[e.jsxs("div",{className:"grid flex-1 w-full grid-flow-row gap-5 md:grid-flow-col",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-x-10 gap-y-3 md:col-span-3 md:grid-cols-2",children:[e.jsx(K,{label:s("From"),fieldName:{name:"departure_airport",index:a},value:(p=n[a])!=null&&p.departure_airport?n[a].departure_airport_type==="AIRPORT"?`${n[a].departure_airport.code} - ${n[a].departure_airport.airport_name}`:`${n[a].departure_airport.city_code} - ${n[a].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{type:"button",onClick:()=>d.update(x=>{x.segment[a].arrival_airport=n[a].departure_airport,x.segment[a].departure_airport=n[a].arrival_airport}),className:"w-6 h-6 flex justify-center items-center absolute sm:left-1/2 sm:bottom-1 top-1/2 right-8 -translate-x-1/2 -translate-y-1 bg-base-200 text-primary rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((c=n[a])!=null&&c.departure_airport)||!((o=n[a])!=null&&o.arrival_airport),children:e.jsx("img",{src:Se,alt:"",className:"w-full"})}),e.jsx(K,{label:s("To"),fieldName:{name:"arrival_airport",index:a},value:(h=n[a])!=null&&h.arrival_airport?n[a].arrival_airport_type==="AIRPORT"?`${n[a].arrival_airport.code} - ${n[a].arrival_airport.airport_name}`:`${n[a].arrival_airport.city_code} - ${n[a].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(ye,{label:s("departure_date"),minDate:(y=n[a-1])!=null&&y.departure_date?n[a-1].departure_date:"today",defaultValue:((f=n[a])==null?void 0:f.departure_date)||new Date().toDateString(),action:x=>{var m;d.update(u=>{u.segment[a].departure_date=x}),(m=n[a])!=null&&m.arrival_date&&new Date(x)>new Date(n[a].arrival_date)&&d.update(u=>{u.segment[a].arrival_date=""})},segment_no:a})]}),i<6&&i-1===a?e.jsx("div",{className:"tooltip tooltip-secondary w-fit","data-tip":s("add_flight"),children:e.jsx("button",{type:"button",onClick:()=>d.update(x=>{x.flight_count=i+1,x.segment.length<i+1&&x.segment.push({departure_airport:x.segment.at(-1).departure_airport,departure_airport_type:x.segment.at(-1).departure_airport_type,arrival_airport:null,arrival_airport_type:"",departure_date:"",return_date:"",departure_time:"anytime",departure_time_within:"anytime",booking_class:"Economy",stop:"any",alliance:{include:[],exclude:[]},country:{include:[],exclude:[]},airlines:{include:[],exclude:[]}})}),className:"mt-2 ml-1 text-xl removeBtn text-primary",children:e.jsx("i",{children:e.jsx(te,{})})})}):e.jsx("button",{type:"button",className:"invisible text-xl ms-1 removeBtn text-error",children:e.jsx("i",{children:e.jsx(te,{})})}),i>2&&i-1===a?e.jsx("div",{className:"tooltip tooltip-secondary","data-tip":s("remove_flight"),children:e.jsx("button",{type:"button",onClick:()=>r(a),className:"text-xl ms-1 removeBtn text-error",children:e.jsx("i",{children:e.jsx(ee,{})})})}):e.jsx("button",{className:"invisible mt-2 ml-1 text-xl text-neutral/90 removeBtn disabled:opacity-30 text-primary",children:e.jsx("i",{children:e.jsx(ee,{})})})]}),e.jsx("button",{onClick:()=>t(!l),type:"button",className:"pl-2",children:l?e.jsx(Ne,{}):e.jsx(we,{})})]}),e.jsx("div",{className:"overflow-visible rounded-none collapse",open:l,children:e.jsx("div",{className:"p-0 pt-3 collapse-content",children:e.jsx(Oe,{segment_no:a})})})]})},gs=()=>{const{flight_count:a}=d.useState(l=>l);return e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex flex-col gap-2 multi-flight",children:Array(a).fill("").map((l,t)=>e.jsx(Ia,{index:t},String(a)+t))})})},Ea=({items:a,activeTab:l,action:t})=>e.jsx("ul",{className:"flex flex-wrap items-center gap-4 text-xs",children:a.map(i=>e.jsxs("li",{onClick:()=>t(i.value),className:J("flex items-center group cursor-pointer gap-1.5 px-1",l===i.value?"active":""),children:[e.jsx("i",{className:"inline-flex w-3.5 h-3.5 ring-1 border-[3px] border-base-200 rounded-full ring-base-content group-[.active]:ring-primary group-[.active]:bg-primary"})," ",e.jsx("span",{children:i.name})]},i.id))}),Da=[{id:1,name:"One-way",value:"OneWay",icon:e.jsx(Be,{})},{id:2,name:"Round-trip",value:"RoundTrip",icon:e.jsx(Le,{})},{id:3,name:"Multi-city",value:"MultiCity",icon:e.jsx(Me,{})}],fs=()=>{const{journey_type:a}=d.useState(t=>t),{t:l}=A();return e.jsx(Ea,{items:Da.map(t=>({...t,name:l(`${t.value}`)})),activeTab:a,action:t=>d.update(i=>{i.journey_type=t})})},Ta=pe(),ys=()=>{var k,L;const[a,l]=j.useState(!1),{axiosInstance:t}=ae(),{login_required:i}=U.useState(),{journey_type:n,segment:s,preferred_carrier:r,fare_type:p,search_option:c,...o}=d.useState(R=>R),{login_key:h,member_id:y}=((L=(k=Re)==null?void 0:k.useState())==null?void 0:L.user_data)||{},f=d.useState(),{data:x={}}=$({queryKey:["PARTNER_PROFILE",h,y],enabled:i==="yes"||!!h,queryFn:async()=>{var G,b;const R=await t.post("/settings/partner-profile",{login_key:h,member_id:y});if(((G=R==null?void 0:R.data)==null?void 0:G.status)==="success")return R.data;throw{...R,message:((b=R.data)==null?void 0:b.reason)||"Request failed!"}}}),{legal_name:m,contact_person_name:u,isd_code:g,contact_number:v,company_type:O,city:C,state:W,address:T,country:P}=(x==null?void 0:x.partner_profile)||{},Y=!!(m&&u&&g&&v&&O&&C&&W&&T&&P),{t:E}=A(),V=async()=>{var R,G,b,S;if(i==="yes"&&Y===!1){ke.error(e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Please update your partner profile first"}),e.jsx(Pe,{to:"/settings/profile",className:"font-normal text-white normal-case btn btn-xs btn-error",children:"Update"})]}),{toastId:Ta,closeOnClick:!1});return}l(!0),document.body.classList.add("pointer-events-none");try{const N=n==="RoundTrip"?s.map((_,M)=>{var z,ie,le,Ze,Ue,He,Je,$e,Qe,qe,Xe,Ke,et,tt,at,st,rt,nt,it,lt,ct,ot,dt,pt,ut,ht,mt,xt,gt,ft;return{..._,booking_class:_.booking_class||((z=s[M+1])==null?void 0:z.booking_class)||"",stop:_.stop||((ie=s[M+1])==null?void 0:ie.stop)||"",alliance:{include:String((le=_.alliance)==null?void 0:le.include)?(Ze=_.alliance)==null?void 0:Ze.include:((He=(Ue=s[M+1])==null?void 0:Ue.alliance)==null?void 0:He.include)||[],exclude:String((Je=_.alliance)==null?void 0:Je.exclude)?($e=_.alliance)==null?void 0:$e.exclude:((qe=(Qe=s[M+1])==null?void 0:Qe.alliance)==null?void 0:qe.exclude)||[]},country:{include:String((Xe=_.country)==null?void 0:Xe.include)?(Ke=_.country)==null?void 0:Ke.include:((tt=(et=s[M+1])==null?void 0:et.country)==null?void 0:tt.include)||[],exclude:String((at=_.country)==null?void 0:at.exclude)?(st=_.country)==null?void 0:st.exclude:((nt=(rt=s[M+1])==null?void 0:rt.country)==null?void 0:nt.exclude)||[]},airlines:{include:String((it=_.airlines)==null?void 0:it.include)?(lt=_.airlines)==null?void 0:lt.include:((ot=(ct=s[M+1])==null?void 0:ct.airlines)==null?void 0:ot.include)||[],exclude:String((dt=_.airlines)==null?void 0:dt.exclude)?(pt=_.airlines)==null?void 0:pt.exclude:((ht=(ut=s[M+1])==null?void 0:ut.airlines)==null?void 0:ht.exclude)||[]},departure_airport:_.departure_airport_type==="AIRPORT"?(mt=_.departure_airport)==null?void 0:mt.code:(xt=_.departure_airport)==null?void 0:xt.city_code,arrival_airport:_.arrival_airport_type==="AIRPORT"?(gt=_.arrival_airport)==null?void 0:gt.code:(ft=_.arrival_airport)==null?void 0:ft.city_code}}):s.map(_=>{var M,z,ie,le;return{..._,departure_airport:_.departure_airport_type==="AIRPORT"?(M=_.departure_airport)==null?void 0:M.code:(z=_.departure_airport)==null?void 0:z.city_code,arrival_airport:_.arrival_airport_type==="AIRPORT"?(ie=_.arrival_airport)==null?void 0:ie.code:(le=_.arrival_airport)==null?void 0:le.city_code}}),D={...o,journey_type:n,segment:n==="MultiCity"?N.filter(_=>!!_.arrival_airport):n==="RoundTrip"?N.slice(0,2):N.slice(0,1),preferred_carrier:r.map(_=>_.value),fare_account_code:p!=null&&p.includes("ACCOUNT")?o.fare_account_code:[],fare_corporate_code:p!=null&&p.includes("CORPORATE")?o.fare_corporate_code:null,version:3,fare_type:(p==null?void 0:p.length)===0&&!o.travelers_ptc?["PUBLIC","BRAND","PRIVATE"]:p},I=await t.post(c==="calendar"?"/flight/search-calender":`/flight/search?login_required=${i}`,D);if(console.log(I.data),((R=I==null?void 0:I.data)==null?void 0:R.status)==="success"){const _=localStorage.getItem("flightRecentSearch"),M=JSON.parse(_)||[];if(M.some(z=>JSON.stringify(z)===JSON.stringify(f))===!1){const z=[f,...M.slice(0,9)];localStorage.setItem("flightRecentSearch",JSON.stringify(z))}se.update(()=>se._getInitialState()),window.open(`/flight/search?tracking_id=${I.data.tracking_id}`,"_self")}else throw new Error(((G=I==null?void 0:I.data)==null?void 0:G.reason)||((S=(b=I==null?void 0:I.response)==null?void 0:b.data)==null?void 0:S.message))}catch(N){Ie("error","Failed",N.message)}finally{l(!1),document.body.classList.remove("pointer-events-none")}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:V,id:"flight_search_button",className:"h-8 min-h-0 font-normal normal-case duration-300 rounded-md btn btn-sm btn-primary hover:scale-125",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsxs("span",{children:[E("searching"),"..."]})]}):e.jsx("span",{children:E("search")})}),a&&e.jsx("dialog",{className:"modal bg-black/50",open:!0,children:e.jsxs("div",{className:"max-w-xs rounded-md modal-box",children:[e.jsx("div",{className:"relative z-20 mb-2 text-xl font-semibold text-center",children:E("search_flight_title")}),e.jsx("div",{className:"flex items-center justify-center mb-5",children:e.jsx(ta,{color:"hsl(var(--p))"})}),e.jsx("p",{className:"px-4 mb-3 text-center",children:E("search_flight_waiting")})]})})]})},Fa=({supplier_type:a})=>{const{supplier_uid:l}=a==="FLIGHT"?d.useState():_e.useState(),[t,i]=j.useState([]),{supplier_option:n}=U.useState(),{pathname:s}=Jt();return j.useEffect(()=>{if((n==null?void 0:n.status.toLowerCase())==="yes"&&(n!=null&&n.data)){const r=[];n.UnifiedSearch.toLowerCase()==="yes"&&r.push({label:"All",value:"all"}),r.push(...n.data.filter(p=>p.supplier_type===a).map(p=>({label:p.title,value:p.supplier_uid}))),a==="FLIGHT"&&s==="/"?d.update(p=>{var c;p.supplier_uid=((c=r[0])==null?void 0:c.value)||"all"}):a==="HOTEL"&&s==="/"&&_e.update(p=>{var c;p.supplier_uid=((c=r[0])==null?void 0:c.value)||"all"}),i(r)}else i([])},[n,a,s]),j.useEffect(()=>{l||l===null&&d.update(r=>{var p;r.supplier_uid=((p=t[0])==null?void 0:p.value)||"all"})},[l,t]),t.length===0?null:e.jsx("ul",{className:"relative z-10 flex flex-wrap gap-1",children:t.map((r,p)=>e.jsx("li",{onClick:()=>{a==="FLIGHT"?d.update(c=>{c.supplier_uid=r.value}):a==="HOTEL"&&_e.update(c=>{c.supplier_uid=r.value})},className:J("px-4 py-1 text-xs rounded-md cursor-pointer",l===r.value?"bg-primary text-primary-content":"bg-neutral/10 text-base-content"),children:r.label},p))})};Fa.propTypes={supplier_type:w.string.isRequired};const bs=()=>{var p,c;const{travelers_ptc:a,supplier_uid:l}=d.useState(),{supplier_option:t}=U.useState(),{t:i}=A();if(l==="all")return null;const{data:n}=t||{},s=n==null?void 0:n.find(o=>o.supplier_uid===l);if(!((p=s==null?void 0:s.search_box)!=null&&p.PTC))return null;const r=((c=s==null?void 0:s.search_box)==null?void 0:c.PTC)||[];return e.jsxs("div",{className:"input-container",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"input-label",children:i("select_ptc")}),e.jsxs("button",{type:"button",onClick:()=>{d.update(o=>{o.travelers_ptc=null})},className:"h-4 min-h-0 gap-0 p-0 normal-case rounded px-0.5 btn btn-xs btn-ghost group",children:["R",e.jsx("span",{className:"hidden font-normal duration-100 opacity-0 group-hover:inline-block group-hover:opacity-100",children:"eset"})]})]}),e.jsx(We,{className:"field",options:r.map(o=>({label:`${(o==null?void 0:o.ptc_adt)||""}${o!=null&&o.ptc_cnn?"-"+o.ptc_cnn:""}${o!=null&&o.ptc_inf?"-"+o.ptc_inf:""} (${o==null?void 0:o.title})`,value:`${o==null?void 0:o.category}#${o==null?void 0:o.code}`})),defaultValue:a||"",action:o=>{d.update(h=>{var y;h.travelers_ptc=(y=o==null?void 0:o.at(0))==null?void 0:y.value}),d.update(h=>{h.fare_type=[]})}})]})},Z=({label:a,defaultChecked:l,action:t})=>e.jsxs("label",{className:"flex items-center gap-0.5 cursor-pointer",children:[e.jsx("input",{autoComplete:"off",type:"checkbox",checked:l,onClick:i=>t(i.target.checked),className:"rounded checkbox checkbox-xs !border border-neutral/70 checkbox-primary",readOnly:!0}),e.jsx("span",{className:"capitalize select-none",children:a})]});Z.propTypes={label:w.any.isRequired,defaultChecked:w.bool,action:w.func.isRequired};const Ba="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFyGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTA3LTA1VDE0OjU4OjE3KzA1OjMwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA3LTA1VDE0OjU4OjE3KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMi0wNy0wNVQxNDo1ODoxNyswNTozMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkMDQ0Zjk4NC01NzY1LTNjNGMtYmQwYy1kMjRjZmZmMThmNjMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo5NzE1NDZkZi01YzQ3LTg3NDgtOGI5OC01NjJkYWM4NmI1MzYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1YzM1MTQ2YS1mNWZmLWEwNDYtOTcwMi1jZmNkNGEzZGMzZmEiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1YzM1MTQ2YS1mNWZmLWEwNDYtOTcwMi1jZmNkNGEzZGMzZmEiIHN0RXZ0OndoZW49IjIwMjItMDctMDVUMTQ6NTg6MTcrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDA0NGY5ODQtNTc2NS0zYzRjLWJkMGMtZDI0Y2ZmZjE4ZjYzIiBzdEV2dDp3aGVuPSIyMDIyLTA3LTA1VDE0OjU4OjE3KzA1OjMwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+veXGagAABEZJREFUaIHtmmtoW1UcwH/n3ia3W9vN0kHdtEu60S2YtesGo43BDfdN1C8KvqibfpgdVUQnIijswyYDFfEFVRQFUdnW4Wvr9lGwTUwf1lb3aEW0iQW/rN2rW2luknv9cJK1TdM2j1ualvwgkNycc/7nl3P/59xziDBNk5WAstQdsIqCSL5RRKcAeBF4FqiKX18OiSOAG8A54LAwO3gJeG9Ju5Q73wuzg3+A6qXuSY6YClO303LGUFgZCW8qwNWl7oUFFCnAD0vdCwv4SwFeA06xPKbcVFwA9gmzA5BzcgNQC6gsDykBjACdwI2EyOKFsiF/Gh2ILV6oxZuxNIgIhZP9tbz87UMMj5WDBhQtTjhrR0QAdiAGJy+5+cDvJRDaCFEbJSXjHNz5G82N3dRUjsnR0eN1rAhtiUhCIAqnB7dyxLeHvpAjfmvpDwCVmOI4k8Xh8tJxmnYM0NzQg3v9ZYjIejl3ISeRhEAE2odcHOncTW/ICYoBRVEQ5gvAh/GSbUAThhIhrLGm9CaP1Z3nFa8f152jOedQdiIC0EAPK5z908X7Pi8dw5tANcCmJ0odAD5hZh5+BTwDGBgq6DaKV0/wdP0Ar3s6cVZekzJZjFDmIhpEowqnLrr5ONBAZzD+vGnXp5dqAj5HjlcyrcDztz8ZCkRs2FZN0FzfzyFPgOrKKxkLpSeSmEYNaLvk5l2/l57QRjBFsgDAI8DXwKp5WnwbuRBPYQoIa5StnuDAzj6ea+xha+WoFIrkKpKUxEd9u/k15ARhJnIgucaDwAmgdOHQHAUOz7pqKBDWKC8b56ntv9Pi6eae9ZdlDs0zQqlF4gJGBM4NuTjmu49AsHp6Eqdq637gR6AsDYkEbwDHUn5jKKDbKSu5xePb/+BVr48t667I0UkRfrZIMei6yplBFx/57+Xn4U1SYPYtNB0PcAaoyEAiwSHm26EaCug2NC3CN4+28bB7CLs9BpOpRFTkCOiCExe30RpoxB90AClzIJk64CxwdxYSILOgBfh03lKGAjEVryNEi6eLJ9wXUOzm7WlbmN0w9N86ukactA7soDfomCuJU7EN+A6oyVIiQRRoBr5YsKRuB2Gyyxmipb6fxqogrg2jiLr9Bxm5tparYxWghUGNzZUDydQA7cCWnBSmiAL7gOMLljQFxFQ5KVSMUXXHdQR735Q5oGa0rDqQOVGbVZfnZhJ4kkw2ezEVDAUFWyRTiQ3IjZjVEgDFwJfA3rRrqDGwRbJ6jN8P7MqiXrqsIdX6sgDZiJxHzhWLSW+mFbLZ5rQDe4C7mLk0xZAHfe+k2e5nwGlmPo8J4BbwU6adyna/1jXH9c3AW2m20YP8USzB6q1uSQZlNSsDr4RTRqAgkn8URPKNgki+URCxAIsOSyVWi5jIjXM65LXIv8BgGuUMoM/KwFaLXEcelfbG348nvW4CfyMPG36xMrAo/DsozyiI5Bv/A5P5SZ7ROBlBAAAAAElFTkSuQmCC",La="/assets/coming-soon-a3de5032.png",Ma=({className:a,name:l,options:t,action:i,placeholder:n,defaultValue:s,isRequired:r=!1,readOnly:p=!0,...c})=>{const[o,h]=j.useState(!1),[y,f]=j.useState([]);j.useEffect(()=>{o&&f(t)},[t,o]);const x=j.useCallback(m=>{const u=m.target.value.toLowerCase().trim(),g=[],v=[];for(const O of t)O.value===u?g.push(O):O.label.toLowerCase().includes(u)&&v.push(O);return f(g.concat(v))},[t]);return e.jsxs(Q,{open:o,onOpenChange:h,children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:J(a,"flex items-center gap-2 focus-within:outline-0 relative",c!=null&&c.disabled?"pointer-events-none":""),...c,children:[e.jsx("input",{role:"combobox","aria-expanded":o,readOnly:p,name:l,value:t!=null&&t.every(m=>s==null?void 0:s.includes(m==null?void 0:m.value))?"All":s==null?void 0:s.map(m=>{var u;return(u=t==null?void 0:t.find(g=>(g==null?void 0:g.value)===m))==null?void 0:u.label}),className:"flex-1 bg-transparent focus:outline-0 max-w-[calc(100%-1.1rem)]",placeholder:n||"Select...",type:"text",required:r}),e.jsx(Nt,{className:"w-4 h-4 opacity-50 pointer-events-none shrink-0"})]})}),e.jsx(X,{align:"start",className:"w-[200px] p-0 z-[9999]",children:e.jsxs(ue,{shouldFilter:!1,children:[e.jsx(wt,{placeholder:"Search...",className:"h-8",onInput:x}),e.jsx(At,{children:"No result found."}),e.jsx(St,{className:"max-h-[250px] overflow-auto p-0",children:y.map(m=>e.jsxs(H,{onSelect:()=>{i(m.value)},className:"justify-between px-2 py-1 text-xs",children:[m.label,e.jsx(Ot,{className:J("ml-2 h-4 w-4 shrink-0",s.includes(m.value)?"opacity-100":"opacity-0")})]},m.label))})]})})]})},Pa=({account_code_options:a})=>(j.useEffect(()=>{(a==null?void 0:a.length)>0&&d.update(l=>{l.fare_account_code=a.map(t=>t.value)})},[a]),null),Va=()=>{var r;const{supplier_uid:a,fare_account_code:l}=d.useState(),{supplier_option:t}=U.useState(),{data:i}=t||{},n=i.find(p=>p.supplier_uid===a),s=j.useMemo(()=>{var p,c,o;return((o=(c=(p=n==null?void 0:n.search_box)==null?void 0:p["ACCOUNT-CODE"])==null?void 0:c.filter(h=>!!(h!=null&&h.account_code)))==null?void 0:o.map(h=>({label:(h==null?void 0:h.title)||(h==null?void 0:h.account_code),value:`${h==null?void 0:h.category}#${h==null?void 0:h.code}`})))||[]},[n]);return a==="all"||!((r=n==null?void 0:n.search_box)!=null&&r["ACCOUNT-CODE"])||(s==null?void 0:s.length)<1?null:e.jsxs(e.Fragment,{children:[(l==null?void 0:l.length)===0&&e.jsx(Pa,{account_code_options:s}),e.jsx(Ma,{className:"field max-w-[200px]",defaultValue:l||[],action:p=>{d.update(c=>{l.includes(p)?c.fare_account_code=l.filter(o=>o!==p):c.fare_account_code.push(p)})},options:s,placeholder:"Select Account Code"})]})},Ga=()=>{var r,p,c;const{supplier_uid:a,fare_corporate_code:l}=d.useState(),{supplier_option:t}=U.useState();if(a==="all")return null;const{data:i}=t||{},n=i.find(o=>o.supplier_uid===a);if(!((r=n==null?void 0:n.search_box)!=null&&r["COPORATE-CODE"]))return null;const s=((c=(p=n==null?void 0:n.search_box)==null?void 0:p["COPORATE-CODE"])==null?void 0:c.filter(o=>!!(o!=null&&o.coporate_code)))||[];return(s==null?void 0:s.length)<1?null:e.jsx(We,{className:"field",options:s.map(o=>({label:(o==null?void 0:o.title)||(o==null?void 0:o.coporate_code),value:`${o==null?void 0:o.category}#${o==null?void 0:o.code}`})),defaultValue:l||"",action:o=>{d.update(h=>{var y;h.fare_corporate_code=(y=o==null?void 0:o.at(0))==null?void 0:y.value})},placeholder:"Select Corporate Code"})},Wa=()=>{var p,c;const{fare_option:a,supplier_uid:l,baggage_option:t}=d.useState(),{supplier_option:i}=U.useState();if(l==="all")return e.jsx("div",{});const{data:n}=i||{},s=n==null?void 0:n.find(o=>o.supplier_uid===l);if(!((p=s==null?void 0:s.search_box)!=null&&p.PTC))return e.jsx("div",{});const r=((c=s==null?void 0:s.search_box)==null?void 0:c.fare_option)||[];return e.jsxs("div",{className:"max-w-[200px]",children:[e.jsxs("div",{className:"mb-2 input-container",children:[e.jsx("div",{className:"input-label",children:"Fare Option"}),e.jsx(Tt,{className:"field !rounded-sm",defaultValue:a||[],action:o=>{d.update(h=>{a.includes(o)?h.fare_option=a.filter(y=>y!==o):h.fare_option.push(o)})},options:r.map(o=>({label:`${o==null?void 0:o.code} - ${o==null?void 0:o.title}`,value:o.code})),placeholder:"Select Fare Option"})]}),e.jsx("div",{className:"text-xs",children:e.jsx(Z,{label:"Baggage Included",defaultChecked:t==="only-baggage",action:o=>{d.update(h=>{o?h.baggage_option="only-baggage":h.baggage_option="any"})}})})]})},Ya=()=>{var h,y;const{travelers_ptc:a,supplier_uid:l,fare_corporate_code:t,fare_account_code:i,fare_type:n}=d.useState(),{supplier_option:s}=U.useState(),{t:r}=A();if(l==="all")return null;const{data:p}=s||{},c=p==null?void 0:p.find(f=>f.supplier_uid===l);if(!((h=c==null?void 0:c.search_box)!=null&&h.AGENCY_ETHNIC_FARE))return null;const o=((y=c==null?void 0:c.search_box)==null?void 0:y.AGENCY_ETHNIC_FARE)||[];return e.jsxs("div",{className:"input-container mt-0.5 opacity-90",children:[e.jsxs("div",{className:"flex items-center gap-3 px-1",children:[e.jsx("div",{className:"input-label",children:r("agency_ethnic_fare")}),e.jsxs("button",{type:"button",onClick:()=>{const{travelers_ptc:f,fare_corporate_code:x,fare_type:m,fare_account_code:u}=d._getInitialState();d.update(g=>{g.travelers_ptc=f,g.fare_corporate_code=x,g.fare_account_code=u,g.fare_type=m})},className:"h-4 min-h-0 gap-0 p-0 normal-case rounded px-0.5 btn btn-xs btn-ghost group/btn",children:["R",e.jsx("span",{className:"hidden font-normal duration-100 opacity-0 group-hover/btn:inline-block group-hover/btn:opacity-100",children:"eset"})]})]}),e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"table table-xs table-bordered",children:[e.jsx("thead",{}),e.jsx("tbody",{className:"text-[10px]",children:o.map(f=>{const{code:x,category:m,title:u,notes:g,ptc_display:v,airlines_name:O}=f||{},C=`${m}#${x}`;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"ptc-fare-radio",id:"",value:C,checked:m==="PTC"&&a===C||m==="COPORATE-CODE"&&n.includes("CORPORATE")&&t===C||m==="ACCOUNT-CODE"&&n.includes("ACCOUNT")&&i.includes(C),readOnly:!0,className:"radio-xs radio radio-primary",onChange:W=>{W.target.checked&&(m==="PTC"?d.update(T=>{T.travelers_ptc=C,T.fare_type=[]}):m==="COPORATE-CODE"?d.update(T=>{T.fare_corporate_code=C,T.fare_type=["CORPORATE"],T.travelers_ptc=null}):m==="ACCOUNT-CODE"&&d.update(T=>{T.fare_account_code=[C],T.fare_type=["ACCOUNT"],T.travelers_ptc=null}))}})," ",u]})}),e.jsx("td",{children:v}),e.jsx("td",{children:O}),e.jsx("td",{children:e.jsx("p",{className:"line-clamp-1",children:g})})]},x)})})]})})]})},js=()=>{const[a,l]=j.useState(!1),{fare_type:t}=d.useState(),{t:i}=A();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center border border-neutral/80 h-[30px] rounded-[5px] px-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs",onChange:n=>{n.target.type==="checkbox"&&d.update(s=>{s.travelers_ptc=null})},children:[(t==null?void 0:t.includes("PUBLIC"))&&e.jsx(Z,{label:"Public",defaultChecked:t==null?void 0:t.includes("PUBLIC"),action:n=>{d.update(s=>{n?s.fare_type.push("PUBLIC"):s.fare_type=s.fare_type.filter(r=>r!=="PUBLIC")})}}),(t==null?void 0:t.includes("BRAND"))&&e.jsx(Z,{label:"Branded Fare",defaultChecked:t==null?void 0:t.includes("BRAND"),action:n=>{d.update(s=>{n?s.fare_type.push("BRAND"):s.fare_type=s.fare_type.filter(r=>r!=="BRAND")})}}),(t==null?void 0:t.includes("PRIVATE"))&&e.jsx(Z,{label:"Private Fare",defaultChecked:t==null?void 0:t.includes("PRIVATE"),action:n=>{d.update(s=>{n?s.fare_type.push("PRIVATE"):s.fare_type=s.fare_type.filter(r=>r!=="PRIVATE")})}}),(t==null?void 0:t.includes("NEGO"))&&e.jsx(Z,{label:"Nego (Ethnic)",defaultChecked:t==null?void 0:t.includes("NEGO"),action:n=>{d.update(s=>{n?s.fare_type.push("NEGO"):s.fare_type=s.fare_type.filter(r=>r!=="NEGO")})}}),(t==null?void 0:t.includes("NEGO_ONLY"))&&e.jsx(Z,{label:"Nego Only",defaultChecked:t==null?void 0:t.includes("NEGO_ONLY"),action:n=>{d.update(s=>{n?s.fare_type.push("NEGO_ONLY"):s.fare_type=s.fare_type.filter(r=>r!=="NEGO_ONLY")})}}),(t==null?void 0:t.includes("CORPORATE"))&&e.jsx(Z,{label:"Corporate Code",defaultChecked:t==null?void 0:t.includes("CORPORATE"),action:n=>{d.update(s=>{n?s.fare_type.push("CORPORATE"):s.fare_type=s.fare_type.filter(r=>r!=="CORPORATE")})}}),(t==null?void 0:t.includes("ACCOUNT"))&&e.jsx(Z,{label:"Account Code",defaultChecked:t==null?void 0:t.includes("ACCOUNT"),action:n=>{d.update(s=>{n?s.fare_type.push("ACCOUNT"):s.fare_type=s.fare_type.filter(r=>r!=="ACCOUNT")})}})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium uppercase",children:i("select_fare_id")}),e.jsx("button",{onClick:()=>l(!a),type:"button",className:J("inline-flex items-center justify-center text-xl text-warning",a?"rotate-180":""),children:e.jsx("img",{src:Ba,alt:"",className:"w-5"})})]})]}),e.jsx("div",{className:"rounded-none collapse",open:a,children:e.jsxs("div",{className:"p-0 collapse-content",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 sm:grid-flow-col",children:[e.jsxs("div",{onChange:n=>{n.target.type==="checkbox"&&d.update(s=>{s.travelers_ptc=null})},className:"input-container",children:[e.jsx("div",{className:"mb-1 input-label",children:i("fare_type")}),e.jsxs("div",{className:"flex flex-wrap text-xs gap-x-4 gap-y-1",children:[e.jsx(Z,{label:"Public",defaultChecked:t==null?void 0:t.includes("PUBLIC"),action:n=>{d.update(s=>{n?(s.fare_type.push("PUBLIC"),s.fare_type=s.fare_type.filter(r=>["PUBLIC","BRAND","PRIVATE"].includes(r))):s.fare_type=s.fare_type.filter(r=>r!=="PUBLIC")})}}),e.jsx(Z,{label:"Branded Fare",defaultChecked:t==null?void 0:t.includes("BRAND"),action:n=>{d.update(s=>{n?(s.fare_type.push("BRAND"),s.fare_type=s.fare_type.filter(r=>["PUBLIC","BRAND","PRIVATE"].includes(r))):s.fare_type=s.fare_type.filter(r=>r!=="BRAND")})}}),e.jsx(Z,{label:"Private Fare",defaultChecked:t==null?void 0:t.includes("PRIVATE"),action:n=>{d.update(s=>{n?(s.fare_type.push("PRIVATE"),s.fare_type=s.fare_type.filter(r=>["PUBLIC","BRAND","PRIVATE"].includes(r))):s.fare_type=s.fare_type.filter(r=>r!=="PRIVATE")})}})]}),e.jsxs("div",{className:"flex flex-wrap text-xs gap-x-4 gap-y-1 ",children:[e.jsx(Z,{label:"Nego Only",defaultChecked:t==null?void 0:t.includes("NEGO_ONLY"),action:n=>{d.update(s=>{n?s.fare_type=["NEGO_ONLY"]:s.fare_type=s.fare_type.filter(r=>r!=="NEGO_ONLY")})}}),e.jsx(Z,{label:"Nego (ethnic)",defaultChecked:t==null?void 0:t.includes("NEGO"),action:n=>{d.update(s=>{n?s.fare_type=["NEGO"]:s.fare_type=s.fare_type.filter(r=>r!=="NEGO")})}})]}),e.jsx("div",{className:"text-xs",children:e.jsx(Z,{label:"Corporate Code",defaultChecked:t==null?void 0:t.includes("CORPORATE"),action:n=>{d.update(s=>{n?s.fare_type=["CORPORATE"]:s.fare_type=s.fare_type.filter(r=>r!=="CORPORATE")})}})}),e.jsx("div",{className:"text-xs",children:e.jsx(Z,{label:"Account Code",defaultChecked:t==null?void 0:t.includes("ACCOUNT"),action:n=>{d.update(s=>{n?s.fare_type=["ACCOUNT"]:s.fare_type=s.fare_type.filter(r=>r!=="ACCOUNT")})}})}),(t==null?void 0:t.includes("CORPORATE"))&&e.jsx(Ga,{}),(t==null?void 0:t.includes("ACCOUNT"))&&e.jsx(Va,{})]}),e.jsx(Wa,{}),e.jsxs("div",{className:"relative w-full px-1 pointer-events-none bg-neutral/10 input-container opacity-90",children:[e.jsx("img",{src:La,alt:"",className:"absolute top-0 right-0 w-[50px] z-[1] block"}),e.jsx("div",{className:"input-label",children:i("content_option")}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"gap-2 py-0.5 text-xs cursor-pointer label w-fit",children:[e.jsx("input",{type:"radio",name:"radio-10",className:"radio radio-xs"}),e.jsx("span",{children:"All Content"})]}),e.jsxs("label",{className:"gap-2 py-0.5 text-xs cursor-pointer label w-fit",children:[e.jsx("input",{type:"radio",name:"radio-10",className:"radio radio-xs"}),e.jsx("span",{children:"Exclude NDC"})]}),e.jsxs("label",{className:"gap-2 py-0.5 text-xs cursor-pointer label w-fit",children:[e.jsx("input",{type:"radio",name:"radio-10",className:"radio radio-xs"}),e.jsx("span",{children:"Only NDC"})]})]}),e.jsx("div",{className:"input-label",children:"Content Option"}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"py-0.5 text-xs cursor-pointer label w-fit",children:[e.jsx("input",{type:"checkbox",className:"rounded checkbox checkbox-xs",defaultChecked:!1}),e.jsx("span",{children:"NDC Promotion Code"})]})})]})]}),e.jsx(Ya,{})]})})]})},vs=()=>{const{search_option:a}=d.useState();return e.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[e.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx("input",{type:"radio",name:"search_option",className:"radio checked:radio-primary border-neutral radio-xs peer",checked:a==="standard",onChange:()=>d.update(l=>{l.search_option="standard"}),readOnly:!0}),e.jsx("span",{className:"peer-checked:text-primary peer-checked:font-semibold whitespace-nowrap",children:"Standard Search"})]}),e.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx("input",{type:"radio",name:"search_option",className:"radio checked:radio-primary border-neutral radio-xs peer",checked:a==="calendar",onChange:()=>d.update(l=>{l.search_option="calendar"}),readOnly:!0}),e.jsx("span",{className:"peer-checked:text-primary peer-checked:font-semibold whitespace-nowrap",children:"Calendar 3+/-"})]})]})};export{ss as B,Z as C,ts as F,Ka as M,Xa as O,qa as P,Fa as S,as as W,es as a,rs as b,ds as c,os as d,ns as e,us as f,is as g,ls as h,cs as i,ps as j,hs as k,vs as l,fs as m,xs as n,gs as o,ms as p,bs as q,ys as r,js as s,ya as t};
