import{o as Q,q as s,I as xs,b9 as je,P as M,av as $,ba as Ce,R as be,H as L,ab as pe,al as Ne,b6 as es,e as ts,m as fe,T as ls,F as Ae}from"./index-5b04c002.js";import{a3 as D,a2 as z,aA as is,s as ns,_ as rs,c0 as cs,cM as as,cN as Te,P as E,c as Se,c5 as De,G as Ie,cO as _e,B as ve,d as ms,e as ye,b as ue,Q as qe,H as ds,bJ as Be}from"./App-94c4b974.js";const Pe=({route:e})=>{var h,t,l,r,o,g,d,x,a,j,p,N,b,m,f,_,v,n,y,C,F,k,u,A,T,I,i,w,R,S,q,B,P,Y,H,O,U,G,K,X,J,V,W,Z,ss,hs,gs,os,ps,js,bs,Ns,fs,_s,vs,ys,us,ks,ws,Fs,Cs,As,Ts,Ss,Ds,Is,qs,Bs,Ps,Ms,Ls,Rs,$s,Qs,zs,Es,Ys,Hs,Os,Us,Gs,Ks,Xs,Js,Vs,Ws,Zs,se,ee,ae,te,le,ie,ne,re,ce,de,xe,me,he,ge,oe;const{price_view:c}=Q.useState();return s.jsxs(s.Fragment,{children:[s.jsxs(D,{button:s.jsxs("div",{className:"flex gap-1 text-[10px] text-primary/70 px-3",children:[s.jsx("p",{className:"mr-0.5",children:s.jsx(z,{className:"text-xs"})}),s.jsx("p",{children:(l=(t=(h=e.baggages)==null?void 0:h.checked)==null?void 0:t.ADT)!=null&&l.title?e.baggages.checked.ADT.title:"0 kg"})]}),children:[s.jsxs("div",{className:"px-4 py-2 mb-1",children:[s.jsxs("h1",{className:"mb-1 font-medium",children:[s.jsx(z,{className:"text-xs"})," Checked Baggage"]}),s.jsx("p",{className:"text-xs text-neutral",children:"Checked baggage refers to luggage or items that passengers hand over to airline staff at the check-in counter or designated area for storage in the cargo hold of the aircraft during a flight."})]}),s.jsx("div",{className:"w-full px-2 mb-2",children:s.jsxs("table",{className:"table table-xs table-bordered",children:[s.jsx("thead",{}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"text-neutral sm:whitespace-nowrap",children:[s.jsxs("th",{children:[s.jsx(is,{className:"mr-1 max-sm:hidden"})," Passenger Type"]}),s.jsxs("th",{children:[s.jsx(z,{className:"mr-1 max-sm:hidden"})," Baggage"]})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx(ns,{className:"max-sm:hidden"})," ",((g=(o=(r=e==null?void 0:e.baggages)==null?void 0:r.checked)==null?void 0:o.ADT)==null?void 0:g.ptc_title)||"Adult"]}),s.jsx("td",{children:(a=(x=(d=e==null?void 0:e.baggages)==null?void 0:d.checked)==null?void 0:x.ADT)!=null&&a.title?(b=(N=(p=(j=e==null?void 0:e.baggages)==null?void 0:j.checked)==null?void 0:p.ADT)==null?void 0:N.title)!=null&&b.includes("pieces")?`${(_=(f=(m=e==null?void 0:e.baggages)==null?void 0:m.checked)==null?void 0:f.ADT)==null?void 0:_.pieceCount} x 23kg`:e.baggages.checked.ADT.title:"0 kg"})]}),(((y=(n=(v=e==null?void 0:e.baggages)==null?void 0:v.checked)==null?void 0:n.CNN)==null?void 0:y.title)||((k=(F=(C=e==null?void 0:e.baggages)==null?void 0:C.carry_on)==null?void 0:F.CNN)==null?void 0:k.title))&&s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx(rs,{className:"max-sm:hidden"})," ",((T=(A=(u=e==null?void 0:e.baggages)==null?void 0:u.checked)==null?void 0:A.CNN)==null?void 0:T.ptc_title)||"Child"]}),s.jsx("td",{children:(w=(i=(I=e==null?void 0:e.baggages)==null?void 0:I.checked)==null?void 0:i.CNN)!=null&&w.title?(q=(S=(R=e==null?void 0:e.baggages)==null?void 0:R.checked)==null?void 0:S.CNN)!=null&&q.title.includes("pieces")?`${(Y=(P=(B=e==null?void 0:e.baggages)==null?void 0:B.checked)==null?void 0:P.CNN)==null?void 0:Y.pieceCount} x 23kg`:(U=(O=(H=e==null?void 0:e.baggages)==null?void 0:H.checked)==null?void 0:O.CNN)==null?void 0:U.title:"0 kg"})]}),(((X=(K=(G=e==null?void 0:e.baggages)==null?void 0:G.checked)==null?void 0:K.INF)==null?void 0:X.title)||((W=(V=(J=e==null?void 0:e.baggages)==null?void 0:J.carry_on)==null?void 0:V.INF)==null?void 0:W.title))&&s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx(cs,{className:"max-sm:hidden"})," ",((hs=(ss=(Z=e==null?void 0:e.baggages)==null?void 0:Z.checked)==null?void 0:ss.INF)==null?void 0:hs.ptc_title)||"Infant"]}),s.jsx("td",{children:(ps=(os=(gs=e==null?void 0:e.baggages)==null?void 0:gs.checked)==null?void 0:os.INF)!=null&&ps.title?(Ns=(bs=(js=e==null?void 0:e.baggages)==null?void 0:js.checked)==null?void 0:bs.INF)!=null&&Ns.title.includes("pieces")?`${(vs=(_s=(fs=e==null?void 0:e.baggages)==null?void 0:fs.checked)==null?void 0:_s.INF)==null?void 0:vs.pieceCount} x 23kg`:(ks=(us=(ys=e==null?void 0:e.baggages)==null?void 0:ys.checked)==null?void 0:us.INF)==null?void 0:ks.title:"0 kg"})]})]})]})})]}),s.jsxs(D,{button:s.jsxs("div",{className:"flex gap-1 text-[10px] text-secondary/70 px-3",children:[s.jsx("p",{className:"mr-0.5",children:s.jsx(as,{className:"text-xs"})}),s.jsx("p",{children:(Cs=(Fs=(ws=e.baggages)==null?void 0:ws.carry_on)==null?void 0:Fs.ADT)!=null&&Cs.title&&((Ss=(Ts=(As=e.baggages)==null?void 0:As.carry_on)==null?void 0:Ts.ADT)==null?void 0:Ss.title)||"7 kg*"})]}),children:[s.jsxs("div",{className:"px-4 py-2 mb-1",children:[s.jsxs("h1",{className:"mb-1 font-medium",children:[s.jsx(as,{className:"text-xs"})," Carry-On/Hand/Cabin Baggage"]}),s.jsx("p",{className:"text-xs text-neutral",children:"Carry-on, hand, or cabin baggage refers to the luggage that passengers are allowed to bring with them onto the airplane and keep in the cabin during the flight. These are typically smaller bags or suitcases that passengers can keep with them in the overhead compartments or under the seat in front of them."})]}),s.jsx("div",{className:"w-full px-2 mb-2",children:s.jsxs("table",{className:"table table-xs table-bordered",children:[s.jsx("thead",{}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"text-neutral sm:whitespace-nowrap",children:[s.jsxs("th",{children:[s.jsx(is,{className:"mr-1 max-sm:hidden"})," Passenger Type"]}),s.jsxs("th",{children:[s.jsx(as,{className:"mr-1 max-sm:hidden"})," Hand Baggage"]})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx(ns,{className:"max-sm:hidden"})," Adult"]}),s.jsx("td",{children:(qs=(Is=(Ds=e.baggages)==null?void 0:Ds.carry_on)==null?void 0:Is.ADT)!=null&&qs.title?(Ls=(Ms=(Ps=(Bs=e.baggages)==null?void 0:Bs.carry_on)==null?void 0:Ps.ADT)==null?void 0:Ms.title)!=null&&Ls.includes("pieces")?`${(Qs=($s=(Rs=e.baggages)==null?void 0:Rs.carry_on)==null?void 0:$s.ADT)==null?void 0:Qs.pieceCount} x 10kg`:((Ys=(Es=(zs=e.baggages)==null?void 0:zs.carry_on)==null?void 0:Es.ADT)==null?void 0:Ys.title)||"7 kg*":"7 kg*"})]}),(((Us=(Os=(Hs=e==null?void 0:e.baggages)==null?void 0:Hs.checked)==null?void 0:Os.CNN)==null?void 0:Us.title)||((Xs=(Ks=(Gs=e==null?void 0:e.baggages)==null?void 0:Gs.carry_on)==null?void 0:Ks.CNN)==null?void 0:Xs.title))&&s.jsxs("tr",{className:"text-neutral",children:[s.jsxs("td",{children:[s.jsx(rs,{className:"max-sm:hidden"})," Child"]}),s.jsx("td",{children:(Ws=(Vs=(Js=e.baggages)==null?void 0:Js.carry_on)==null?void 0:Vs.CNN)!=null&&Ws.title?(ae=(ee=(se=(Zs=e.baggages)==null?void 0:Zs.carry_on)==null?void 0:se.CNN)==null?void 0:ee.title)!=null&&ae.includes("pieces")?`${(ie=(le=(te=e.baggages)==null?void 0:te.carry_on)==null?void 0:le.CNN)==null?void 0:ie.pieceCount} x 10kg`:((ce=(re=(ne=e.baggages)==null?void 0:ne.carry_on)==null?void 0:re.CNN)==null?void 0:ce.title)||"7 kg*":"7 kg*"})]}),(((me=(xe=(de=e==null?void 0:e.baggages)==null?void 0:de.checked)==null?void 0:xe.INF)==null?void 0:me.title)||((oe=(ge=(he=e==null?void 0:e.baggages)==null?void 0:he.carry_on)==null?void 0:ge.INF)==null?void 0:oe.title))&&s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx(cs,{className:"max-sm:hidden"})," Infant"]}),s.jsx("td",{})]})]})]})})]}),s.jsx("div",{className:"flex gap-2 text-[10px] text-warning/80 px-3",children:s.jsxs("p",{className:"mr-0.5",children:[s.jsx(Te,{className:"mr-1 text-base"}),s.jsxs("span",{className:"capitalize",children:[e.booking_class.cabin_class," ",(c==null?void 0:c.show_booking_code)==="YES"&&s.jsxs(s.Fragment,{children:["(",e.booking_class.booking_code,")"]})]})]})}),s.jsx("div",{className:"flex gap-2 text-[10px] text-secondary/70 px-3",children:s.jsxs("p",{className:"mr-0.5",children:[s.jsx(xs,{path:je,size:.8,className:"mr-1"}),e.aircraft.name]})})]})},ke=({booking_class:e,children:c})=>{var r,o,g;const{price_view:h}=Q.useState(),{brand:t}=e||{},l=(o=(r=t==null?void 0:t.image)==null?void 0:r.find(d=>{var x;return((x=d==null?void 0:d.size)==null?void 0:x.Type)==="Agent"}))==null?void 0:o.link;return s.jsxs(D,{button:c,isDisabled:(h==null?void 0:h.show_flight_fare_rules)!=="YES"||!(t!=null&&t.title),children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-1",children:[l&&s.jsx("img",{className:"w-8 h-8 rounded-full",src:l,alt:""}),s.jsx("p",{children:t==null?void 0:t.title})]}),s.jsx("ul",{className:"px-4 mb-4 ml-4 space-y-2 text-xs list-disc text-start",children:Array.isArray(t==null?void 0:t.details)?(g=t==null?void 0:t.details)==null?void 0:g.map((d,x)=>s.jsx("li",{children:d},x)):s.jsx("li",{children:t==null?void 0:t.details})})]})},Me=({singleFlightData:e})=>{var g,d,x,a,j,p;const{no_of_stops:c,no_of_stops_title:h,routes:t,flight_time:l}=e,{system_config:r}=Q.useState(),o=(d=(g=t==null?void 0:t.at(0))==null?void 0:g.booking_class)==null?void 0:d.seat_available;return s.jsxs("div",{children:[s.jsxs("div",{className:"grid justify-between gap-3 mb-2 gap-y-8 sm:grid-cols-6",children:[s.jsx("div",{className:"sm:col-span-2",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative shrink-0 w-fit h-[2.8rem]",children:[s.jsx("img",{className:"border rounded-full w-[2.8rem] h-[2.8rem]",src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${t[0].operating.carrier_logo}`,alt:""}),t[0].operating.carrier!==t[0].marketing.carrier&&s.jsx(D,{button:s.jsx("img",{className:"border rounded-full w-[2rem] h-[2rem] absolute -bottom-2 -right-2",src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${t[0].marketing.carrier_logo}`,alt:""}),children:s.jsx("div",{className:"p-2",children:s.jsx("p",{className:"text-[11px]",children:t[0].marketing.carrier_name})})})]}),s.jsxs("div",{children:[s.jsx("h6",{children:t[0].operating.carrier_name||t[0].operating.carrier}),s.jsxs("p",{className:"text-xs text-neutral",children:[(a=(x=t[0])==null?void 0:x.operating)==null?void 0:a.carrier,"-",(p=(j=t[0])==null?void 0:j.operating)==null?void 0:p.flight_number]})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 sm:col-span-4 gap-x-3 h-fit",children:[s.jsxs("div",{className:"text-start",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("h4",{className:"text-xl font-semibold max-sm:text-xl",children:t[0].departure_time.substring(11,16)}),s.jsx("p",{className:"text-[11px] max-sm:text-[10px] text-neutral",children:M(t[0].departure_time.substring(0,10)).format(r.default_date_format_print)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("p",{className:"text-sm font-semibold",children:t[0].origin}),s.jsx("p",{className:"text-[#b5b5b5] text-[10px]",children:t[0].origin_terminal?`Terminal ${t[0].origin_terminal}`:""})]}),s.jsx(D,{button:s.jsx("p",{className:"text-xs max-sm:text-[10px] text-neutral line-clamp-1",children:t[0].origin_airport.name}),children:s.jsx("div",{className:"p-2 pb-0 text-xs",children:t[0].origin_airport.name})})]}),s.jsxs("div",{className:"self-center flex-shrink-0 text-center",children:[s.jsx("h6",{className:"mx-auto mb-2 max-sm:text-[10px] text-xs font-medium stops1 w-fit",children:$(l)}),s.jsx("div",{className:Se("w-14 h-0.5 flex  relative my-2 mx-auto justify-center gap-1 items-center",c>0?"bg-orange-500":"bg-primary"),children:Array(c).fill("").map((N,b)=>{var m;return s.jsx("div",{className:"flex w-2 h-2 bg-orange-500 border border-white rounded-full ring-1 ring-orange-500 tooltip tooltip-warning before:text-white","data-tip":$((m=t[b+1])==null?void 0:m.lay_over)},b)})}),s.jsx("p",{className:"text-[10px]",children:h})]}),s.jsxs("div",{className:"text-end",children:[s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("h4",{className:"text-xl font-semibold max-sm:text-xl",children:t.at(-1).arrival_time.substring(11,16)}),s.jsx("p",{className:"text-[11px] max-sm:text-[10px] text-neutral",children:M(t.at(-1).arrival_time.substring(0,10)).format(r.default_date_format_print)})]}),s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("p",{className:"text-sm font-semibold",children:t.at(-1).destination}),s.jsx("p",{className:"text-[#b5b5b5] text-[10px]",children:t.at(-1).destination_terminal?`Terminal ${t.at(-1).destination_terminal}`:""})]}),s.jsx(D,{button:s.jsx("p",{className:"text-[10px] text-neutral line-clamp-1 pr-1",children:t.at(-1).destination_airport.name}),children:s.jsx("div",{className:"p-2 pb-0 text-xs",children:t.at(-1).destination_airport.name})})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(Pe,{route:t[0]}),!!o&&!!Number(o)&&s.jsx("div",{className:"flex gap-2 text-[10px] text-primary/70 px-3",children:s.jsxs("p",{className:"mr-0.5",children:[s.jsx(xs,{path:Ce,size:.8,className:"mr-1"}),o]})})]})]})};Me.propTypes={singleFlightData:E.object.isRequired};const we=({route:e})=>{var h,t,l,r,o,g,d,x,a,j,p,N,b,m,f,_,v,n,y,C,F,k,u,A,T,I,i,w,R,S,q,B,P,Y,H,O,U,G,K,X,J,V,W,Z,ss;const{price_view:c}=Q.useState();return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-[10px] text-neutral font-medium",children:"Facilities:"}),s.jsxs(D,{button:s.jsxs("div",{className:"flex gap-1 text-[10px] text-neutral",children:[s.jsx("p",{className:"mr-0.5",children:s.jsx(z,{className:"text-xs"})}),s.jsx("p",{children:"Baggage"}),s.jsxs("p",{children:[(l=(t=(h=e.baggages)==null?void 0:h.checked)==null?void 0:t.ADT)!=null&&l.title?e.baggages.checked.ADT.title:"0 kg","."]})]}),children:[s.jsx("div",{className:"px-4 py-2 mb-1",children:s.jsxs("h1",{className:"font-medium",children:[s.jsx(z,{className:"text-xs"})," Baggage"]})}),s.jsx("div",{className:"w-full px-2 mb-2",children:s.jsxs("table",{className:"table table-xs table-bordered",children:[s.jsx("thead",{}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"text-neutral sm:whitespace-nowrap",children:[s.jsxs("th",{children:[s.jsx(is,{className:"mr-1 max-sm:hidden"})," Passenger Type"]}),s.jsxs("th",{children:[s.jsx(z,{className:"mr-1 max-sm:hidden"})," Checked Baggage"]}),s.jsxs("th",{children:[s.jsx(as,{className:"mr-1 max-sm:hidden"})," Hand Baggage"]})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx(ns,{className:"max-sm:hidden"})," ",((g=(o=(r=e==null?void 0:e.baggages)==null?void 0:r.checked)==null?void 0:o.ADT)==null?void 0:g.ptc_title)||"Adult"]}),s.jsx("td",{children:(a=(x=(d=e==null?void 0:e.baggages)==null?void 0:d.checked)==null?void 0:x.ADT)!=null&&a.title?e.baggages.checked.ADT.title:"0 kg"}),s.jsx("td",{children:(N=(p=(j=e.baggages)==null?void 0:j.carry_on)==null?void 0:p.ADT)!=null&&N.title?e.baggages.carry_on.ADT.title:"7 kg*"})]}),(((f=(m=(b=e==null?void 0:e.baggages)==null?void 0:b.checked)==null?void 0:m.CNN)==null?void 0:f.title)||((n=(v=(_=e==null?void 0:e.baggages)==null?void 0:_.carry_on)==null?void 0:v.CNN)==null?void 0:n.title))&&s.jsxs("tr",{className:"text-neutral",children:[s.jsxs("td",{children:[s.jsx(rs,{className:"max-sm:hidden"})," ",((F=(C=(y=e==null?void 0:e.baggages)==null?void 0:y.checked)==null?void 0:C.CNN)==null?void 0:F.ptc_title)||"Child"]}),s.jsx("td",{children:(A=(u=(k=e==null?void 0:e.baggages)==null?void 0:k.checked)==null?void 0:u.CNN)!=null&&A.title?e.baggages.checked.CNN.title:"0 kg"}),s.jsx("td",{children:(i=(I=(T=e==null?void 0:e.baggages)==null?void 0:T.carry_on)==null?void 0:I.CNN)!=null&&i.title?e.baggages.carry_on.CNN.title:"7 kg*"})]}),(((S=(R=(w=e==null?void 0:e.baggages)==null?void 0:w.checked)==null?void 0:R.INF)==null?void 0:S.title)||((P=(B=(q=e==null?void 0:e.baggages)==null?void 0:q.carry_on)==null?void 0:B.INF)==null?void 0:P.title))&&s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx(cs,{className:"max-sm:hidden"})," ",((O=(H=(Y=e==null?void 0:e.baggages)==null?void 0:Y.checked)==null?void 0:H.INF)==null?void 0:O.ptc_title)||"Infant"]}),s.jsx("td",{children:(K=(G=(U=e==null?void 0:e.baggages)==null?void 0:U.checked)==null?void 0:G.INF)!=null&&K.title?e.baggages.checked.INF.title:"0 kg"}),s.jsx("td",{})]})]})]})})]}),s.jsx("div",{className:"flex gap-2 text-[10px] text-neutral",children:s.jsxs("p",{className:"mr-0.5",children:[s.jsx("img",{src:"/cabin-class-icon.png",alt:"cabin-class",className:"w-3.5 mr-1 inline-flex opacity-50"}),s.jsxs("span",{className:"capitalize",children:[e.booking_class.cabin_class," ",(c==null?void 0:c.show_booking_code)==="YES"&&s.jsxs(s.Fragment,{children:["(",e.booking_class.booking_code,")"]})]})]})}),s.jsx("div",{className:"flex gap-2 text-[10px] text-neutral",children:s.jsxs("p",{className:"mr-0.5",children:[s.jsx(xs,{path:je,size:.8,className:"mr-1"}),e.aircraft.name]})}),((X=e==null?void 0:e.booking_class)==null?void 0:X.seat_available)&&!!Number((J=e==null?void 0:e.booking_class)==null?void 0:J.seat_available)&&s.jsxs("div",{className:"flex gap-2 text-[10px] text-neutral",children:[s.jsxs("span",{children:[s.jsx(De,{className:"mr-0.5 text-base"}),"Seat:"]})," ",s.jsx("span",{children:(V=e==null?void 0:e.booking_class)==null?void 0:V.seat_available})]}),((W=e==null?void 0:e.booking_class)==null?void 0:W.meal_code)&&((Z=e==null?void 0:e.booking_class)==null?void 0:Z.meal_code)!=="not-available"&&s.jsxs("div",{className:"flex gap-2 text-[10px] text-neutral",children:[s.jsx("span",{children:s.jsx(Ie,{className:"text-base"})})," ",s.jsx("span",{children:(ss=e==null?void 0:e.booking_class)==null?void 0:ss.meal_code})]})]})},Le=({singleFlightData:e})=>{var g,d,x,a,j,p,N,b,m,f,_,v,n,y,C,F,k,u,A,T,I;const{no_of_stops:c,no_of_stops_title:h,flight_time:t,routes:l}=e,{system_config:r}=Q.useState(),o=[...new Set(l.map(i=>i.operating.carrier_logo))].reverse();return s.jsxs("div",{children:[s.jsxs("div",{className:"grid justify-between gap-3 px-3 mb-3 gap-y-8 sm:grid-cols-5",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("div",{className:"-space-x-4 avatar-group rtl:space-x-reverse",children:o.map(i=>s.jsx("div",{className:"avatar w-[2rem] h-[2rem] !border bg-base-200",children:s.jsx("div",{children:s.jsx("img",{src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${i}`})})},i))}),s.jsx("div",{children:s.jsx("h6",{className:"font-semibold",children:l[0].operating.carrier_name||l[0].operating.carrier})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h6",{className:"text-[13px] text-neutral",children:[(d=(g=l[0])==null?void 0:g.operating)==null?void 0:d.carrier," ",(a=(x=l[0])==null?void 0:x.operating)==null?void 0:a.flight_number]}),(((N=(p=(j=l[0])==null?void 0:j.booking_class)==null?void 0:p.brand)==null?void 0:N.title)||((m=(b=l[0])==null?void 0:b.booking_class)==null?void 0:m.cabin_class))&&s.jsx(ke,{booking_class:(f=l[0])==null?void 0:f.booking_class,children:s.jsx("div",{className:"text-[11px] rounded badge badge-sm badge-secondary tracking-wider capitalize flex",children:((y=(n=(v=(_=l[0])==null?void 0:_.booking_class)==null?void 0:v.brand)==null?void 0:n.title)==null?void 0:y.toLowerCase())||((k=(F=(C=l[0])==null?void 0:C.booking_class)==null?void 0:F.cabin_class)==null?void 0:k.toLowerCase())})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 sm:col-span-3 gap-x-3 h-fit",children:[s.jsxs("div",{className:"text-start",children:[s.jsx("h4",{className:"text-xl font-semibold max-sm:text-lg",children:l[0].departure_time.substring(11,16)}),s.jsx("p",{className:"text-xs max-sm:text-[10px] text-neutral",children:M((A=(u=l[0])==null?void 0:u.departure_time)==null?void 0:A.substring(0,10)).format(r.default_date_format_print)}),s.jsx(D,{button:s.jsx("p",{className:"text-xs text-neutral",children:l[0].origin}),children:s.jsx("div",{className:"p-2 pb-0 text-xs",children:l[0].origin_airport.name})})]}),s.jsx("div",{className:"self-center",children:s.jsx(D,{button:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsxs("div",{className:"flex items-center w-32 gap-1 min-h-4",children:[s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("span",{className:"flex w-1 h-1 bg-neutral/70 shrink-0"}),s.jsx("span",{className:"flex flex-1 h-0 border-b border-dashed border-b-neutral/50"}),c===0&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs whitespace-nowrap text-neutral",children:h}),s.jsx("span",{className:"flex flex-1 h-0 border-b border-dashed border-b-neutral/50"}),s.jsx("span",{className:"flex w-1 h-1 bg-neutral/70 shrink-0"})]})]}),[...Array(c)].map((i,w)=>s.jsxs(be.Fragment,{children:[s.jsx(_e,{className:"text-lg rotate-90 text-neutral shrink-0"}),s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("span",{className:"flex flex-1 h-0 border-b border-dashed border-b-neutral/50"}),(c===1||c>1&&w>0)&&s.jsx("span",{className:"flex w-1 h-1 bg-neutral/70 shrink-0"})]})]},w))]}),s.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-neutral whitespace-nowrap",children:[s.jsx("span",{children:$(t)}),c>0&&s.jsxs(s.Fragment,{children:[s.jsx(ve,{}),s.jsx("p",{children:h})]})]})]}),children:s.jsx("div",{className:"px-4 py-2",children:l.map((i,w)=>{var q,B,P;const{flight_time:R,lay_over:S}=i;return s.jsxs("div",{children:[S&&S!=="not-applicable"&&w>0&&s.jsxs("div",{className:"flex items-center justify-center gap-1 py-1 pr-2 my-2 ml-1 text-xs bg-base-100 text-error",children:[$(S)," Layover in"," ",(q=i==null?void 0:i.origin_airport)==null?void 0:q.city]}),s.jsxs("div",{className:"grid flex-1 grid-cols-4 sm:col-span-4 gap-x-3 h-fit",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("img",{className:"border rounded-full w-[2.5rem] h-[2.5rem]",src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${i.operating.carrier_logo}`,alt:""}),s.jsxs("div",{className:"max-sm:hidden",children:[s.jsx("h6",{className:"font-semibold",children:i.operating.carrier_name||i.operating.carrier}),s.jsxs("p",{className:"text-[#9BA0B2] text-xs",children:[(B=i.operating)==null?void 0:B.carrier," |"," ",(P=i.operating)==null?void 0:P.flight_number]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-sm font-semibold",children:i.departure_time.substring(11,16)}),s.jsx("p",{className:"text-xs max-sm:text-[10px] text-neutral",children:M(i.departure_time.substring(0,10)).format(r.default_date_format_print)}),s.jsx("p",{className:"text-xs text-neutral",children:i.origin_airport.city})]}),s.jsxs("div",{className:"self-center flex-shrink-0 space-y-1 text-center",children:[s.jsx("h6",{className:"mx-auto max-sm:text-[10px] text-xs font-medium stops1 w-fit",children:$(R)}),s.jsx("div",{className:"w-14 h-0.5 flex  relative my-2 mx-auto justify-center gap-1 items-center bg-primary"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-sm font-semibold",children:i.arrival_time.substring(11,16)}),s.jsx("p",{className:"text-xs max-sm:text-[10px] text-neutral",children:M(i.arrival_time.substring(0,10)).format(r.default_date_format_print)}),s.jsx("p",{className:"text-xs text-neutral",children:i.destination_airport.city})]})]})]},w)})})})}),s.jsxs("div",{className:"text-end",children:[s.jsx("h4",{className:"text-xl font-semibold max-sm:text-lg",children:l.at(-1).arrival_time.substring(11,16)}),s.jsx("p",{className:"text-xs max-sm:text-[10px] text-neutral",children:M((I=(T=l.at(-1))==null?void 0:T.arrival_time)==null?void 0:I.substring(0,10)).format(r.default_date_format_print)}),s.jsx(D,{button:s.jsx("p",{className:"text-xs text-neutral",children:l.at(-1).destination}),children:s.jsx("div",{className:"p-2 pb-0 text-xs",children:l.at(-1).destination_airport.name})})]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-3 px-3 py-1 whitespace-nowrap border-y",children:s.jsx(we,{route:l[0]})})]})};Le.propTypes={singleFlightData:E.object.isRequired};const Re=({singleFlightData:e})=>{var g,d,x,a,j,p,N,b,m,f,_,v,n,y,C,F,k,u,A,T,I;const{no_of_stops:c,no_of_stops_title:h,flight_time:t,routes:l}=e,{system_config:r}=Q.useState(),o=[...new Set(l.map(i=>i.operating.carrier_logo))].reverse();return s.jsxs("div",{children:[s.jsxs("div",{className:"grid justify-between gap-3 px-3 mb-3 gap-y-8 sm:grid-cols-5",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("div",{className:"-space-x-4 avatar-group rtl:space-x-reverse",children:o.map(i=>s.jsx("div",{className:"avatar w-[1.5rem] h-[1.5rem] !border bg-base-200",children:s.jsx("div",{children:s.jsx("img",{src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${i}`})})},i))}),s.jsx("div",{children:s.jsx("h6",{className:"text-sm line-clamp-1",children:l[0].operating.carrier_name||l[0].operating.carrier})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h6",{className:"text-xs text-neutral min-w-12",children:[(d=(g=l[0])==null?void 0:g.operating)==null?void 0:d.carrier," ",(a=(x=l[0])==null?void 0:x.operating)==null?void 0:a.flight_number]}),(((N=(p=(j=l[0])==null?void 0:j.booking_class)==null?void 0:p.brand)==null?void 0:N.title)||((m=(b=l[0])==null?void 0:b.booking_class)==null?void 0:m.cabin_class))&&s.jsx(ke,{booking_class:(f=l[0])==null?void 0:f.booking_class,children:s.jsx("div",{className:"text-[10px] rounded h-4 border border-secondary text-secondary items-center justify-center border-dashed px-1 font-semibold tracking-tight uppercase flex",children:((y=(n=(v=(_=l[0])==null?void 0:_.booking_class)==null?void 0:v.brand)==null?void 0:n.title)==null?void 0:y.toLowerCase())||((k=(F=(C=l[0])==null?void 0:C.booking_class)==null?void 0:F.cabin_class)==null?void 0:k.toLowerCase())})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 sm:col-span-3 gap-x-3 h-fit",children:[s.jsxs("div",{className:"text-start",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{button:s.jsx("p",{className:"text-lg",children:l[0].origin}),children:s.jsx("div",{className:"p-2 pb-0 text-xs",children:l[0].origin_airport.name})}),s.jsx("h4",{className:"text-lg font-bold max-sm:text-lg",children:l[0].departure_time.substring(11,16)})]}),s.jsx("p",{className:"text-xs font-medium text-neutral/80",children:M(l.at(0).departure_time.substring(0,10)).format("ddd DD MMM")}),s.jsx("p",{className:"text-xs font-medium text-neutral/80",children:(A=(u=l.at(0))==null?void 0:u.origin_airport)==null?void 0:A.city})]}),s.jsx("div",{className:"self-center",children:s.jsx(D,{button:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsxs("div",{className:"flex items-center w-32 gap-1 min-h-4",children:[s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("span",{className:"flex w-1 h-1 bg-neutral/70 shrink-0"}),s.jsx("span",{className:"flex flex-1 h-0 border-b border-dashed border-b-neutral/50"}),c===0&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs whitespace-nowrap text-neutral",children:h}),s.jsx("span",{className:"flex flex-1 h-0 border-b border-dashed border-b-neutral/50"}),s.jsx("span",{className:"flex w-1 h-1 bg-neutral/70 shrink-0"})]})]}),[...Array(c)].map((i,w)=>s.jsxs(be.Fragment,{children:[s.jsx(_e,{className:"text-lg rotate-90 text-neutral shrink-0"}),s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("span",{className:"flex flex-1 h-0 border-b border-dashed border-b-neutral/50"}),(c===1||c>1&&w>0)&&s.jsx("span",{className:"flex w-1 h-1 bg-neutral/70 shrink-0"})]})]},w))]}),s.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-neutral whitespace-nowrap",children:[s.jsx("span",{children:$(t)}),c>0&&s.jsxs(s.Fragment,{children:[s.jsx(ve,{}),s.jsx("p",{children:h})]})]})]}),children:s.jsx("div",{className:"px-4 py-2",children:l.map((i,w)=>{var q,B,P;const{flight_time:R,lay_over:S}=i;return s.jsxs("div",{children:[S&&S!=="not-applicable"&&w>0&&s.jsxs("div",{className:"flex items-center justify-center gap-1 py-1 pr-2 my-2 ml-1 text-xs bg-base-100 text-error",children:[$(S)," Layover in"," ",(q=i==null?void 0:i.origin_airport)==null?void 0:q.city]}),s.jsxs("div",{className:"grid flex-1 grid-cols-4 sm:col-span-4 gap-x-3 h-fit",children:[s.jsxs("div",{className:"flex items-center self-center gap-2",children:[s.jsx("img",{className:"border rounded-full w-[1.5rem] h-[1.5rem]",src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${i.operating.carrier_logo}`,alt:""}),s.jsxs("div",{className:"max-sm:hidden",children:[s.jsx("h6",{className:"text-sm line-clamp-1",children:i.operating.carrier_name||i.operating.carrier}),s.jsxs("p",{className:"text-xs text-neutral/80",children:[(B=i.operating)==null?void 0:B.carrier," |"," ",(P=i.operating)==null?void 0:P.flight_number]})]})]}),s.jsxs("div",{className:"text-start",children:[s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("p",{className:"text-sm",children:i.origin}),s.jsx("h4",{className:"text-sm font-semibold",children:i.departure_time.substring(11,16)})]}),s.jsx("p",{className:"text-[10px] text-neutral/80",children:M(i.departure_time.substring(0,10)).format(r.default_date_format_print)}),s.jsx("p",{className:"text-[10px] text-neutral/80",children:i.origin_airport.city})]}),s.jsxs("div",{className:"self-center flex-shrink-0 space-y-1 text-center",children:[s.jsx("h6",{className:"mx-auto max-sm:text-[10px] text-xs font-medium stops1 w-fit",children:$(R)}),s.jsx("div",{className:"w-14 h-0.5 flex  relative my-2 mx-auto justify-center gap-1 items-center bg-primary"})]}),s.jsxs("div",{className:"text-end",children:[s.jsxs("div",{className:"flex justify-end gap-1.5",children:[s.jsx("p",{className:"text-sm",children:i.destination}),s.jsx("h4",{className:"text-sm font-semibold",children:i.arrival_time.substring(11,16)})]}),s.jsx("p",{className:"text-[10px] text-neutral/80",children:M(i.arrival_time.substring(0,10)).format(r.default_date_format_print)}),s.jsx("p",{className:"text-[10px] text-neutral/80",children:i.destination_airport.city})]})]})]},w)})})})}),s.jsxs("div",{className:"text-end",children:[s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("h4",{className:"text-lg font-bold",children:l.at(-1).arrival_time.substring(11,16)}),s.jsx(D,{button:s.jsx("p",{className:"text-lg",children:l.at(-1).destination}),children:s.jsx("div",{className:"p-2 pb-0 text-xs",children:l.at(-1).destination_airport.name})})]}),s.jsx("p",{className:"text-xs font-medium text-neutral/80",children:M(l.at(-1).arrival_time.substring(0,10)).format("ddd DD MMM")}),s.jsx("p",{className:"text-xs font-medium text-neutral/80",children:(I=(T=l.at(-1))==null?void 0:T.destination_airport)==null?void 0:I.city})]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-3 px-3 py-1 whitespace-nowrap",children:s.jsx(we,{route:l[0]})})]})};Re.propTypes={singleFlightData:E.object.isRequired};const $e=({price_breakdown:e=[]})=>{var l,r,o,g,d,x;const{show_sell_price:c,show_fmg_price:h}=Q.useState().price_view||{},{search_result_version:t}=((l=Q.useState())==null?void 0:l.system_config)||{};return t==="7"?s.jsxs("div",{className:"divide-y divide-dashed border-y",children:[s.jsxs("div",{className:"grid grid-cols-9 text-[11px] *:p-2 font-medium",children:[s.jsx("div",{children:"Pax Type"}),s.jsx("div",{children:"Base Fare"}),s.jsx("div",{children:"Taxes + Fees"}),s.jsx("div",{children:"Other"}),s.jsx("div",{children:"Discount"}),s.jsx("div",{children:"AIT & Vat"}),s.jsx("div",{children:"Per Passenger"}),s.jsx("div",{children:"Pax Count"}),s.jsx("div",{className:"text-[13px] font-semibold",children:"Sub Total"})]}),e==null?void 0:e.map((a,j)=>{var p,N,b,m,f,_;return s.jsxs("div",{className:"grid grid-cols-9 text-[11px] *:p-2",children:[s.jsx("div",{children:a.passenger_type==="ADT"?a.ptc_title||"Adult":a.passenger_type==="CNN"?a.ptc_title||"Child":a.ptc_title||"Infant"}),s.jsx("div",{children:((p=a.base_fare)==null?void 0:p.amount)||0}),s.jsx("div",{children:((N=a.tax)==null?void 0:N.amount)||0}),s.jsx("div",{children:((b=a.other)==null?void 0:b.amount)||0}),s.jsx("div",{children:((m=a.discount)==null?void 0:m.amount)||0}),s.jsx("div",{children:((f=a.vat)==null?void 0:f.amount)||0}),s.jsx("div",{children:((_=a.total)==null?void 0:_.amount)/a.passenger_total}),s.jsx("div",{children:a.passenger_total}),s.jsxs("div",{className:"text-[13px] font-semibold",children:[a.total.currency," ",a.total.amount]})]},j)})]}):s.jsxs("div",{className:"flex flex-col gap-5",children:[c.toUpperCase()==="YES"&&s.jsxs("div",{className:"border rounded-lg tab-data",children:[s.jsx("div",{className:"p-3 border-b",children:s.jsxs("h6",{className:"font-medium",children:["Fare breakdown (",L((o=(r=e[0])==null?void 0:r.base_fare)==null?void 0:o.currency),")"]})}),s.jsx("div",{className:"w-full p-3 overflow-x-auto",children:s.jsxs("table",{className:"table summary-table table-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Fare Summary"}),s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Base Fare"}),s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Taxes + Fees"}),s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Per Passenger"}),s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Total"})]})}),s.jsx("tbody",{children:e==null?void 0:e.map(a=>s.jsxs("tr",{children:[s.jsxs("td",{className:"p-2 border text-neutral",children:[a.passenger_type,(a==null?void 0:a.ptc_title)&&` - ${a.ptc_title}`]}),s.jsxs("td",{className:"p-2 border text-neutral",children:[L(a.base_fare.currency)," ",a.base_fare.amount]}),s.jsxs("td",{className:"p-2 border text-neutral",children:[L(a.tax.currency)," ",a.tax.amount]}),s.jsxs("td",{className:"p-2 border text-neutral",children:[L(a.total.currency)," (",a.total.amount/a.passenger_total," x"," ",a.passenger_total,")"]}),s.jsxs("td",{className:"p-2 border text-neutral",children:[L(a.total.currency)," ",a.total.amount]})]},pe()))})]})})]}),h.toUpperCase()==="YES"&&s.jsxs("div",{className:"border rounded-lg tab-data",children:[s.jsx("div",{className:"p-3 border-b",children:s.jsxs("h6",{className:"font-medium",children:["Fare breakdown (",L((x=(d=(g=e[0])==null?void 0:g.fmg)==null?void 0:d.base_fare)==null?void 0:x.currency),")"]})}),s.jsx("div",{className:"w-full p-3 overflow-x-auto",children:s.jsxs("table",{className:"table summary-table table-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Fare Summary"}),s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Base Fare"}),s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Taxes + Fees"}),s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Per Passenger"}),s.jsx("th",{className:"p-2 border text-start text-neutral",children:"Total"})]})}),s.jsx("tbody",{children:e==null?void 0:e.map(a=>{var j,p,N,b,m,f,_,v,n,y,C,F,k,u,A,T;return s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 border text-neutral",children:a.passenger_type}),s.jsxs("td",{className:"p-2 border text-neutral",children:[L((p=(j=a==null?void 0:a.fmg)==null?void 0:j.base_fare)==null?void 0:p.currency)," ",(b=(N=a==null?void 0:a.fmg)==null?void 0:N.base_fare)==null?void 0:b.amount]}),s.jsxs("td",{className:"p-2 border text-neutral",children:[L((f=(m=a==null?void 0:a.fmg)==null?void 0:m.tax)==null?void 0:f.currency)," ",(v=(_=a==null?void 0:a.fmg)==null?void 0:_.tax)==null?void 0:v.amount]}),s.jsxs("td",{className:"p-2 border text-neutral",children:[L((y=(n=a==null?void 0:a.fmg)==null?void 0:n.total)==null?void 0:y.currency)," (",((F=(C=a==null?void 0:a.fmg)==null?void 0:C.total)==null?void 0:F.amount)/(a==null?void 0:a.passenger_total)," x"," ",a==null?void 0:a.passenger_total,")"]}),s.jsxs("td",{className:"p-2 border text-neutral",children:[L((u=(k=a==null?void 0:a.fmg)==null?void 0:k.total)==null?void 0:u.currency)," ",(T=(A=a==null?void 0:a.fmg)==null?void 0:A.total)==null?void 0:T.amount]})]},pe())})})]})})]})]})};$e.propTypes={price_breakdown:E.array};const Ee=()=>{const{active:e,data:c}=Ne.useState(g=>g.modal),{tracking_id:h,flight_key:t}=c||{},{axiosInstance:l}=ms(),{data:r,isLoading:o}=ye({queryKey:["FARE_RULES",h,t,e],enabled:e==="fare_rules",queryFn:async()=>(await l.post("/flight/fare-rules",{tracking_id:h,flight_key:t})).data});return s.jsx("div",{className:"modal",open:e==="fare_rules",children:s.jsxs("div",{className:"max-w-3xl p-0 rounded-md modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Fare Rules"}),s.jsx("button",{onClick:es,className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(ue,{})})]}),s.jsx("div",{className:"px-5 max-h-[70vh] h-full overflow-auto",children:o?s.jsx(qe,{}):s.jsx("div",{className:"p-3 text-xs",children:r!=null&&r.data?s.jsx("div",{className:" inner-html",dangerouslySetInnerHTML:{__html:r==null?void 0:r.data}}):s.jsx("p",{className:"py-12 text-center text-error",children:"No Fare Rules"})})})]})})},Fe=({selectedQuote:e,setSelectedQuote:c})=>{const{axiosInstance:h}=ms(),[t,l]=ts.useState(!1),[r,o]=ts.useState(!1),{user_data:g}=fe.useState(),{member_id:d,email:x,fullname:a,isd_code:j,mobile:p,address:N,country:b}=g||{},{data:m=[],isLoading:f,refetch:_}=ye({queryKey:["QUOTE_LIST",d],queryFn:async()=>{var y;const n=await h.post("/cart-quotes/list",{member_id:d});if(((y=n.data)==null?void 0:y.status)==="success")return n.data.data}}),v=async n=>{var k;if(n.preventDefault(),r)return;o(!0);const F={quotes_title:n.target.quotes_title.value,member_id:d,cus_name:a,cus_address:N,cus_country:b,cus_isd:j,cus_phone:p,cus_email:x,quotes_validity:M().add(30,"days").format("YYYY-MM-DD"),service_charge_type:"RATIO",service_charge:"1"};try{const u=await h.post("/cart-quotes/create",F);((k=u.data)==null?void 0:k.status)==="success"&&(_(),c(u.data.quotes_id),l(!1))}catch(u){ls("error","Failed",u.message)}finally{o(!1)}};return s.jsxs("div",{className:"mb-4",children:[s.jsx("h5",{className:"mb-2 text-lg font-semibold",children:"Select a quote:"}),s.jsx("ul",{className:"w-full px-3 mb-4 overflow-auto rounded-none max-h-40 join join-vertical",children:f?s.jsxs("div",{className:"flex items-center justify-center h-40",children:[s.jsx(ds,{className:"mr-2 animate-spin"})," Loading..."]}):m==null?void 0:m.map((n,y)=>s.jsxs("li",{onClick:()=>c(n.quotes_id),className:"flex items-center justify-between p-2 join-item border-y border-primary/10 hover:bg-primary/10 text-primary cursor-pointer",children:[s.jsxs("h6",{className:"text-sm font-semibold",children:[y+1,". ",n==null?void 0:n.quotes_title," - ",n==null?void 0:n.quotes_id]}),e===n.quotes_id?s.jsx(Be,{className:"ml-2"}):null]},n.quotes_id))}),s.jsx("div",{className:"flex flex-col gap-2 px-3 mb-2",children:s.jsx("form",{onSubmit:v,className:"join",children:t?s.jsxs(s.Fragment,{children:[s.jsx("input",{autoComplete:"off",type:"text",name:"quotes_title",placeholder:"Enter new quote title",className:"w-full h-10 bg-transparent rounded input input-bordered input-primary join-item focus:outline-0"}),s.jsx("button",{type:"submit",className:"h-10 min-h-0 normal-case btn btn-primary join-item no-animation",children:r?s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"mr-2 animate-spin"})," Creating..."]}):"Create"})]}):s.jsx("button",{onClick:()=>l(!0),className:"w-full h-10 min-h-0 border-dashed btn btn-primary btn-outline",children:"+ Create new Quote"})})})]})};Fe.propTypes={selectedQuote:E.any,setSelectedQuote:E.func.isRequired};const Ye=()=>{const{active:e,data:c}=Ne.useState(m=>m.modal),{tracking_id:h,flight_key:t,search_parameter:l}=c||{},{departure_airport:r,arrival_airport:o}=l||{},{user_data:g}=fe.useState(),{member_id:d}=g||{},[x,a]=ts.useState(null),[j,p]=ts.useState(!1),{axiosInstance:N}=ms(),b=async()=>{var m,f,_;if(!(!x||j)){d||(es(),Ae()),p(!0);try{const v={member_id:d,quotes_id:x,order_view:"1",group_id:"1",group_title:"Day 1",item_title:`${r} to ${o} Flight`,service_type:"FLIGHT",tracking_id:h,flight_key:t,margin_type:"FIXED",margin_value:"1",notes:"n/a"},n=await N.post("/cart-quotes/item-add",v);if(((m=n==null?void 0:n.data)==null?void 0:m.status)==="success")ls("success","Added!",(f=n.data)==null?void 0:f.reason);else throw new Error((_=n.data)==null?void 0:_.reason)}catch(v){ls("error","Adding Failed!",v.message)}finally{p(!1)}}};return s.jsx("div",{className:"modal",open:e==="quotes",children:s.jsxs("div",{className:"max-w-3xl p-0 rounded-md modal-box bg-base-200",children:[s.jsxs("div",{className:"flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Add to Quotes"}),s.jsx("button",{onClick:es,className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(ue,{})})]}),s.jsx("div",{className:"p-5 max-h-[60vh] h-full overflow-auto",children:s.jsxs("div",{className:"px-3",children:[s.jsx(Fe,{selectedQuote:x,setSelectedQuote:a}),s.jsx("div",{className:"flex justify-center",children:x&&s.jsx("button",{onClick:b,className:"w-full min-h-0 font-normal normal-case shadow-lg btn btn-primary h-11 shadow-primary/30",children:j?s.jsxs(s.Fragment,{children:[" ",s.jsx(ds,{className:"mr-2 animate-spin"})," Adding..."]}):"Add this to Quotes"})})]})}),s.jsx("div",{className:"flex justify-end gap-3 px-4 py-2 mt-2 border-t bg-base-300",children:s.jsx("button",{onClick:es,className:"min-h-0 normal-case bg-white btn h-11 hover:bg-white border-primary hover:border-primary",children:"Close"})})]})})};export{Pe as A,ke as B,Ee as F,Ye as Q,Me as S,Le as a,Re as b,$e as c};
