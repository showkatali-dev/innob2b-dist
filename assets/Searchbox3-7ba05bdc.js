import{q as s,o as pe,H as X,av as As,P as Ee,e as le,m as Ve,I as Et,b3 as Yl,ab as js,b4 as Cl,am as ye,au as _e,b5 as Fa,b6 as Ne,F as qs,b7 as At,T as Zs,al as be,C as Fl,D as Tl,b8 as Oa,an as Pl,a0 as ss,ai as Rl}from"./index-adb6807e.js";import{c as Q,cl as El,a1 as Ta,c4 as pt,G as Wt,cm as xt,a3 as Js,c5 as Al,cn as Il,co as Wl,S as Pa,cp as Ll,cq as Hl,P as Oe,cr as Ra,d as Is,e as Qs,Y as $l,aN as Ul,cs as zl,r as Bl,ct as Vl,b as Je,Q as Lt,cu as Gl,s as Ea,t as It,v as Aa,cv as ql,cw as Zl,cx as Jl,cy as Ql,aK as Ia,cz as Kl,cA as Xl,cB as eo,cC as so,cD as ft,K as Wa,x as La,aW as Ha,cE as $a,cF as Ua,cG as za,cH as to,cI as ao,c2 as ro,u as Ht,F as no,cJ as io,cK as lo,cL as oo}from"./App-2ee69fad.js";import{C as Be}from"./Checkbox-cb5e1e6b.js";import{R as co,d as uo}from"./RangeSliderInput-4bb3d9ab.js";import{e as ho,f as mo,S as xo,P as Ba,a as fo}from"./SuppliersSelection2-c675863e.js";import{S as Va,M as Ya,a as po}from"./MultipleFlight2-4d0481b4.js";import{B as $t,S as go,a as yo,b as _o,c as Ga,F as bo,Q as jo}from"./index-86716065.js";import{F as qa}from"./FlightItineraryData-eb9e858f.js";import{n as vo,l as No,b as wo}from"./index.esm-86de35f1.js";import{c as ko}from"./_commonjs-dynamic-modules-302442b1.js";import{w as So}from"./sweetalert2-react-content.es-47ee4db4.js";import{W as Mo,F as Do,P as Oo,B as Yo,O as Co,M as Fo,a as To,b as Po,c as Ro,d as Eo,e as Ao,f as Io,g as Wo,h as Lo,i as Ho,j as $o,k as Uo,S as zo,l as Bo,m as Vo,n as Go,o as qo,p as Zo,C as Ca,q as Jo,r as Qo,s as Ko}from"./SearchOption-8c0f632a.js";import{G as Xo}from"./index.esm-136fecf9.js";const Ac=()=>s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid overflow-hidden text-center rounded-t-lg",children:[s.jsx("div",{className:"grid grid-cols-7 gap-x-1",children:[...Array(7)].map((c,o)=>s.jsx("div",{className:"h-[35px] skeleton-box !rounded-none"},o))}),s.jsx("div",{className:"grid grid-cols-7 py-2 gap-x-1",children:[...Array(7)].map((c,o)=>s.jsx("div",{className:"h-[35px] skeleton-box !rounded-lg"},o))})]})}),ec=({flight:c,selectedFlight:o,action:f})=>{var k,O,w,g,l,x;const{package_title:d,current_segment:m,package_data:_}=c||{},{meal:b,checked:y,carry_on:M,change:u,cancel:T}=_||{},{search_result_version:S}=((k=pe.useState())==null?void 0:k.system_config)||{};return s.jsx("div",{className:Q("relative group cursor-pointer duration-100 transition-all max-w-[97px]",(o==null?void 0:o.current_segment)===m?"active shadow-lg shadow-secondary/30 scale-[1.01]":"",S==="6"&&"max-w-[180px] flex-1"),onClick:p=>{p.stopPropagation(),f(c)},children:s.jsxs("div",{className:"block overflow-hidden border border-dashed rounded border-secondary",children:[s.jsxs("div",{className:"relative flex items-center justify-between px-2 w-full py-2 font-bold  group-[.active]:bg-secondary group-[.active]:text-secondary-content text-secondary border-b border-b-secondary",children:[s.jsx("h5",{className:"text-xs",children:d}),(o==null?void 0:o.current_segment)===m&&s.jsx("span",{className:"absolute text-white right-2",children:s.jsx(El,{})})]}),s.jsxs("ul",{className:"w-full px-2 py-2 rounded-none join join-vertical",children:[s.jsxs("li",{className:"flex items-center justify-between gap-2 py-1 text-[10px]",children:[s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("span",{className:"inline-flex items-center text-secondary",children:s.jsx(Ta,{})}),s.jsx("span",{className:"line-clamp-1",children:"Cabin"})]}),s.jsx("span",{className:"text-[10px] line-clamp-1",children:M||"❌"})]}),s.jsxs("li",{className:"flex items-center justify-between gap-2 py-1 text-[10px]",children:[s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("span",{className:"inline-flex items-center text-secondary",children:s.jsx(pt,{})}),s.jsx("span",{className:"line-clamp-1",children:"Hand"})]}),s.jsx("span",{className:"text-[10px] line-clamp-1",children:y||"❌"})]}),s.jsxs("li",{className:"flex items-center justify-between gap-2 py-1 text-[10px]",children:[s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("span",{className:"inline-flex items-center text-secondary",children:s.jsx(Wt,{})}),s.jsx("span",{className:"line-clamp-1",children:"Meal"})]}),s.jsx("span",{className:"text-[10px] line-clamp-1",children:b||"❌"})]}),s.jsxs("li",{className:"flex items-center justify-between gap-2 py-1 text-[10px]",children:[s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("span",{className:"inline-flex items-center text-secondary",children:s.jsx(xt,{})}),s.jsx("span",{className:"line-clamp-1",children:"Change"})]}),s.jsx("span",{className:"text-[10px] line-clamp-1",children:u||"❌"})]}),s.jsxs("li",{className:"flex items-center justify-between gap-2 py-1 text-[10px]",children:[s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("span",{className:"inline-flex items-center text-secondary",children:s.jsx(xt,{})}),s.jsx("span",{className:"line-clamp-1",children:"Cancel"})]}),s.jsx("span",{className:"text-[10px] line-clamp-1",children:T||"❌"})]})]}),s.jsx("div",{className:"flex items-center justify-center py-2 group-[.active]:bg-secondary group-[.active]:text-secondary-content text-secondary border-t border-t-secondary",children:s.jsx("h4",{className:"text-xs font-semibold",children:X((w=(O=c==null?void 0:c.sell)==null?void 0:O.total)==null?void 0:w.currency)+" "+((x=(l=(g=c==null?void 0:c.sell)==null?void 0:g.total)==null?void 0:l.amount)==null?void 0:x.toFixed(2))})})]})})},sc=({flight:c})=>{const{no_of_stops:o,routes:f,no_of_stops_title:d}=c||{},{system_config:m}=pe.useState();return s.jsx(Js,{button:s.jsxs("div",{children:[s.jsx("div",{className:Q("w-14 h-0.5 flex  relative my-2 mx-auto justify-center gap-1 items-center",o>0?"bg-orange-500":"bg-primary"),children:Array(o).fill("").map((_,b)=>s.jsx("div",{className:"flex w-2 h-2 bg-orange-500 border border-white rounded-full ring-1 ring-orange-500 tooltip tooltip-warning before:text-white","data-tip":As(f[b].flight_time)},b))}),s.jsx("p",{className:"text-[10px]",children:d})]}),children:s.jsx("div",{className:"px-4 py-2",children:c.routes.map((_,b)=>{var u,T,S;const{flight_time:y,lay_over:M}=_;return s.jsxs("div",{children:[M&&M!=="not-applicable"&&b>0&&s.jsxs("div",{className:"flex items-center justify-center gap-1 py-1 pr-2 my-2 ml-1 text-xs bg-base-100 text-error",children:[As(M)," Layover in"," ",(u=_==null?void 0:_.origin_airport)==null?void 0:u.city]}),s.jsxs("div",{className:"grid flex-1 grid-cols-3 sm:col-span-4 gap-x-3 h-fit",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-sm font-semibold",children:_.departure_time.substring(11,16)}),s.jsx("p",{className:"text-xs max-sm:text-[10px] text-neutral",children:Ee(_.departure_time.substring(0,10)).format(m.default_date_format_print)}),s.jsx("p",{className:"text-xs text-neutral",children:_.origin_airport.city})]}),s.jsxs("div",{className:"self-center flex-shrink-0 space-y-1 text-center",children:[s.jsx("h6",{className:"mx-auto max-sm:text-[10px] text-xs font-medium stops1 w-fit",children:As(y)}),s.jsx("div",{className:"w-14 h-0.5 flex  relative my-2 mx-auto justify-center gap-1 items-center bg-primary"}),s.jsxs("p",{className:"text-[#9BA0B2] text-xs",children:[(T=_.operating)==null?void 0:T.carrier," |"," ",(S=_.operating)==null?void 0:S.flight_number]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-sm font-semibold",children:_.arrival_time.substring(11,16)}),s.jsx("p",{className:"text-xs max-sm:text-[10px] text-neutral",children:Ee(_.arrival_time.substring(0,10)).format(m.default_date_format_print)}),s.jsx("p",{className:"text-xs text-neutral",children:_.destination_airport.city})]})]})]},b)})})})},tc=({singleGroup:c,availablePackages:o,action:f,selectedFlight:d})=>{var O,w,g,l,x,p,D,F,P,E,$,H,A;const[m,_]=le.useState(!1),{user_data:b}=Ve.useState(),y=(O=c==null?void 0:c.flight_group)==null?void 0:O.at(0),{flight_time:M,routes:u}=y,T=(g=(w=u==null?void 0:u.at(0))==null?void 0:w.booking_class)==null?void 0:g.seat_available,{system_config:S}=pe.useState();le.useEffect(()=>{(d==null?void 0:d.package_group)!==(c==null?void 0:c.package_group)&&_(!1)},[d,c]);const{search_result_version:k}=((l=pe.useState())==null?void 0:l.system_config)||{};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 cursor-pointer",onClick:()=>{f(c),_(!m)},children:[s.jsx("div",{className:Q("inline-flex w-4 h-4 border-4 border-base-200 rounded-full ring-1 ring-primary",(d==null?void 0:d.package_group)===(c==null?void 0:c.package_group)?"bg-primary":"bg-transparent")}),s.jsxs("div",{className:"grid flex-1 grid-cols-3 sm:col-span-4 gap-x-3 h-fit",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:Q("text-sm font-semibold",k==="6"&&"text-lg"),children:u[0].departure_time.substring(11,16)}),s.jsx("p",{className:Q("text-xs max-sm:text-[10px] text-neutral",k==="6"&&"text-sm"),children:Ee(u[0].departure_time.substring(0,10)).format(S.default_date_format_print)}),s.jsx("p",{className:Q("text-xs text-neutral",k==="6"&&"text-lg font-semibold"),children:u[0].origin_airport.city})]}),s.jsxs("div",{className:"self-center flex-shrink-0 text-center",children:[s.jsx("h6",{className:Q("mx-auto mb-2 max-sm:text-[10px] text-xs font-medium stops1 w-fit",k==="6"&&"text-sm"),children:As(M)}),s.jsx(sc,{flight:y})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:Q("text-sm font-semibold",k==="6"&&"text-lg"),children:u.at(-1).arrival_time.substring(11,16)}),s.jsx("p",{className:Q("text-xs max-sm:text-[10px] text-neutral",k==="6"&&"text-sm"),children:Ee(u.at(-1).arrival_time.substring(0,10)).format(S.default_date_format_print)}),s.jsx("p",{className:Q("text-xs text-neutral",k==="6"&&"text-lg font-semibold"),children:u.at(-1).destination_airport.city})]})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 w-fit !text-xs",children:[T&&!!Number(T)&&s.jsxs("div",{className:"text-[10px] text-white rounded badge badge-secondary badge-sm gap-1",children:[s.jsxs("span",{children:[s.jsx(Al,{className:"mr-0.5 text-base"}),"Seat:"]})," ",s.jsx("span",{children:T})]}),s.jsx("h4",{className:Q("text-xs font-semibold",k==="6"&&"text-base"),children:X((p=(x=c==null?void 0:c.sell)==null?void 0:x.total)==null?void 0:p.currency)+" "+((P=(F=(D=c==null?void 0:c.sell)==null?void 0:D.total)==null?void 0:F.amount)==null?void 0:P.toFixed(2))}),k==="6"?s.jsx(s.Fragment,{children:u==null?void 0:u.map((j,U)=>{var z,R,I;return s.jsxs("p",{className:"text-[#9BA0B2] text-xs",children:[(z=j==null?void 0:j.operating)==null?void 0:z.carrier," | ",(R=j==null?void 0:j.operating)==null?void 0:R.flight_number]},((I=j==null?void 0:j.operating)==null?void 0:I.carrier)+U)})}):s.jsx(Js,{button:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("p",{className:"text-[#9BA0B2] text-xs",children:[($=(E=u==null?void 0:u.at(0))==null?void 0:E.operating)==null?void 0:$.carrier," |"," ",(A=(H=u==null?void 0:u.at(0))==null?void 0:H.operating)==null?void 0:A.flight_number]}),s.jsx("div",{className:"text-info",children:s.jsx(Il,{})})]}),children:s.jsx("div",{className:"divide-y-[1px]",children:u.map(j=>{var U,z;return s.jsxs("div",{className:"flex flex-col px-4 py-2 space-y-2",children:[s.jsx("div",{className:"flex gap-2 text-xs",children:s.jsxs("p",{className:"font-medium mr-0.5 text-neutral",children:[s.jsx(Wl,{})," Flight Number: ",(U=j==null?void 0:j.operating)==null?void 0:U.carrier," ","| ",(z=j==null?void 0:j.operating)==null?void 0:z.flight_number]})}),s.jsx("div",{className:"flex gap-2 text-xs",children:s.jsxs("p",{className:"font-medium mr-0.5 text-neutral",children:[s.jsx(Et,{path:Yl,size:.8,className:"mr-1 text-lg text-neutral"})," ","Aircraft: ",j==null?void 0:j.aircraft.name]})})]},js())})})})]}),(b==null?void 0:b.user_access_level)==="supernsn"&&s.jsx("button",{onClick:j=>{j.stopPropagation(),Pa.fire({html:`<div class="p-4">
                <h1 class="mb-3 font-semibold">Available Packages</h1>
                <div class="overflow-auto max-h-[500px]">
                <pre>${JSON.stringify(o,null,2)}</pre>
                </div>
                </div>`,showConfirmButton:!1,showCloseButton:!0,customClass:{htmlContainer:"!text-start !m-0",popup:"!max-w-3xl !w-full"}})},className:"text-secondary",children:s.jsx(Et,{path:Cl,size:.8})})]}),m&&s.jsx("div",{className:Q("flex gap-1 p-3",k==="6"&&"justify-center"),children:o==null?void 0:o.map(j=>s.jsx(ec,{flight:j,selectedFlight:d,action:f},j==null?void 0:j.flight_key))})]})},ac=({group:c,selectedOneWay:o,setSelectedOneWay:f,selectedRoundTrip:d,setSelectedRoundTrip:m})=>{var S;const{flight_option:_,data:b}=c||{},y=_==="OneWay"?b:[...b].filter(k=>{var O;return o===null||((O=o==null?void 0:o.next_segment)==null?void 0:O.includes(k==null?void 0:k.current_segment))||!(o!=null&&o.next_segment)}),M=(S=y==null?void 0:y.reduce((k,O)=>(k.find(w=>(w==null?void 0:w.package_group)===(O==null?void 0:O.package_group))||k.push(O),k),[]))==null?void 0:S.sort((k,O)=>new Date(k==null?void 0:k.departure_date)-new Date(O==null?void 0:O.departure_date)),u=k=>{f(k)},T=k=>{m(k)};return s.jsxs("div",{children:[s.jsx("div",{className:"flex py-2 bg-base-300/50",children:s.jsx("span",{className:"px-4 text-sm border-base-content",children:_==="OneWay"?s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"mr-1 text-primary"})," Departure"]}):s.jsxs(s.Fragment,{children:[s.jsx(Hl,{className:"mr-1 text-primary"})," Return"]})})}),s.jsx("div",{className:"flex flex-col gap-2",children:M==null?void 0:M.map(k=>s.jsx(tc,{singleGroup:k,availablePackages:y==null?void 0:y.filter(O=>(O==null?void 0:O.package_group)===(k==null?void 0:k.package_group)),action:_==="OneWay"?u:T,selectedFlight:_==="OneWay"?o:d},k==null?void 0:k.flight_key))})]})},vs=({flight:c})=>{var S,k,O,w,g,l,x,p,D,F,P,E,$,H,A,j,U,z,R,I,ne,te,W,B,ee,se,fe,de,ue;const{sell:o,price:f,flight_group:d,margin:m}=c||{},_=(S=d[0])==null?void 0:S.routes[0],{price_view:b,system_config:y}=pe.useState(),{search_result_version:M}=y||{};if(((k=b==null?void 0:b.show_sell_price)==null?void 0:k.toUpperCase())!=="YES")return null;const u=((O=b==null?void 0:b.show_partner_price)==null?void 0:O.toUpperCase())!=="YES",{amountType:T}=((w=ye.useState())==null?void 0:w.sorting)||{};return s.jsxs(Js,{position:"left",isDisabled:u,button:s.jsxs("div",{className:`flex items-center gap-2 pb-1 text-sm border-b-secondary w-fit  ${u?"":"hover:cursor-help"}`,children:[s.jsx("h4",{className:"font-semibold",children:M!=="7"||M==="7"&&T==="invoice"?X((g=o==null?void 0:o.total)==null?void 0:g.currency)+" "+((x=(l=o==null?void 0:o.total)==null?void 0:l.amount)==null?void 0:x.toFixed(2)):(D=(p=m==null?void 0:m.supplier)==null?void 0:p.before_comission)!=null&&D.total?X((P=(F=m==null?void 0:m.supplier)==null?void 0:F.total)==null?void 0:P.currency)+" "+(($=(E=m==null?void 0:m.supplier)==null?void 0:E.before_comission)==null?void 0:$.total):X((H=o==null?void 0:o.total)==null?void 0:H.currency)+" "+((j=(A=o==null?void 0:o.total)==null?void 0:A.amount)==null?void 0:j.toFixed(2))}),!u&&s.jsx(Ra,{className:"text-xs text-info"})]}),children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-1",children:[s.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${_.operating.carrier_logo}`,alt:""}),s.jsx("p",{children:_.operating.carrier_name||_.operating.carrier})]}),s.jsxs("div",{className:"relative flex flex-col px-4 mb-4 space-y-2",children:[s.jsxs("div",{className:"flex gap-2 text-xs text-primary",children:[s.jsx("p",{className:"font-medium mr-0.5",children:"Customer Price:"}),s.jsxs("p",{children:[X(o.total.currency)," ",(z=(U=o==null?void 0:o.total)==null?void 0:U.amount)==null?void 0:z.toFixed(2)]})]}),((R=b==null?void 0:b.show_partner_price)==null?void 0:R.toUpperCase())==="YES"&&s.jsxs("div",{className:"flex gap-2 text-xs text-info",children:[s.jsx("p",{className:"font-medium mr-0.5",children:"Purchase Price:"}),s.jsxs("p",{children:[X(f.total.currency)," ",(ne=(I=f==null?void 0:f.total)==null?void 0:I.amount)==null?void 0:ne.toFixed(2)]})]}),M==="5"&&s.jsxs(s.Fragment,{children:[((te=b==null?void 0:b.show_fmg_price)==null?void 0:te.toUpperCase())==="YES"&&s.jsxs("div",{className:"flex gap-2 text-xs text-secondary",children:[s.jsx("p",{className:"font-medium mr-0.5",children:"FMG Price:"}),s.jsxs("p",{children:[X(m.fmg.total.currency)," ",(ee=(B=(W=m==null?void 0:m.fmg)==null?void 0:W.total)==null?void 0:B.amount)==null?void 0:ee.toFixed(2)]})]}),((se=b==null?void 0:b.show_supplier_price)==null?void 0:se.toUpperCase())==="YES"&&s.jsxs("div",{className:"flex gap-2 text-xs text-warning",children:[s.jsx("p",{className:"font-medium mr-0.5",children:"Supplier Price:"}),s.jsxs("p",{children:[X(m.supplier.total.currency)," ",(ue=parseFloat((de=(fe=m==null?void 0:m.supplier)==null?void 0:fe.total)==null?void 0:de.amount))==null?void 0:ue.toFixed(2)]})]})]})]})]})};vs.propTypes={flight:Oe.object.isRequired};const Os=({flight:c})=>{var b,y,M,u,T,S,k,O,w,g,l,x,p,D,F;const{margin:o,flight_group:f}=c||{},d=(b=f[0])==null?void 0:b.routes[0],{price_view:m}=pe.useState();if(((y=m==null?void 0:m.show_fmg_price)==null?void 0:y.toUpperCase())!=="YES")return null;const _=((M=m==null?void 0:m.show_supplier_price)==null?void 0:M.toUpperCase())!=="YES";return s.jsxs(Js,{position:"left",isDisabled:_,button:s.jsxs("div",{className:`flex items-center gap-2 pb-1 text-sm border-b-secondary w-fit  ${_?"":"hover:cursor-help"}`,children:[s.jsx("h4",{className:"font-semibold",children:X((T=(u=o==null?void 0:o.fmg)==null?void 0:u.total)==null?void 0:T.currency)+" "+((O=(k=(S=o==null?void 0:o.fmg)==null?void 0:S.total)==null?void 0:k.amount)==null?void 0:O.toFixed(2))}),!_&&s.jsx(Ra,{className:"text-xs text-purple-400"})]}),children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-1",children:[s.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${d.operating.carrier_logo}`,alt:""}),s.jsx("p",{children:d.operating.carrier_name||d.operating.carrier})]}),s.jsxs("div",{className:"relative flex flex-col px-4 mb-4 space-y-2",children:[s.jsxs("div",{className:"flex gap-2 text-xs text-secondary",children:[s.jsx("p",{className:"font-medium mr-0.5",children:"FMG Price:"}),s.jsxs("p",{children:[X(o.fmg.total.currency)," ",(l=(g=(w=o==null?void 0:o.fmg)==null?void 0:w.total)==null?void 0:g.amount)==null?void 0:l.toFixed(2)]})]}),((x=m==null?void 0:m.show_supplier_price)==null?void 0:x.toUpperCase())==="YES"&&s.jsxs("div",{className:"flex gap-2 text-xs text-warning",children:[s.jsx("p",{className:"font-medium mr-0.5",children:"Supplier Price:"}),s.jsxs("p",{children:[X(o.supplier.total.currency)," ",(F=parseFloat((D=(p=o==null?void 0:o.supplier)==null?void 0:p.total)==null?void 0:D.amount))==null?void 0:F.toFixed(2)]})]})]})]})};Os.propTypes={flight:Oe.object.isRequired};const rc=({flight:c})=>{var x;const{round_group:o}=c||{},[f,d]=le.useState(null),[m,_]=le.useState(null),b=["supernsn","administrator","manager","subagent","user"];le.useEffect(()=>{var p,D,F,P,E,$;o&&(d(((F=(D=(p=o==null?void 0:o.at(0))==null?void 0:p.group)==null?void 0:D.data)==null?void 0:F.at(0))||null),_((($=(E=(P=o==null?void 0:o.at(1))==null?void 0:P.group)==null?void 0:E.data)==null?void 0:$.at(0))||null))},[o]);const y=f==null?void 0:f.tracking_id,M=f==null?void 0:f.flight_key,u=m==null?void 0:m.flight_key,T=f==null?void 0:f.package_name,S=m==null?void 0:m.package_name,{axiosInstance:k}=Is(),{user_data:O}=Ve.useState(),{isLoading:w,data:g}=Qs({queryKey:["PACKAGE_RATE",M,u,T,S],enabled:!!M&&!!u,queryFn:async()=>{const p={tracking_id:y,result_type:"group",data:[{flight_key:M,package_code:T},{flight_key:u,package_code:S}]};return(await k.post("/secure?pathName=/flight/get-package-rate",p)).data}}),{search_result_version:l}=((x=pe.useState())==null?void 0:x.system_config)||{};return s.jsxs("div",{className:"rounded-lg shadow-custom2 bg-base-200 hover:ring-[1px] hover:ring-primary/50 single-data",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 pt-2",children:[s.jsx("div",{className:"grid grid-flow-row gap-3",children:c==null?void 0:c.flight_group.map((p,D)=>{var E,$,H,A,j,U,z,R,I;const{flight_time:F,no_of_stops_title:P}=p||{};return s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("img",{className:"w-[2.8rem] h-[2.8rem]",src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${(H=($=(E=p==null?void 0:p.routes)==null?void 0:E.at(0))==null?void 0:$.operating)==null?void 0:H.carrier_logo}`,alt:""}),s.jsx("div",{children:s.jsx("h6",{children:((U=(j=(A=p==null?void 0:p.routes)==null?void 0:A.at(0))==null?void 0:j.operating)==null?void 0:U.carrier_name)||((I=(R=(z=p==null?void 0:p.routes)==null?void 0:z.at(0))==null?void 0:R.operating)==null?void 0:I.carrier)})})]})},F+P+D)})}),s.jsx("div",{className:"flex items-center gap-4",children:w?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"skeleton-box w-[76px] h-[24px] !rounded"}),s.jsx("div",{className:"skeleton-box w-[76px] h-[24px] !rounded"}),s.jsx("div",{className:"skeleton-box w-[70px] h-[40px] !rounded"})]}):g||(c==null?void 0:c.journey_type)==="OneWay"&&f?s.jsxs(s.Fragment,{children:[s.jsx(vs,{flight:g||f}),s.jsx(Os,{flight:g||f}),s.jsx("button",{onClick:async()=>{O!=null&&O.login_key?b.includes(O==null?void 0:O.user_access_level)?_e("select_flight",g||f):Fa():(Ne(),qs("login"))},className:"h-10 min-h-0 font-normal normal-case rounded btn btn-primary",children:"Book Now"})]}):s.jsx("div",{className:"text-xs text-error",children:"Please select both departure and return flights"})})]}),s.jsx("div",{className:Q("relative grid",l==="6"?"grid-cols-1 divide-y":"grid-cols-2 divide-x"),children:o==null?void 0:o.map(p=>{var D,F,P;return s.jsx(ac,{flight:c,group:p==null?void 0:p.group,selectedOneWay:f,setSelectedOneWay:d,selectedRoundTrip:m,setSelectedRoundTrip:_},(P=(F=(D=p==null?void 0:p.group)==null?void 0:D.data)==null?void 0:F.at(0))==null?void 0:P.flight_key)})})]})},mt=({flight:c})=>{var y,M;const{system_config:o,supplier_option:f}=pe.useState(),{search_result_version:d}=o||{},{user_data:m}=Ve.useState(),_=["supernsn","administrator","manager","subagent","user"],{supplier:b}=c||{};return s.jsx("div",{className:Q("flex flex-col gap-2 text-center",["5","7"].includes(d)&&"px-2"),children:s.jsx("button",{onClick:async()=>{m!=null&&m.login_key?_.includes(m==null?void 0:m.user_access_level)?(c==null?void 0:c.package_option)==="yes"?_e("select_package",c):(c==null?void 0:c.package_count)>1&&d!=="4"?_e("flight_options",c):_e("select_flight",c):Fa():(Ne(),qs("login"))},className:Q("min-h-0 btn btn-primary",["5","7"].includes(d)===!1?d==="4"?"rounded h-6 btn-sm hover:scale-105 min-w-32 normal-case":"rounded-md h-9 btn-outline normal-case":"rounded h-7 font-normal text-xs"),children:d==="4"?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:(M=(y=f==null?void 0:f.data)==null?void 0:y.find(u=>(u==null?void 0:u.supplier_code)===(b==null?void 0:b.supplier_code)))==null?void 0:M.logo,alt:"",className:"w-[18px] h-[18px] rounded-full bg-base-200 p-0.5"})," ","Book"]}):"Select Flight"})})};mt.propTypes={flight:Oe.object.isRequired};const nc=({flight:c,...o})=>{const{supplier:f}=c,{routes:d}=c.flight_group[0],{price_view:{show_flight_fare_rules:m,show_fare_summery:_}={},system_config:b}=pe.useState(),{search_result_version:y}=b||{},{user_data:M}=Ve.useState();return s.jsxs(Js,{...o,button:s.jsxs("div",{className:"flex items-center gap-2 p-1 text-xs rounded hover:cursor-help w-fit bg-secondary/10 text-secondary",children:[s.jsx($l,{}),s.jsx(Ul,{}),s.jsx(zl,{})]}),zIndex:100,children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-1",children:[s.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${d[0].operating.carrier_logo}`,width:32,height:32,alt:""}),s.jsx("p",{className:"text-start",children:d[0].operating.carrier_name||d[0].operating.carrier})]}),s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"w-full rounded-none join join-vertical",children:[y==="1"&&s.jsx("button",{onClick:()=>_e("flight_itinerary",c),className:"font-normal normal-case otherFaresBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item",children:"Flight Itinerary"}),s.jsx("button",{onClick:()=>_e("flight_options",c),className:"font-normal normal-case viewDetailsBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item",children:"Flight Options"}),_==="YES"&&s.jsx("button",{onClick:()=>_e("fare_summary",c),className:"font-normal normal-case viewDetailsBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item",children:"Fare Summary"}),m==="YES"&&s.jsx("button",{onClick:()=>_e("fare_rules",c),className:"font-normal normal-case viewDetailsBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item",children:"Fare Rules"}),(M==null?void 0:M.user_access_level)==="supernsn"&&s.jsx("button",{onClick:()=>_e("supplier_revenue",c),className:"font-normal normal-case viewDetailsBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item",children:f.supplier_title})]})})]})},ic=({data:c,selectedFlight:o,setSelectedFlight:f})=>{const{member_id:d}=Ve.useState(w=>w.user_data)||{},{tracking_id:m,filter_unique_filter_code:_,get_branded_fare:b,flight_key:y,result_type:M}=c,{axiosInstance:u}=Is(),{system_config:T,login_required:S}=pe.useState(),{data:k=[],isLoading:O}=Qs({queryKey:["MATCHED_FLIGHTS",m,_,b,y,d,M],queryFn:async()=>{var w,g;if(b==="yes"){const l=await u.post("/secure?pathName=/flight/branded-fare",{member_id:d||"1",tracking_id:m,flight_key:y,result_type:M});return((w=l==null?void 0:l.data)==null?void 0:w.status)==="success"?l.data.data:[c]}else{const l=await u.get(`/flight_logs?tracking_id=${m}&base_url=${T!=null&&T.supplier_logs_file_base_url?T==null?void 0:T.supplier_logs_file_base_url:""}&login_required=${S}`);return((g=l==null?void 0:l.data)==null?void 0:g.status)==="success"?l.data.data.filter(p=>p.filter_unique_filter_code===_):[]}}});return O?s.jsxs("div",{className:"flex flex-wrap gap-6 mt-3 w-fit",children:[s.jsx("div",{className:"w-20 h-4 !rounded-sm skeleton-box"}),s.jsx("div",{className:"w-20 h-4 !rounded-sm skeleton-box"}),s.jsx("div",{className:"w-20 h-4 !rounded-sm skeleton-box"}),s.jsx("div",{className:"w-20 h-4 !rounded-sm skeleton-box"})]}):s.jsx("div",{className:"flex flex-wrap gap-6 mt-3 w-fit",children:k==null?void 0:k.map((w,g)=>{var D,F,P;const{flight_key:l,package_title:x,flight_group:p}=w;return s.jsx($t,{booking_class:(P=(F=(D=p==null?void 0:p.at(0))==null?void 0:D.routes)==null?void 0:F.at(0))==null?void 0:P.booking_class,children:s.jsx("div",{onClick:()=>f(w),className:Q("flex items-center justify-center py-0.5 px-2 text-[10px] rounded-sm cursor-pointer capitalize",(o==null?void 0:o.flight_key)===l?"bg-primary text-primary-content":"bg-neutral/10 text-neutral"),children:(x==null?void 0:x.toLowerCase())||`Option ${g+1}`})},l)})})},Ut=({flight:c,showAdditionalOptions:o=!0})=>{var j,U,z,R,I,ne,te,W,B,ee,se,fe,de,ue,je,Y,Ye,Ae,Me,he,G,we,Ce,Ie,We,Le,He,Fe,Te,Pe,Ge,me,ve,Qe,ts,ae,ie,as,$e,Re,K,fs,ps,Ke,rs,Xe,Ue,Ns,Ks,ws,Xs,gs,ns,Ys,ks;const[f,d]=le.useState(c),{price_view:m}=pe.useState(),{price_view:{show_flight_fare_rules:_,show_fare_summery:b}={},system_config:y,supplier_option:M}=pe.useState(),{search_result_version:u}=y||{},{show_supplier_option:T}=M||{},{flight_group:S,hold_possible:k,fare_rules:O,supplier:w,sell:g,margin:l,package_title:x}=u==="4"?f:c,{user_data:p}=Ve.useState(),D=(j=c.price_breakdown)==null?void 0:j.find(v=>(v==null?void 0:v.passenger_type)==="ADT"),F=(U=g==null?void 0:g.total)==null?void 0:U.amount,P=(R=(z=l==null?void 0:l.fmg)==null?void 0:z.total)==null?void 0:R.amount,E=X((ne=(I=l==null?void 0:l.fmg)==null?void 0:I.total)==null?void 0:ne.currency),$=Bl.useMediaQuery({query:"(max-width: 640px)"}),{isActive:H,data:A}=At.useState();return s.jsxs("div",{className:Q("rounded-lg shadow-custom2 bg-base-200 hover:ring-[1px] hover:ring-primary/50 single-data relative",["5","7"].includes(u)&&"rounded hover:ring-0 hover:shadow-xl duration-300"),children:[u==="4"&&s.jsx(s.Fragment,{children:H&&s.jsx("input",{type:"checkbox",className:"absolute rounded top-2 left-2 checkbox-primary checkbox checkbox-xs",checked:A.some(v=>(v==null?void 0:v.flight_key)===(c==null?void 0:c.flight_key)),onClick:v=>At.update(ke=>{v.target.checked?ke.data.length<5?ke.data.push(c):(v.target.checked=!1,Zs("warning","Sorry!","You can only share 5 flights at a time")):ke.data=ke.data.filter(Ws=>(Ws==null?void 0:Ws.flight_key)!==(c==null?void 0:c.flight_key))})})}),x&&["1","2","3"].includes(u)&&s.jsx($t,{booking_class:(B=(W=(te=S==null?void 0:S.at(0))==null?void 0:te.routes)==null?void 0:W.at(0))==null?void 0:B.booking_class,children:s.jsxs("p",{className:"badge rounded-none absolute top-2 -right-2 text-[10px] badge-secondary font-normal badge-sm shadow shadow-secondary/10 text-white",children:[x,s.jsx("span",{className:"absolute right-0 -mr-[1px] h-0 border-[4px] top-full border-r-transparent border-b-transparent border-secondary/60"})]})}),s.jsxs("div",{className:Q("flex flex-col items-center gap-y-4 sm:flex-row justify-evenly gap-x-5 md:gap-x-8 xl:gap-x-12 pt-2",["5","7"].includes(u)===!1&&"px-3 py-4"),children:[u==="1"&&s.jsx("div",{className:"w-full space-y-2",children:S.map((v,ke)=>s.jsxs("div",{children:[ke>0&&s.jsx("hr",{className:"my-4 border"}),s.jsx(Va,{singleFlightData:v})]},js()))}),u==="4"&&s.jsxs("div",{className:"w-full",children:[S.map((v,ke)=>s.jsxs("div",{children:[ke>0&&s.jsx("hr",{className:"my-4 border"}),s.jsx(go,{singleFlightData:v})]},js())),s.jsx(ic,{data:c,setSelectedFlight:d,selectedFlight:f})]}),u==="2"&&s.jsx("div",{className:"w-full",children:S.map((v,ke)=>s.jsxs("div",{className:"flex flex-col gap-8",children:[ke>0&&s.jsx("hr",{className:"my-4 border"}),s.jsx(Ya,{singleFlightData:v})]},js()))}),u==="5"&&s.jsx("div",{className:"w-full space-y-2",children:S.map(v=>s.jsx("div",{children:s.jsx(yo,{singleFlightData:v})},js()))}),u==="7"&&s.jsx("div",{className:"w-full space-y-2",children:S.map(v=>s.jsx("div",{children:s.jsx(_o,{singleFlightData:v})},js()))}),["3","6"].includes(u)&&s.jsx(s.Fragment,{children:$?s.jsx("div",{className:"w-full",children:S.map((v,ke)=>s.jsxs("div",{className:"flex flex-col gap-8",children:[ke>0&&s.jsx("hr",{className:"my-4 border"}),s.jsx(Ya,{singleFlightData:v})]},js()))}):s.jsxs("div",{className:"sm:self-start",children:[s.jsxs("div",{className:"grid grid-cols-7 gap-5 p-1 mb-2 text-sm font-semibold text-center rounded sm:items-center bg-neutral/5 text-neutral",children:[s.jsx("div",{className:"sm:col-span-2",children:"Airline"}),s.jsx("div",{children:"Details"}),s.jsx("div",{children:"Departure"}),s.jsx("div",{children:"Arrival"}),s.jsx("div",{children:"Duration"}),s.jsx("div",{children:"Baggage"})]}),S.map((v,ke)=>s.jsxs("div",{className:"flex flex-col gap-4",children:[ke>0&&s.jsx("hr",{className:"my-4 border"}),s.jsx(po,{singleFlightData:v})]},js()))]})}),u==="3"?s.jsxs("div",{className:Q("flex max-sm:justify-between max-sm:flex-wrap items-end max-sm:w-full sm:flex-col flex-shrink-0 gap-1 justify-evenly sm:items-center",x?"pt-4":""),children:[D&&s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("p",{className:"text-xs",children:"Per 1 Passenger"}),((ee=m==null?void 0:m.show_sell_price)==null?void 0:ee.toUpperCase())==="YES"?F&&s.jsxs("h4",{className:"font-semibold",children:[X((se=D==null?void 0:D.total)==null?void 0:se.currency),(((fe=D==null?void 0:D.total)==null?void 0:fe.amount)/(D==null?void 0:D.passenger_total)).toFixed(2)]}):null,((de=m==null?void 0:m.show_fmg_price)==null?void 0:de.toUpperCase())==="YES"?P&&s.jsxs("h4",{className:"font-semibold",children:[E,(P/(D==null?void 0:D.passenger_total)).toFixed(2)]}):null]}),s.jsx("div",{className:"max-sm:order-3",children:s.jsx(mt,{flight:c})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("p",{className:"text-xs",children:"All Passenger"}),s.jsx(vs,{flight:c}),s.jsx(Os,{flight:c}),_==="YES"&&s.jsx("p",{className:"font-medium text-[#1E7F44] text-xs capitalize",children:k==="no"?s.jsx("span",{className:"text-red-400",children:"Instant Purchase"}):O.refundable}),(m==null?void 0:m.show_gross_price)==="YES"&&((ue=g==null?void 0:g.total)==null?void 0:ue.currency)===((Y=(je=l==null?void 0:l.supplier)==null?void 0:je.total)==null?void 0:Y.currency)&&s.jsxs("div",{className:"text-xs font-medium text-secondary",children:["Gross fare:"," ",s.jsx("span",{className:"font-normal line-through",children:((Ae=(Ye=l==null?void 0:l.supplier)==null?void 0:Ye.before_comission)==null?void 0:Ae.total)>((Me=g==null?void 0:g.total)==null?void 0:Me.amount)?s.jsxs(s.Fragment,{children:[X((G=(he=l==null?void 0:l.supplier)==null?void 0:he.total)==null?void 0:G.currency)," ",(Ce=(we=l==null?void 0:l.supplier)==null?void 0:we.before_comission)==null?void 0:Ce.total]}):s.jsxs(s.Fragment,{children:[X((Ie=g==null?void 0:g.total)==null?void 0:Ie.currency)," ",(We=g==null?void 0:g.total)==null?void 0:We.amount]})})]})]})]}):u==="4"?s.jsxs("div",{className:Q("flex justify-between flex-shrink-0 gap-1 max-sm:w-full sm:flex-col sm:justify-evenly sm:items-center self-start border-l pl-4"),children:[s.jsx("div",{className:"flex flex-col items-center text-center",children:_==="YES"&&s.jsx("p",{className:"font-medium text-[#1E7F44] text-xs capitalize",children:k==="no"?s.jsx("span",{className:"text-red-400",children:"Instant Purchase"}):O.refundable})}),s.jsx(vs,{flight:f}),s.jsx(Os,{flight:f}),s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx(mt,{flight:f}),(m==null?void 0:m.show_gross_price)==="YES"&&((Le=g==null?void 0:g.total)==null?void 0:Le.currency)===((Fe=(He=l==null?void 0:l.supplier)==null?void 0:He.total)==null?void 0:Fe.currency)&&s.jsxs("div",{className:"text-xs font-medium text-secondary",children:["Gross fare:"," ",s.jsx("span",{className:"font-normal line-through",children:((Pe=(Te=l==null?void 0:l.supplier)==null?void 0:Te.before_comission)==null?void 0:Pe.total)>((Ge=g==null?void 0:g.total)==null?void 0:Ge.amount)?s.jsxs(s.Fragment,{children:[X((ve=(me=l==null?void 0:l.supplier)==null?void 0:me.total)==null?void 0:ve.currency)," ",(ts=(Qe=l==null?void 0:l.supplier)==null?void 0:Qe.before_comission)==null?void 0:ts.total]}):s.jsxs(s.Fragment,{children:[X((ae=g==null?void 0:g.total)==null?void 0:ae.currency)," ",(ie=g==null?void 0:g.total)==null?void 0:ie.amount]})})]})]})]}):s.jsxs("div",{className:Q("flex justify-between flex-shrink-0 gap-1 max-sm:w-full sm:flex-col sm:justify-evenly sm:items-center max-sm:px-3",x&&["1","2"].includes(u)?"pt-4":""),children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx(vs,{flight:c}),["5","7"].includes(u)===!1&&s.jsx(Os,{flight:c}),_==="YES"&&s.jsx("p",{className:"font-medium text-[#1E7F44] text-xs capitalize",children:k==="no"?s.jsx("span",{className:"text-red-400",children:"Instant Purchase"}):O.refundable})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx(mt,{flight:c}),(m==null?void 0:m.show_gross_price)==="YES"&&((as=g==null?void 0:g.total)==null?void 0:as.currency)===((Re=($e=l==null?void 0:l.supplier)==null?void 0:$e.total)==null?void 0:Re.currency)&&s.jsxs("div",{className:"text-xs font-medium text-secondary",children:["Gross fare:"," ",s.jsx("span",{className:"font-normal line-through",children:((fs=(K=l==null?void 0:l.supplier)==null?void 0:K.before_comission)==null?void 0:fs.total)>((ps=g==null?void 0:g.total)==null?void 0:ps.amount)?s.jsxs(s.Fragment,{children:[X((rs=(Ke=l==null?void 0:l.supplier)==null?void 0:Ke.total)==null?void 0:rs.currency)," ",(Ue=(Xe=l==null?void 0:l.supplier)==null?void 0:Xe.before_comission)==null?void 0:Ue.total]}):s.jsxs(s.Fragment,{children:[X((Ns=g==null?void 0:g.total)==null?void 0:Ns.currency)," ",(Ks=g==null?void 0:g.total)==null?void 0:Ks.amount]})})]})]})]})]}),o&&s.jsxs("div",{className:Q("flex justify-between px-3",["5","7"].includes(u)===!1?"py-2 bg-base-300/50":"",u==="7"&&"border-t"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[((gs=(Xs=(ws=S[0])==null?void 0:ws.routes[0])==null?void 0:Xs.booking_class)==null?void 0:gs.meal_code)&&((ks=(Ys=(ns=S[0])==null?void 0:ns.routes[0])==null?void 0:Ys.booking_class)==null?void 0:ks.meal_code)!=="not-available"&&["5","7"].includes(u)===!1&&s.jsx("button",{className:"inline-flex items-center justify-center w-5 h-5 text-primary",title:"Meal",children:s.jsx(Wt,{})}),(y==null?void 0:y.show_cart_quotes)==="YES"&&s.jsxs("button",{onClick:()=>{p!=null&&p.login_key?_e("quotes",c):(Ne(),qs("login"))},className:"p-1 duration-100 text-secondary hover:text-secondary-focus active:scale-75",children:[s.jsx(Vl,{})," ",s.jsx("span",{className:"text-xs",children:"Quotes"})]}),s.jsxs("button",{onClick:()=>{p!=null&&p.login_key?_e("flight_share",c):(Ne(),qs("login"))},className:"p-1 duration-100 text-warning hover:text-orange-400 active:scale-75",children:[s.jsx(ho,{})," ",s.jsx("span",{className:"text-xs",children:"Share"})]})]}),s.jsx("div",{className:"flex items-center sm:hidden",children:s.jsx(nc,{flight:c})}),s.jsxs("div",{className:Q("max-sm:hidden",["5","7"].includes(u)===!1?"join":"flex gap-3"),children:[["1","4","5","7"].includes(u)&&s.jsx("button",{onClick:()=>_e("flight_itinerary",c),className:Q("text-primary text-xs",["5","7"].includes(u)===!1?"join-item font-normal normal-case otherFaresBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 first:border-r-0":"font-medium"),children:"Flight Itinerary"}),u!=="4"&&s.jsx("button",{onClick:()=>_e("flight_options",c),className:Q("text-primary text-xs",["5","7"].includes(u)===!1?"font-normal normal-case viewDetailsBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item first:border-r-0":"font-medium"),children:"Flight Options"}),b==="YES"&&s.jsx("button",{onClick:()=>_e("fare_summary",c),className:Q("text-primary text-xs",["5","7"].includes(u)===!1?"font-normal normal-case viewDetailsBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item first:border-r-0":"font-medium"),children:"Fare Summary"}),_==="YES"&&s.jsx("button",{onClick:()=>_e("fare_rules",c),className:Q("text-primary text-xs",["5","7"].includes(u)===!1?"font-normal normal-case viewDetailsBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item first:border-r-0":"font-medium"),children:"Fare Rules"}),["supernsn","administrator"].includes(p==null?void 0:p.user_access_level)&&T==="YES"&&s.jsx("button",{onClick:()=>_e("supplier_revenue",c),className:Q("text-primary text-xs",["5","7"].includes(u)===!1?"font-normal normal-case viewDetailsBtn btn hover:!bg-primary/20 hover:!text-primary-focus border-primary/20 hover:!border-primary/20 btn-primary btn-outline btn-xs h-7 join-item first:border-r-0":"font-medium"),children:w.supplier_title})]})]}),u==="4"&&s.jsx("div",{className:"flex p-2 min-h-4",children:s.jsx("div",{className:"float-left bg-primary relative w-5 h-4 before:content-['Info'] before:absolute before:left-0 before:top-0 before:inline-flex before:w-full before:h-full before:items-center before:justify-center before:pl-1 before:text-primary-content before:text-[8px] flex after:left-full after:top-0 after:border-8 after:border-base-200 after:border-l-primary after:absolute"})})]})};Ut.propTypes={flight:Oe.object.isRequired};const lc=()=>{const{active:c,data:o}=be.useState(d=>d.modal),{flight_group:f}=o;return s.jsx("div",{className:"modal",open:c==="flight_itinerary",children:s.jsxs("div",{className:"max-w-3xl p-0 rounded-md modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Flight Itinerary"}),s.jsx("button",{onClick:Ne,className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(Je,{})})]}),s.jsx("div",{className:"p-5 max-h-[70vh] h-full overflow-auto",children:s.jsx(qa,{flight_group:f})})]})})},oc=()=>{const{axiosInstance:c}=Is(),{active:o,data:f}=be.useState(l=>l.modal),{system_config:d,login_required:m,price_view:{show_flight_fare_rules:_}}=pe.useState(),{search_result_version:b}=d||{},{user_data:y}=Ve.useState(),{member_id:M}=y||{},{tracking_id:u,filter_unique_filter_code:T,get_branded_fare:S,flight_key:k,result_type:O}=f,{data:w=[],isLoading:g}=Qs({queryKey:["MATCHED_FLIGHTS",u,T,S,k,M,O],enabled:o==="flight_options",queryFn:async()=>{var l,x;if(S==="yes"){const p=await c.post("/secure?pathName=/flight/branded-fare",{member_id:M||"1",tracking_id:u,flight_key:k,result_type:O});return((l=p.data)==null?void 0:l.total_options)>0?p.data.data:(_e("select_flight",f),[f])}else{const p=await c.get(`/flight_logs?tracking_id=${u}&base_url=${d!=null&&d.supplier_logs_file_base_url?d==null?void 0:d.supplier_logs_file_base_url:""}&login_required=${m}`);return((x=p==null?void 0:p.data)==null?void 0:x.status)==="success"?p.data.data.filter(F=>F.filter_unique_filter_code===T):[]}}});return s.jsx("div",{id:"flight_options_modal",className:"modal",open:o==="flight_options",children:s.jsxs("div",{className:"max-w-3xl p-0 rounded-md modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Flight Options"}),s.jsx("button",{onClick:Ne,className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(Je,{})})]}),g?s.jsx(Lt,{}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"p-5 max-h-[60vh] h-full overflow-auto",children:s.jsx("div",{className:"p-3",children:(w==null?void 0:w.length)>0?s.jsx("div",{className:"flex flex-col gap-3 flight-options",children:w.map((l,x)=>{var p,D,F,P,E,$,H,A,j,U,z,R,I,ne,te,W,B,ee,se,fe,de,ue,je,Y,Ye,Ae,Me,he,G,we,Ce,Ie,We,Le,He,Fe,Te,Pe;return s.jsxs("div",{className:Q("flex flex-col justify-between gap-3 p-3 rounded-lg shadow-md border hover:border-primary sm:flex-row",l.flight_key===f.flight_key?"ring-1 ring-primary border-primary":"border-neutral/10"),children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"mb-3",children:[l!=null&&l.package_title?s.jsxs("div",{className:"mb-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-2xl font-semibold",children:l.package_title}),s.jsx($t,{booking_class:(D=(p=l==null?void 0:l.flight_group[0])==null?void 0:p.routes[0])==null?void 0:D.booking_class,children:s.jsx("button",{className:"text-info",children:s.jsx(vo,{})})})]}),s.jsxs("p",{className:"text-xs",children:["(Option ",x+1,")"]})]}):s.jsxs("h3",{className:"mb-1 text-2xl font-semibold",children:["Option ",x+1]}),s.jsxs("p",{className:"text-xs",children:["Class of service:"," ",s.jsx("span",{className:"font-semibold capitalize",children:(E=(P=(F=l==null?void 0:l.flight_group[0])==null?void 0:F.routes[0])==null?void 0:P.booking_class)==null?void 0:E.cabin_class})]}),(y==null?void 0:y.user_access_level)==="supernsn"&&s.jsxs("p",{className:"text-xs",children:["Supplier Name:"," ",s.jsx("span",{className:"font-semibold capitalize",children:($=l==null?void 0:l.supplier)==null?void 0:$.supplier_title})]})]}),s.jsxs("div",{className:"flex gap-2 text-xs text-primary/70",children:[s.jsxs("p",{className:"font-medium mr-0.5",children:[s.jsx(Gl,{className:"mr-1"}),"Baggage:"]}),s.jsxs("p",{children:[s.jsx(Ea,{})," ",(z=(U=(j=(A=(H=l==null?void 0:l.flight_group[0])==null?void 0:H.routes[0])==null?void 0:A.baggages)==null?void 0:j.checked)==null?void 0:U.ADT)!=null&&z.title?(R=l==null?void 0:l.flight_group[0])==null?void 0:R.routes[0].baggages.checked.ADT.title:"0 pieces"]}),((B=(W=(te=(ne=(I=l==null?void 0:l.flight_group[0])==null?void 0:I.routes[0])==null?void 0:ne.baggages)==null?void 0:te.checked)==null?void 0:W.CNN)==null?void 0:B.title)&&s.jsxs("p",{children:[s.jsx(It,{})," ",(ee=l==null?void 0:l.flight_group[0])==null?void 0:ee.routes[0].baggages.checked.CNN.title]}),((je=(ue=(de=(fe=(se=l==null?void 0:l.flight_group[0])==null?void 0:se.routes[0])==null?void 0:fe.baggages)==null?void 0:de.checked)==null?void 0:ue.INF)==null?void 0:je.title)&&s.jsxs("p",{children:[s.jsx(Aa,{})," ",(Y=l==null?void 0:l.flight_group[0])==null?void 0:Y.routes[0].baggages.checked.INF.title]})]}),s.jsxs("div",{className:"flex gap-2 text-xs text-secondary/80",children:[s.jsxs("p",{className:"font-medium mr-0.5",children:[s.jsx(ql,{className:"mr-1"}),"Hand Baggage:"," ",(Ae=(Ye=l==null?void 0:l.flight_group[0])==null?void 0:Ye.routes[0].baggages)!=null&&Ae.carry_on?(Me=l==null?void 0:l.flight_group[0])==null?void 0:Me.routes[0].baggages.carry_on.ADT.title:"7 kg*"]}),s.jsxs("p",{children:[s.jsx(It,{})," ",((Ie=(Ce=(we=(G=(he=l==null?void 0:l.flight_group[0])==null?void 0:he.routes[0])==null?void 0:G.baggages)==null?void 0:we.carry_on)==null?void 0:Ce.CNN)==null?void 0:Ie.title)||"7 kg*"]})]}),_==="YES"&&s.jsxs("p",{className:"text-xs font-medium text-yellow-500/80",children:[s.jsx(Zl,{className:"mr-1"})," Change Before Departure :"," ",(Le=(We=l==null?void 0:l.supplier_fare_rules)==null?void 0:We.change_before_departure)!=null&&Le.allowed?`${X((Fe=(He=l==null?void 0:l.supplier_fare_rules)==null?void 0:He.change_before_departure)==null?void 0:Fe.penalty_currency)} ${(Pe=(Te=l==null?void 0:l.supplier_fare_rules)==null?void 0:Te.change_before_departure)==null?void 0:Pe.penalty_amount}`:"No"]})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsxs("div",{className:"text-center",children:[b==="5"?s.jsx(vs,{flight:l}):s.jsxs(s.Fragment,{children:[s.jsx(vs,{flight:l}),s.jsx(Os,{flight:l})]}),_==="YES"&&s.jsx("p",{className:"font-medium text-[#1E7F44] text-xs capitalize",children:(l==null?void 0:l.hold_possible)==="no"?"Instant Purchase":l==null?void 0:l.fare_rules.refundable})]}),s.jsx("button",{onClick:()=>{y!=null&&y.login_key?_e("select_flight",l):(Ne(),qs("login"))},className:"normal-case btn btn-primary btn-outline btn-sm selectFlightBtn",children:"Select Flight"})]})]},l.flight_key)})}):s.jsx("div",{className:"text-center flex justify-center items-center h-[200px]",children:s.jsx("p",{children:"No options available"})})})})})]})})},cc=()=>{const{active:c,data:o}=be.useState(d=>d.modal),{price_breakdown:f}=o;return s.jsx("div",{className:"modal",open:c==="fare_summary",children:s.jsxs("div",{className:"max-w-5xl p-0 rounded-md modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Fare Summary"}),s.jsx("button",{onClick:Ne,className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(Je,{})})]}),s.jsx("div",{className:"p-5 max-h-[70vh] h-full overflow-auto",children:s.jsx(Ga,{price_breakdown:f})})]})})},dc=()=>{const{active:c,data:o}=be.useState(E=>E.modal),{price_breakdown:f}=o||{},[d,m]=le.useState(!1),[_,b]=le.useState(!1),[y,M]=le.useState(!1),{user_data:u}=Ve.useState(),{member_id:T,partner_from_email_full_name:S,partner_from_email_address:k}=u||{},[O,w]=Jl(),g=le.useRef(),{axiosInstance:l}=Is(),{flight_group:x}=o||{},{system_config:p}=pe.useState();le.useEffect(()=>{g.current&&w(g.current)},[w]);const D=()=>{Ne(),b(!1)},F=async E=>{var $,H,A,j,U,z,R,I,ne,te,W,B,ee,se,fe,de,ue,je;if(E.preventDefault(),!d){m(!0);try{const Y=E.target,Ye=Y.name.value,Ae=Y.email.value,Me=Y.message.value,he=await l.post("/tools/send-email",{email_subject:`${(A=(H=($=x[0])==null?void 0:$.routes[0])==null?void 0:H.operating)==null?void 0:A.carrier_name} - ${(U=(j=x[0])==null?void 0:j.routes[0])==null?void 0:U.origin} to ${(I=(R=(z=x==null?void 0:x.at(-1))==null?void 0:z.routes)==null?void 0:R.at(-1))==null?void 0:I.destination} at ${Ee(new Date((te=(ne=x[0])==null?void 0:ne.routes[0])==null?void 0:te.departure_time)).format("MMMM D, YYYY hh:mm A")}`,email_body:`
          <!DOCTYPE html>
          <html lang="en">
          
          <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <style>
                  * {
                      padding: 0;
                      margin: 0;
                      box-sizing: border-box;
                      font-size: inherit;
          
                  }
          
                  body {
                      font-size: 16px;
                      line-height: 20px;
                  }
              </style>
          
          </head>
          
          <body>
          
              <div
                  style="min-height: 100vh; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; color: #60636b; font-size: 15px;">
          
                  <h1 style="text-align: center; margin-bottom: 25px; font-size: 19px; font-weight: bold; color: #000000;">
                      ${(ee=(B=(W=x[0])==null?void 0:W.routes[0])==null?void 0:B.operating)==null?void 0:ee.carrier_name}</h1>
          
                  <div
                      style="width: 100%; border-radius: 5px; background-color: #fff; font-weight: 500; overflow: hidden;">
          
                      <div style="margin-bottom: 14px; padding: 1rem 1rem 0 1rem;">
                          <h5 style="font-weight: bold; margin-bottom: 10px; font-size: 16px;">Hi, ${Ye}</h5>
                          <p style="font-size: 14px;">${Me}</p>
                      </div>
          
                      <div style="padding: 1rem;">
                          <div style="padding: 12px; border-radius: 8px; border: 1px solid #f0f0f0;">
                             
                              <div style="border: 1px solid #E5E7EB; border-radius: 8px; margin-bottom: 30px;">
                                  ${x.map(G=>`
                                    <div>
                                      <div style="padding: 12px; border-bottom: 1px solid #E5E7EB;">
                                          <h6 style="font-weight: 500;">${G.routes[0].origin_airport.city} to 
                                          ${G.routes.at(-1).destination_airport.city}, 
                                          ${Ee(G.routes[0].departure_time).format(p.default_date_format_print)}</h6>
                                      </div>
                                      <div style="padding: 12px;">
                                      ${G.routes.map(we=>{var as,$e,Re,K,fs,ps,Ke,rs,Xe,Ue;const{lay_over:Ce,operating:{carrier_name:Ie,carrier:We,flight_number:Le,carrier_logo:He},aircraft:{name:Fe},departure_time:Te,origin_airport:{name:Pe},origin_terminal:Ge,arrival_time:me,destination_airport:{name:ve,destination_terminal:Qe},flight_time:ts,baggages:ae,booking_class:ie}=we;return`
                                              <div>
          
                                                  ${Ce!=="not-applicable"?`
                                                  <div
                                                      style="background-color: #f4f4f4; border-radius: 8px; padding: 4px 8px; margin-top: 30px; margin-bottom: 30px; width: fit-content; margin-left: auto; margin-right: auto;">
                                                      <p style="text-align: center; font-size: 12px;"><span
                                                              style="color: #dfa33a; font-weight: 700;">Change
                                                              of Airport</span> • Change of planes • ${As(Ce)} layover in ${Pe}</p>
                                                  </div>
                                                  `:""}
          
                                                  <div style="display: flex; margin-bottom: 16px;">
                                                  <img
                                                  style="border: 1px solid #f0f0f0; width: 2.4rem; height: 2.4rem; border-radius: 50%; margin-right: 12px;"
                                                  src="https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${He}"
                                                  alt=""
                                                />
                                                  <h6 style="font-weight: 500;">${Ie} <span
                                                          style="color: #9BA0B2;">${We} | ${Le}</span></h6>
                                                  </div>
                                                  <table style="width: 100%; margin-bottom: 16px;">
                                                      <tr>
                                                          <td>
                                                              <div style="text-align: center;">
                                                                  <h4 style="font-size: 24px; font-weight: 600px;">${Ee(Te).format("HH:mm")}</h4>
                                                                  <p style="font-size: 12px; color: #7a7a7a;">${Ee(Te).format(p.default_date_format_print)}</p>
                                                                  <p style="font-size: 12px; color: #7a7a7a;">${Pe}</p>
                                                                  ${Ge?`
                                                                  <p style="font-size: 10px; color: #b6b6b6;">Terminal ${Ge}</p>
                                                                  `:""}
                                                                  
                                                              </div>
          
          
                                                          </td>
                                                          <td>
                                                              <div style="flex-shrink: 0; text-align: center;">
                                                                  <h6
                                                                      style="margin-left: auto; margin-right: auto; font-size: 12px; font-weight: 500; width: fit-content;">
                                                                      ${As(ts)}</h6>
          
                                                                  <div
                                                                      style="width: 56px; height: 2px; margin-left: auto; margin-right: auto; margin-top: 8px; margin-bottom: 8px; display: flex; background-color: #f97316;">
          
                                                                  </div>
          
          
                                                              </div>
                                                          </td>
                                                          <td>
                                                              <div style="text-align: center;">
                                                                  <h4 style="font-size: 24px; font-weight: 600px;">${Ee(me).format("HH:mm")}</h4>
                                                                  <p style="font-size: 12px; color: #7a7a7a;">${Ee(me).format(p.default_date_format_print)}</p>
                                                                  <p style="font-size: 12px; color: #7a7a7a;">${ve}</p>

                                                                  ${Qe?`
                                                                  <p style="font-size: 10px; color: #b6b6b6;">Terminal ${Qe}</p>
                                                                  `:""}
                                                              </div>
                                                          </td>
                                                      </tr>
                                                  </table>
                                                  <table style="width: 100%;">
                                                  <tr>
                                                      <td style="width: 100%;">
                                                          <div>
                                                              <div
                                                                  style="display: flex; gap: 8px; font-size: 12px; color: #0FA976;">
                                                                  <p style="font-weight: 500; margin-right: 2px;">
                                                                      Baggage:
                                                                  </p>
                                                                  <p>
                                                                      ${($e=(as=ae==null?void 0:ae.checked)==null?void 0:as.ADT)!=null&&$e.title?ae.checked.ADT.title:"0 pieces"} for ADT
                                                                  </p>

                                                                  ${(K=(Re=ae==null?void 0:ae.checked)==null?void 0:Re.CNN)!=null&&K.title?`
                                                                      <p>
                                                                        ${ae.checked.CNN.title}{" "}
                                                                        for CNN
                                                                      </p>
                                                                    `:""}

                                                                  ${(ps=(fs=ae==null?void 0:ae.checked)==null?void 0:fs.INF)!=null&&ps.title?`
                                                                      <p>
                                                                        ${ae.checked.INF.title}{" "}
                                                                        for INF
                                                                      </p>
                                                                    `:""}
                                                              </div>
                                                              <div
                                                                  style="display: flex; gap: 8px; font-size: 12px; color: #078db6;">
                                                                  <p style="font-weight: 500; margin-right: 2px;">Hand Baggage: ${(rs=(Ke=ae==null?void 0:ae.carry_on)==null?void 0:Ke.ADT)!=null&&rs.title?ae.carry_on.ADT.title:"7 kg*"} for ADT</p>

                                                                   
                                                                        <p style="font-weight: 500; margin-right: 2px;">
                                                                          ${((Ue=(Xe=ae==null?void 0:ae.carry_on)==null?void 0:Xe.CNN)==null?void 0:Ue.title)||"7 kg*"}{" "}
                                                                          for
                                                                          CNN
                                                                        </p>

                                                                   
                                                              </div>
                                                          </div>
          
                                                      </td>
                                                      <td style="width: fit-content; white-space: nowrap;">
                                                          <div>
                                                              <div style="display: flex; font-size: 12px; color: #eab308;">
                                                                  <p style="font-weight: 500; margin-right: 8px;">Cabin Class: <span class="capitalize">${ie!=null&&ie.cabin_class?ie==null?void 0:ie.cabin_class:"N/A"}</span>
                                                                  </p>
                                                              </div>
                                                              <div style="display: flex; font-size: 12px; color: #078db6;">
                                                                  <p
                                                                      style="margin-right: 8px; font-weight: 500; display: flex; align-items: center;">
                                                                     Aircraft: ${Fe||"N/A"}
                                                                  </p>
                                                              </div>
                                                          </div>
                                                      </td>
                                                  </tr>
                                              </table>
                                              </div>
                                        `}).join(`
`)}
                                          
                                      </div>
                                  </div>
                                    `).join(`
`)}
          
                              </div>
          

                              ${y?`
                              <div style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 30px;">
                                  <div style="padding: 12px; border-bottom: 1px solid #e0e0e0;">
                                      <h6 style="font-weight: 500;">Fare breakdown</h6>
                                  </div>
                                  <div style="width: 100%; padding: 12px; overflow-x: auto;">
                                      <table style="font-size: 14px; border-collapse: collapse; text-align: center; width: 100%;">
                                          <thead>
                                              <tr>
                                                  <th style="padding: 8px; border: 1px solid #e0e0e0;">Fare Summary</th>
                                                  <th style="padding: 8px; border: 1px solid #e0e0e0;">Base Fare</th>
                                                  <th style="padding: 8px; border: 1px solid #e0e0e0;">Taxes + Fees</th>
                                                  <th style="padding: 8px; border: 1px solid #e0e0e0;">Per Passenger</th>
                                                  <th style="padding: 8px; border: 1px solid #e0e0e0;">Total</th>
                                              </tr>
                                          </thead>
                                          <tbody>
                                             ${f==null?void 0:f.map(G=>`
                                              <tr>
                                              <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;">${G.passenger_type}
                                              </td>
                                              <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;">${X(G.base_fare.currency)} 
                                              ${G.base_fare.amount}</td>
                                              <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;">${X(G.tax.currency)} ${G.tax.amount}
                                              </td>
                                              <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;">${X(G.total.currency)} (
                                                ${G.total.amount/G.passenger_total} x 
                                                ${G.passenger_total})</td>
                                              <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;">${X(G.total.currency)} ${G.total.amount}</td>
                                          </tr>
                                              `).join(`
`)}
                                          </tbody>
                                          <tfoot>
                                              <tr>
                                                  <th
                                                      style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;text-align: start;">
                                                      Total (
                                                        ${f.map(G=>G.passenger_total).reduce((G,we)=>G+we,0)} 
                                                        Travelers)</th>
                                                  <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;"></td>
                                                  <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;"></td>
                                                  <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;"></td>
                                                  <td style="padding: 8px; border: 1px solid #e0e0e0; color: #7a7a7a;">${X((fe=(se=f[0])==null?void 0:se.total)==null?void 0:fe.currency)} 
                                                  ${f.map(G=>G.total.amount).reduce((G,we)=>G+we,0)}</td>
                                              </tr>
                                          </tfoot>
                                      </table>
                                  </div>
                              </div>
                              `:""}
                              
                          </div>
                      </div>
                  </div>
              </div>
          </body>
          
          </html>
        `,email_to:{full_name:Ye,email_addresss:Ae},email_from:{full_name:S,email_addresss:k}});if(D(),((de=he==null?void 0:he.data)==null?void 0:de.status)==="success")Zs("success","Sent!",(ue=he==null?void 0:he.data)==null?void 0:ue.reason);else throw new Error((je=he==null?void 0:he.data)==null?void 0:je.reason)}catch(Y){Zs("error","Failed!",Y.message)}finally{m(!1)}}},P=async()=>{var E;try{const $=O.match(/^data:image\/([^;]+)/),H=$?$[1]:null,A=O.replace(/^data:image\/[^;]+;base64,/,""),j=await l.post("/tools/upload-base64-file",{image_type:"data",category:"flight_details",fileExtension:H,documents_image_url:A,member_id:T});if(((E=j.data)==null?void 0:E.status)==="success"){const{ObjectURL:U}=j.data;navigator.clipboard.writeText(U),b(!0)}}catch($){console.error($)}};return s.jsx("div",{className:"modal",open:c==="flight_share",children:s.jsxs("form",{onSubmit:F,className:"max-w-5xl p-0 rounded-md modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Flight Share"}),s.jsx("button",{onClick:D,type:"button",className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(Je,{})})]}),s.jsxs("div",{className:"p-5 max-h-[70vh] h-full overflow-auto",children:[s.jsxs("div",{ref:g,className:"p-3 space-y-4 border rounded-lg",children:[s.jsx(qa,{flight_group:x}),y&&s.jsx(Ga,{price_breakdown:f})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-5 mt-8",children:[s.jsxs("div",{className:"gap-2 form-control",children:[s.jsx("label",{children:"Name:"}),s.jsx("input",{autoComplete:"off",type:"text",className:"h-10 min-h-0 bg-transparent rounded input input-bordered focus:outline-none focus:border-primary",name:"name",placeholder:"Name",required:!0})]}),s.jsxs("div",{className:"gap-2 form-control",children:[s.jsx("label",{children:"Email:"}),s.jsx("input",{autoComplete:"off",type:"email",className:"h-10 min-h-0 bg-transparent rounded input input-bordered focus:outline-none focus:border-primary",name:"email",placeholder:"Email",required:!0})]}),s.jsxs("div",{className:"gap-2 form-control",children:[s.jsx("label",{children:"Price Include"}),s.jsxs("select",{className:"h-10 min-h-0 bg-transparent rounded select select-bordered focus:outline-none focus:border-primary",required:!0,value:y?"yes":"no",onChange:E=>M(E.target.value==="yes"),children:[s.jsx("option",{value:"no",children:"No"}),s.jsx("option",{value:"yes",children:"Yes"})]})]}),s.jsxs("div",{className:"col-span-3 gap-2 form-control",children:[s.jsx("label",{children:"Message:"}),s.jsx("textarea",{className:"py-2 bg-transparent rounded min-h-16 input input-bordered focus:outline-none focus:border-primary",name:"message",placeholder:"Message",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 px-4 py-2 mt-2 border-t bg-base-300",children:[s.jsxs("div",{className:"dropdown dropdown-top dropdown-end",children:[s.jsxs("div",{tabIndex:0,role:"button",className:"min-h-0 normal-case btn btn-primary h-11",children:[s.jsx(mo,{})," Share"]}),s.jsx("ul",{tabIndex:0,className:"dropdown-content mb-2 z-[1] menu p-2 shadow bg-base-100 rounded-box w-52",children:s.jsx("li",{className:"flex items-center justify-center px-3 py-3",children:s.jsxs("button",{type:"button",tabIndex:-1,onClick:P,className:"flex flex-col items-center justify-center gap-2 text-center duration-100 hover:!bg-primary/10 focus:!bg-primary/10 active:scale-90",children:[s.jsx(Ql,{className:"text-xl text-primary"})," ",s.jsx("span",{className:"text-xs",children:_?"Copied":"Copy Link to Clipboard"})]})})})]}),s.jsx("button",{type:"submit",className:"min-h-0 normal-case btn btn-secondary h-11",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ia,{className:"animate-spin"})," Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Kl,{})," Send Email"]})})]})]})})};var Za={exports:{}};(function(c,o){(function(f,d){c.exports=d()})(Fl,function(){var f;function d(){return f.apply(null,arguments)}function m(e){f=e}function _(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function b(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(y(e,t))return!1;return!0}function u(e){return e===void 0}function T(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function S(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function k(e,t){var a=[],r,n=e.length;for(r=0;r<n;++r)a.push(t(e[r],r));return a}function O(e,t){for(var a in t)y(t,a)&&(e[a]=t[a]);return y(t,"toString")&&(e.toString=t.toString),y(t,"valueOf")&&(e.valueOf=t.valueOf),e}function w(e,t,a,r){return ia(e,t,a,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function l(e){return e._pf==null&&(e._pf=g()),e._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(e){var t=Object(this),a=t.length>>>0,r;for(r=0;r<a;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function p(e){var t=null,a=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=l(e),a=x.call(t.parsedDateParts,function(n){return n!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function D(e){var t=w(NaN);return e!=null?O(l(t),e):l(t).userInvalidated=!0,t}var F=d.momentProperties=[],P=!1;function E(e,t){var a,r,n,i=F.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=l(t)),u(t._locale)||(e._locale=t._locale),i>0)for(a=0;a<i;a++)r=F[a],n=t[r],u(n)||(e[r]=n);return e}function $(e){E(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,d.updateOffset(this),P=!1)}function H(e){return e instanceof $||e!=null&&e._isAMomentObject!=null}function A(e){d.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function j(e,t){var a=!0;return O(function(){if(d.deprecationHandler!=null&&d.deprecationHandler(null,e),a){var r=[],n,i,h,C=arguments.length;for(i=0;i<C;i++){if(n="",typeof arguments[i]=="object"){n+=`
[`+i+"] ";for(h in arguments[0])y(arguments[0],h)&&(n+=h+": "+arguments[0][h]+", ");n=n.slice(0,-2)}else n=arguments[i];r.push(n)}A(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),a=!1}return t.apply(this,arguments)},t)}var U={};function z(e,t){d.deprecationHandler!=null&&d.deprecationHandler(e,t),U[e]||(A(t),U[e]=!0)}d.suppressDeprecationWarnings=!1,d.deprecationHandler=null;function R(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function I(e){var t,a;for(a in e)y(e,a)&&(t=e[a],R(t)?this[a]=t:this["_"+a]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ne(e,t){var a=O({},e),r;for(r in t)y(t,r)&&(b(e[r])&&b(t[r])?(a[r]={},O(a[r],e[r]),O(a[r],t[r])):t[r]!=null?a[r]=t[r]:delete a[r]);for(r in e)y(e,r)&&!y(t,r)&&b(e[r])&&(a[r]=O({},a[r]));return a}function te(e){e!=null&&this.set(e)}var W;Object.keys?W=Object.keys:W=function(e){var t,a=[];for(t in e)y(e,t)&&a.push(t);return a};var B={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ee(e,t,a){var r=this._calendar[e]||this._calendar.sameElse;return R(r)?r.call(t,a):r}function se(e,t,a){var r=""+Math.abs(e),n=t-r.length,i=e>=0;return(i?a?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+r}var fe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,de=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ue={},je={};function Y(e,t,a,r){var n=r;typeof r=="string"&&(n=function(){return this[r]()}),e&&(je[e]=n),t&&(je[t[0]]=function(){return se(n.apply(this,arguments),t[1],t[2])}),a&&(je[a]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function Ye(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Ae(e){var t=e.match(fe),a,r;for(a=0,r=t.length;a<r;a++)je[t[a]]?t[a]=je[t[a]]:t[a]=Ye(t[a]);return function(n){var i="",h;for(h=0;h<r;h++)i+=R(t[h])?t[h].call(n,e):t[h];return i}}function Me(e,t){return e.isValid()?(t=he(t,e.localeData()),ue[t]=ue[t]||Ae(t),ue[t](e)):e.localeData().invalidDate()}function he(e,t){var a=5;function r(n){return t.longDateFormat(n)||n}for(de.lastIndex=0;a>=0&&de.test(e);)e=e.replace(de,r),de.lastIndex=0,a-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function we(e){var t=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return t||!a?t:(this._longDateFormat[e]=a.match(fe).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Ce="Invalid date";function Ie(){return this._invalidDate}var We="%d",Le=/\d{1,2}/;function He(e){return this._ordinal.replace("%d",e)}var Fe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Te(e,t,a,r){var n=this._relativeTime[a];return R(n)?n(e,t,a,r):n.replace(/%d/i,e)}function Pe(e,t){var a=this._relativeTime[e>0?"future":"past"];return R(a)?a(t):a.replace(/%s/i,t)}var Ge={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function me(e){return typeof e=="string"?Ge[e]||Ge[e.toLowerCase()]:void 0}function ve(e){var t={},a,r;for(r in e)y(e,r)&&(a=me(r),a&&(t[a]=e[r]));return t}var Qe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ts(e){var t=[],a;for(a in e)y(e,a)&&t.push({unit:a,priority:Qe[a]});return t.sort(function(r,n){return r.priority-n.priority}),t}var ae=/\d/,ie=/\d\d/,as=/\d{3}/,$e=/\d{4}/,Re=/[+-]?\d{6}/,K=/\d\d?/,fs=/\d\d\d\d?/,ps=/\d\d\d\d\d\d?/,Ke=/\d{1,3}/,rs=/\d{1,4}/,Xe=/[+-]?\d{1,6}/,Ue=/\d+/,Ns=/[+-]?\d+/,Ks=/Z|[+-]\d\d:?\d\d/gi,ws=/Z|[+-]\d\d(?::?\d\d)?/gi,Xs=/[+-]?\d+(\.\d{1,3})?/,gs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ns=/^[1-9]\d?/,Ys=/^([1-9]\d|\d)/,ks;ks={};function v(e,t,a){ks[e]=R(t)?t:function(r,n){return r&&a?a:t}}function ke(e,t){return y(ks,e)?ks[e](t._strict,t._locale):new RegExp(Ws(e))}function Ws(e){return is(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,a,r,n,i){return a||r||n||i}))}function is(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ze(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,a=0;return t!==0&&isFinite(t)&&(a=ze(t)),a}var gt={};function re(e,t){var a,r=t,n;for(typeof e=="string"&&(e=[e]),T(t)&&(r=function(i,h){h[t]=V(i)}),n=e.length,a=0;a<n;a++)gt[e[a]]=r}function Ls(e,t){re(e,function(a,r,n,i){n._w=n._w||{},t(a,n._w,n,i)})}function Ka(e,t,a){t!=null&&y(gt,e)&&gt[e](t,a._a,a,e)}function et(e){return e%4===0&&e%100!==0||e%400===0}var Se=0,ls=1,es=2,ge=3,qe=4,os=5,Ss=6,Xa=7,er=8;Y("Y",0,0,function(){var e=this.year();return e<=9999?se(e,4):"+"+e}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),v("Y",Ns),v("YY",K,ie),v("YYYY",rs,$e),v("YYYYY",Xe,Re),v("YYYYYY",Xe,Re),re(["YYYYY","YYYYYY"],Se),re("YYYY",function(e,t){t[Se]=e.length===2?d.parseTwoDigitYear(e):V(e)}),re("YY",function(e,t){t[Se]=d.parseTwoDigitYear(e)}),re("Y",function(e,t){t[Se]=parseInt(e,10)});function Hs(e){return et(e)?366:365}d.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var zt=Cs("FullYear",!0);function sr(){return et(this.year())}function Cs(e,t){return function(a){return a!=null?(Bt(this,e,a),d.updateOffset(this,t),this):$s(this,e)}}function $s(e,t){if(!e.isValid())return NaN;var a=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?a.getUTCMilliseconds():a.getMilliseconds();case"Seconds":return r?a.getUTCSeconds():a.getSeconds();case"Minutes":return r?a.getUTCMinutes():a.getMinutes();case"Hours":return r?a.getUTCHours():a.getHours();case"Date":return r?a.getUTCDate():a.getDate();case"Day":return r?a.getUTCDay():a.getDay();case"Month":return r?a.getUTCMonth():a.getMonth();case"FullYear":return r?a.getUTCFullYear():a.getFullYear();default:return NaN}}function Bt(e,t,a){var r,n,i,h,C;if(!(!e.isValid()||isNaN(a))){switch(r=e._d,n=e._isUTC,t){case"Milliseconds":return void(n?r.setUTCMilliseconds(a):r.setMilliseconds(a));case"Seconds":return void(n?r.setUTCSeconds(a):r.setSeconds(a));case"Minutes":return void(n?r.setUTCMinutes(a):r.setMinutes(a));case"Hours":return void(n?r.setUTCHours(a):r.setHours(a));case"Date":return void(n?r.setUTCDate(a):r.setDate(a));case"FullYear":break;default:return}i=a,h=e.month(),C=e.date(),C=C===29&&h===1&&!et(i)?28:C,n?r.setUTCFullYear(i,h,C):r.setFullYear(i,h,C)}}function tr(e){return e=me(e),R(this[e])?this[e]():this}function ar(e,t){if(typeof e=="object"){e=ve(e);var a=ts(e),r,n=a.length;for(r=0;r<n;r++)this[a[r].unit](e[a[r].unit])}else if(e=me(e),R(this[e]))return this[e](t);return this}function rr(e,t){return(e%t+t)%t}var xe;Array.prototype.indexOf?xe=Array.prototype.indexOf:xe=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function yt(e,t){if(isNaN(e)||isNaN(t))return NaN;var a=rr(t,12);return e+=(t-a)/12,a===1?et(e)?29:28:31-a%7%2}Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),v("M",K,ns),v("MM",K,ie),v("MMM",function(e,t){return t.monthsShortRegex(e)}),v("MMMM",function(e,t){return t.monthsRegex(e)}),re(["M","MM"],function(e,t){t[ls]=V(e)-1}),re(["MMM","MMMM"],function(e,t,a,r){var n=a._locale.monthsParse(e,r,a._strict);n!=null?t[ls]=n:l(a).invalidMonth=e});var nr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Vt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ir=gs,lr=gs;function or(e,t){return e?_(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Gt).test(t)?"format":"standalone"][e.month()]:_(this._months)?this._months:this._months.standalone}function cr(e,t){return e?_(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Gt.test(t)?"format":"standalone"][e.month()]:_(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dr(e,t,a){var r,n,i,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=w([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return a?t==="MMM"?(n=xe.call(this._shortMonthsParse,h),n!==-1?n:null):(n=xe.call(this._longMonthsParse,h),n!==-1?n:null):t==="MMM"?(n=xe.call(this._shortMonthsParse,h),n!==-1?n:(n=xe.call(this._longMonthsParse,h),n!==-1?n:null)):(n=xe.call(this._longMonthsParse,h),n!==-1?n:(n=xe.call(this._shortMonthsParse,h),n!==-1?n:null))}function ur(e,t,a){var r,n,i;if(this._monthsParseExact)return dr.call(this,e,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(n=w([2e3,r]),a&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),!a&&!this._monthsParse[r]&&(i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),a&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(a&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!a&&this._monthsParse[r].test(e))return r}}function qt(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=V(t);else if(t=e.localeData().monthsParse(t),!T(t))return e}var a=t,r=e.date();return r=r<29?r:Math.min(r,yt(e.year(),a)),e._isUTC?e._d.setUTCMonth(a,r):e._d.setMonth(a,r),e}function Zt(e){return e!=null?(qt(this,e),d.updateOffset(this,!0),this):$s(this,"Month")}function hr(){return yt(this.year(),this.month())}function mr(e){return this._monthsParseExact?(y(this,"_monthsRegex")||Jt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(y(this,"_monthsShortRegex")||(this._monthsShortRegex=ir),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function xr(e){return this._monthsParseExact?(y(this,"_monthsRegex")||Jt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(y(this,"_monthsRegex")||(this._monthsRegex=lr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Jt(){function e(L,q){return q.length-L.length}var t=[],a=[],r=[],n,i,h,C;for(n=0;n<12;n++)i=w([2e3,n]),h=is(this.monthsShort(i,"")),C=is(this.months(i,"")),t.push(h),a.push(C),r.push(C),r.push(h);t.sort(e),a.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function fr(e,t,a,r,n,i,h){var C;return e<100&&e>=0?(C=new Date(e+400,t,a,r,n,i,h),isFinite(C.getFullYear())&&C.setFullYear(e)):C=new Date(e,t,a,r,n,i,h),C}function Us(e){var t,a;return e<100&&e>=0?(a=Array.prototype.slice.call(arguments),a[0]=e+400,t=new Date(Date.UTC.apply(null,a)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function st(e,t,a){var r=7+t-a,n=(7+Us(e,0,r).getUTCDay()-t)%7;return-n+r-1}function Qt(e,t,a,r,n){var i=(7+a-r)%7,h=st(e,r,n),C=1+7*(t-1)+i+h,L,q;return C<=0?(L=e-1,q=Hs(L)+C):C>Hs(e)?(L=e+1,q=C-Hs(e)):(L=e,q=C),{year:L,dayOfYear:q}}function zs(e,t,a){var r=st(e.year(),t,a),n=Math.floor((e.dayOfYear()-r-1)/7)+1,i,h;return n<1?(h=e.year()-1,i=n+cs(h,t,a)):n>cs(e.year(),t,a)?(i=n-cs(e.year(),t,a),h=e.year()+1):(h=e.year(),i=n),{week:i,year:h}}function cs(e,t,a){var r=st(e,t,a),n=st(e+1,t,a);return(Hs(e)-r+n)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),v("w",K,ns),v("ww",K,ie),v("W",K,ns),v("WW",K,ie),Ls(["w","ww","W","WW"],function(e,t,a,r){t[r.substr(0,1)]=V(e)});function pr(e){return zs(e,this._week.dow,this._week.doy).week}var gr={dow:0,doy:6};function yr(){return this._week.dow}function _r(){return this._week.doy}function br(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function jr(e){var t=zs(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),v("d",K),v("e",K),v("E",K),v("dd",function(e,t){return t.weekdaysMinRegex(e)}),v("ddd",function(e,t){return t.weekdaysShortRegex(e)}),v("dddd",function(e,t){return t.weekdaysRegex(e)}),Ls(["dd","ddd","dddd"],function(e,t,a,r){var n=a._locale.weekdaysParse(e,r,a._strict);n!=null?t.d=n:l(a).invalidWeekday=e}),Ls(["d","e","E"],function(e,t,a,r){t[r]=V(e)});function vr(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Nr(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function _t(e,t){return e.slice(t,7).concat(e.slice(0,t))}var wr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Kt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Sr=gs,Mr=gs,Dr=gs;function Or(e,t){var a=_(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?_t(a,this._week.dow):e?a[e.day()]:a}function Yr(e){return e===!0?_t(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Cr(e){return e===!0?_t(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Fr(e,t,a){var r,n,i,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=w([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return a?t==="dddd"?(n=xe.call(this._weekdaysParse,h),n!==-1?n:null):t==="ddd"?(n=xe.call(this._shortWeekdaysParse,h),n!==-1?n:null):(n=xe.call(this._minWeekdaysParse,h),n!==-1?n:null):t==="dddd"?(n=xe.call(this._weekdaysParse,h),n!==-1||(n=xe.call(this._shortWeekdaysParse,h),n!==-1)?n:(n=xe.call(this._minWeekdaysParse,h),n!==-1?n:null)):t==="ddd"?(n=xe.call(this._shortWeekdaysParse,h),n!==-1||(n=xe.call(this._weekdaysParse,h),n!==-1)?n:(n=xe.call(this._minWeekdaysParse,h),n!==-1?n:null)):(n=xe.call(this._minWeekdaysParse,h),n!==-1||(n=xe.call(this._weekdaysParse,h),n!==-1)?n:(n=xe.call(this._shortWeekdaysParse,h),n!==-1?n:null))}function Tr(e,t,a){var r,n,i;if(this._weekdaysParseExact)return Fr.call(this,e,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(n=w([2e3,1]).day(r),a&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),a&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(a&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(a&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!a&&this._weekdaysParse[r].test(e))return r}}function Pr(e){if(!this.isValid())return e!=null?this:NaN;var t=$s(this,"Day");return e!=null?(e=vr(e,this.localeData()),this.add(e-t,"d")):t}function Rr(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Er(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Nr(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ar(e){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||bt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(y(this,"_weekdaysRegex")||(this._weekdaysRegex=Sr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ir(e){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||bt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(y(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wr(e){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||bt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(y(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Dr),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function bt(){function e(De,xs){return xs.length-De.length}var t=[],a=[],r=[],n=[],i,h,C,L,q;for(i=0;i<7;i++)h=w([2e3,1]).day(i),C=is(this.weekdaysMin(h,"")),L=is(this.weekdaysShort(h,"")),q=is(this.weekdays(h,"")),t.push(C),a.push(L),r.push(q),n.push(C),n.push(L),n.push(q);t.sort(e),a.sort(e),r.sort(e),n.sort(e),this._weekdaysRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function jt(){return this.hours()%12||12}function Lr(){return this.hours()||24}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,jt),Y("k",["kk",2],0,Lr),Y("hmm",0,0,function(){return""+jt.apply(this)+se(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+jt.apply(this)+se(this.minutes(),2)+se(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+se(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+se(this.minutes(),2)+se(this.seconds(),2)});function Xt(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Xt("a",!0),Xt("A",!1);function ea(e,t){return t._meridiemParse}v("a",ea),v("A",ea),v("H",K,Ys),v("h",K,ns),v("k",K,ns),v("HH",K,ie),v("hh",K,ie),v("kk",K,ie),v("hmm",fs),v("hmmss",ps),v("Hmm",fs),v("Hmmss",ps),re(["H","HH"],ge),re(["k","kk"],function(e,t,a){var r=V(e);t[ge]=r===24?0:r}),re(["a","A"],function(e,t,a){a._isPm=a._locale.isPM(e),a._meridiem=e}),re(["h","hh"],function(e,t,a){t[ge]=V(e),l(a).bigHour=!0}),re("hmm",function(e,t,a){var r=e.length-2;t[ge]=V(e.substr(0,r)),t[qe]=V(e.substr(r)),l(a).bigHour=!0}),re("hmmss",function(e,t,a){var r=e.length-4,n=e.length-2;t[ge]=V(e.substr(0,r)),t[qe]=V(e.substr(r,2)),t[os]=V(e.substr(n)),l(a).bigHour=!0}),re("Hmm",function(e,t,a){var r=e.length-2;t[ge]=V(e.substr(0,r)),t[qe]=V(e.substr(r))}),re("Hmmss",function(e,t,a){var r=e.length-4,n=e.length-2;t[ge]=V(e.substr(0,r)),t[qe]=V(e.substr(r,2)),t[os]=V(e.substr(n))});function Hr(e){return(e+"").toLowerCase().charAt(0)==="p"}var $r=/[ap]\.?m?\.?/i,Ur=Cs("Hours",!0);function zr(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"}var sa={calendar:B,longDateFormat:G,invalidDate:Ce,ordinal:We,dayOfMonthOrdinalParse:Le,relativeTime:Fe,months:nr,monthsShort:Vt,week:gr,weekdays:wr,weekdaysMin:kr,weekdaysShort:Kt,meridiemParse:$r},ce={},Bs={},Vs;function Br(e,t){var a,r=Math.min(e.length,t.length);for(a=0;a<r;a+=1)if(e[a]!==t[a])return a;return r}function ta(e){return e&&e.toLowerCase().replace("_","-")}function Vr(e){for(var t=0,a,r,n,i;t<e.length;){for(i=ta(e[t]).split("-"),a=i.length,r=ta(e[t+1]),r=r?r.split("-"):null;a>0;){if(n=tt(i.slice(0,a).join("-")),n)return n;if(r&&r.length>=a&&Br(i,r)>=a-1)break;a--}t++}return Vs}function Gr(e){return!!(e&&e.match("^[^/\\\\]*$"))}function tt(e){var t=null,a;if(ce[e]===void 0&&c&&c.exports&&Gr(e))try{t=Vs._abbr,a=ko,a("./locale/"+e),ys(t)}catch{ce[e]=null}return ce[e]}function ys(e,t){var a;return e&&(u(t)?a=ds(e):a=vt(e,t),a?Vs=a:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Vs._abbr}function vt(e,t){if(t!==null){var a,r=sa;if(t.abbr=e,ce[e]!=null)z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ce[e]._config;else if(t.parentLocale!=null)if(ce[t.parentLocale]!=null)r=ce[t.parentLocale]._config;else if(a=tt(t.parentLocale),a!=null)r=a._config;else return Bs[t.parentLocale]||(Bs[t.parentLocale]=[]),Bs[t.parentLocale].push({name:e,config:t}),null;return ce[e]=new te(ne(r,t)),Bs[e]&&Bs[e].forEach(function(n){vt(n.name,n.config)}),ys(e),ce[e]}else return delete ce[e],null}function qr(e,t){if(t!=null){var a,r,n=sa;ce[e]!=null&&ce[e].parentLocale!=null?ce[e].set(ne(ce[e]._config,t)):(r=tt(e),r!=null&&(n=r._config),t=ne(n,t),r==null&&(t.abbr=e),a=new te(t),a.parentLocale=ce[e],ce[e]=a),ys(e)}else ce[e]!=null&&(ce[e].parentLocale!=null?(ce[e]=ce[e].parentLocale,e===ys()&&ys(e)):ce[e]!=null&&delete ce[e]);return ce[e]}function ds(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Vs;if(!_(e)){if(t=tt(e),t)return t;e=[e]}return Vr(e)}function Zr(){return W(ce)}function Nt(e){var t,a=e._a;return a&&l(e).overflow===-2&&(t=a[ls]<0||a[ls]>11?ls:a[es]<1||a[es]>yt(a[Se],a[ls])?es:a[ge]<0||a[ge]>24||a[ge]===24&&(a[qe]!==0||a[os]!==0||a[Ss]!==0)?ge:a[qe]<0||a[qe]>59?qe:a[os]<0||a[os]>59?os:a[Ss]<0||a[Ss]>999?Ss:-1,l(e)._overflowDayOfYear&&(t<Se||t>es)&&(t=es),l(e)._overflowWeeks&&t===-1&&(t=Xa),l(e)._overflowWeekday&&t===-1&&(t=er),l(e).overflow=t),e}var Jr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kr=/Z|[+-]\d\d(?::?\d\d)?/,at=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xr=/^\/?Date\((-?\d+)/i,en=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,sn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function aa(e){var t,a,r=e._i,n=Jr.exec(r)||Qr.exec(r),i,h,C,L,q=at.length,De=wt.length;if(n){for(l(e).iso=!0,t=0,a=q;t<a;t++)if(at[t][1].exec(n[1])){h=at[t][0],i=at[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(n[3]){for(t=0,a=De;t<a;t++)if(wt[t][1].exec(n[3])){C=(n[2]||" ")+wt[t][0];break}if(C==null){e._isValid=!1;return}}if(!i&&C!=null){e._isValid=!1;return}if(n[4])if(Kr.exec(n[4]))L="Z";else{e._isValid=!1;return}e._f=h+(C||"")+(L||""),St(e)}else e._isValid=!1}function tn(e,t,a,r,n,i){var h=[an(e),Vt.indexOf(t),parseInt(a,10),parseInt(r,10),parseInt(n,10)];return i&&h.push(parseInt(i,10)),h}function an(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function rn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function nn(e,t,a){if(e){var r=Kt.indexOf(e),n=new Date(t[0],t[1],t[2]).getDay();if(r!==n)return l(a).weekdayMismatch=!0,a._isValid=!1,!1}return!0}function ln(e,t,a){if(e)return sn[e];if(t)return 0;var r=parseInt(a,10),n=r%100,i=(r-n)/100;return i*60+n}function ra(e){var t=en.exec(rn(e._i)),a;if(t){if(a=tn(t[4],t[3],t[2],t[5],t[6],t[7]),!nn(t[1],a,e))return;e._a=a,e._tzm=ln(t[8],t[9],t[10]),e._d=Us.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),l(e).rfc2822=!0}else e._isValid=!1}function on(e){var t=Xr.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(aa(e),e._isValid===!1)delete e._isValid;else return;if(ra(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:d.createFromInputFallback(e)}d.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Fs(e,t,a){return e??t??a}function cn(e){var t=new Date(d.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function kt(e){var t,a,r=[],n,i,h;if(!e._d){for(n=cn(e),e._w&&e._a[es]==null&&e._a[ls]==null&&dn(e),e._dayOfYear!=null&&(h=Fs(e._a[Se],n[Se]),(e._dayOfYear>Hs(h)||e._dayOfYear===0)&&(l(e)._overflowDayOfYear=!0),a=Us(h,0,e._dayOfYear),e._a[ls]=a.getUTCMonth(),e._a[es]=a.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=n[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ge]===24&&e._a[qe]===0&&e._a[os]===0&&e._a[Ss]===0&&(e._nextDay=!0,e._a[ge]=0),e._d=(e._useUTC?Us:fr).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ge]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(l(e).weekdayMismatch=!0)}}function dn(e){var t,a,r,n,i,h,C,L,q;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,h=4,a=Fs(t.GG,e._a[Se],zs(oe(),1,4).year),r=Fs(t.W,1),n=Fs(t.E,1),(n<1||n>7)&&(L=!0)):(i=e._locale._week.dow,h=e._locale._week.doy,q=zs(oe(),i,h),a=Fs(t.gg,e._a[Se],q.year),r=Fs(t.w,q.week),t.d!=null?(n=t.d,(n<0||n>6)&&(L=!0)):t.e!=null?(n=t.e+i,(t.e<0||t.e>6)&&(L=!0)):n=i),r<1||r>cs(a,i,h)?l(e)._overflowWeeks=!0:L!=null?l(e)._overflowWeekday=!0:(C=Qt(a,r,n,i,h),e._a[Se]=C.year,e._dayOfYear=C.dayOfYear)}d.ISO_8601=function(){},d.RFC_2822=function(){};function St(e){if(e._f===d.ISO_8601){aa(e);return}if(e._f===d.RFC_2822){ra(e);return}e._a=[],l(e).empty=!0;var t=""+e._i,a,r,n,i,h,C=t.length,L=0,q,De;for(n=he(e._f,e._locale).match(fe)||[],De=n.length,a=0;a<De;a++)i=n[a],r=(t.match(ke(i,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&l(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),L+=r.length),je[i]?(r?l(e).empty=!1:l(e).unusedTokens.push(i),Ka(i,r,e)):e._strict&&!r&&l(e).unusedTokens.push(i);l(e).charsLeftOver=C-L,t.length>0&&l(e).unusedInput.push(t),e._a[ge]<=12&&l(e).bigHour===!0&&e._a[ge]>0&&(l(e).bigHour=void 0),l(e).parsedDateParts=e._a.slice(0),l(e).meridiem=e._meridiem,e._a[ge]=un(e._locale,e._a[ge],e._meridiem),q=l(e).era,q!==null&&(e._a[Se]=e._locale.erasConvertYear(q,e._a[Se])),kt(e),Nt(e)}function un(e,t,a){var r;return a==null?t:e.meridiemHour!=null?e.meridiemHour(t,a):(e.isPM!=null&&(r=e.isPM(a),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function hn(e){var t,a,r,n,i,h,C=!1,L=e._f.length;if(L===0){l(e).invalidFormat=!0,e._d=new Date(NaN);return}for(n=0;n<L;n++)i=0,h=!1,t=E({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[n],St(t),p(t)&&(h=!0),i+=l(t).charsLeftOver,i+=l(t).unusedTokens.length*10,l(t).score=i,C?i<r&&(r=i,a=t):(r==null||i<r||h)&&(r=i,a=t,h&&(C=!0));O(e,a||t)}function mn(e){if(!e._d){var t=ve(e._i),a=t.day===void 0?t.date:t.day;e._a=k([t.year,t.month,a,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),kt(e)}}function xn(e){var t=new $(Nt(na(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function na(e){var t=e._i,a=e._f;return e._locale=e._locale||ds(e._l),t===null||a===void 0&&t===""?D({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),H(t)?new $(Nt(t)):(S(t)?e._d=t:_(a)?hn(e):a?St(e):fn(e),p(e)||(e._d=null),e))}function fn(e){var t=e._i;u(t)?e._d=new Date(d.now()):S(t)?e._d=new Date(t.valueOf()):typeof t=="string"?on(e):_(t)?(e._a=k(t.slice(0),function(a){return parseInt(a,10)}),kt(e)):b(t)?mn(e):T(t)?e._d=new Date(t):d.createFromInputFallback(e)}function ia(e,t,a,r,n){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(a===!0||a===!1)&&(r=a,a=void 0),(b(e)&&M(e)||_(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=n,i._l=a,i._i=e,i._f=t,i._strict=r,xn(i)}function oe(e,t,a,r){return ia(e,t,a,r,!1)}var pn=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=oe.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:D()}),gn=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=oe.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:D()});function la(e,t){var a,r;if(t.length===1&&_(t[0])&&(t=t[0]),!t.length)return oe();for(a=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](a))&&(a=t[r]);return a}function yn(){var e=[].slice.call(arguments,0);return la("isBefore",e)}function _n(){var e=[].slice.call(arguments,0);return la("isAfter",e)}var bn=function(){return Date.now?Date.now():+new Date},Gs=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jn(e){var t,a=!1,r,n=Gs.length;for(t in e)if(y(e,t)&&!(xe.call(Gs,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<n;++r)if(e[Gs[r]]){if(a)return!1;parseFloat(e[Gs[r]])!==V(e[Gs[r]])&&(a=!0)}return!0}function vn(){return this._isValid}function Nn(){return Ze(NaN)}function rt(e){var t=ve(e),a=t.year||0,r=t.quarter||0,n=t.month||0,i=t.week||t.isoWeek||0,h=t.day||0,C=t.hour||0,L=t.minute||0,q=t.second||0,De=t.millisecond||0;this._isValid=jn(t),this._milliseconds=+De+q*1e3+L*6e4+C*1e3*60*60,this._days=+h+i*7,this._months=+n+r*3+a*12,this._data={},this._locale=ds(),this._bubble()}function nt(e){return e instanceof rt}function Mt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function wn(e,t,a){var r=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),i=0,h;for(h=0;h<r;h++)(a&&e[h]!==t[h]||!a&&V(e[h])!==V(t[h]))&&i++;return i+n}function oa(e,t){Y(e,0,0,function(){var a=this.utcOffset(),r="+";return a<0&&(a=-a,r="-"),r+se(~~(a/60),2)+t+se(~~a%60,2)})}oa("Z",":"),oa("ZZ",""),v("Z",ws),v("ZZ",ws),re(["Z","ZZ"],function(e,t,a){a._useUTC=!0,a._tzm=Dt(ws,e)});var kn=/([\+\-]|\d\d)/gi;function Dt(e,t){var a=(t||"").match(e),r,n,i;return a===null?null:(r=a[a.length-1]||[],n=(r+"").match(kn)||["-",0,0],i=+(n[1]*60)+V(n[2]),i===0?0:n[0]==="+"?i:-i)}function Ot(e,t){var a,r;return t._isUTC?(a=t.clone(),r=(H(e)||S(e)?e.valueOf():oe(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+r),d.updateOffset(a,!1),a):oe(e).local()}function Yt(e){return-Math.round(e._d.getTimezoneOffset())}d.updateOffset=function(){};function Sn(e,t,a){var r=this._offset||0,n;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Dt(ws,e),e===null)return this}else Math.abs(e)<16&&!a&&(e=e*60);return!this._isUTC&&t&&(n=Yt(this)),this._offset=e,this._isUTC=!0,n!=null&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?ha(this,Ze(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Yt(this)}function Mn(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Dn(e){return this.utcOffset(0,e)}function On(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Yt(this),"m")),this}function Yn(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Dt(Ks,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Cn(e){return this.isValid()?(e=e?oe(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Fn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Tn(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e={},t;return E(e,this),e=na(e),e._a?(t=e._isUTC?w(e._a):oe(e._a),this._isDSTShifted=this.isValid()&&wn(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Pn(){return this.isValid()?!this._isUTC:!1}function Rn(){return this.isValid()?this._isUTC:!1}function ca(){return this.isValid()?this._isUTC&&this._offset===0:!1}var En=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,An=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ze(e,t){var a=e,r=null,n,i,h;return nt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:T(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(r=En.exec(e))?(n=r[1]==="-"?-1:1,a={y:0,d:V(r[es])*n,h:V(r[ge])*n,m:V(r[qe])*n,s:V(r[os])*n,ms:V(Mt(r[Ss]*1e3))*n}):(r=An.exec(e))?(n=r[1]==="-"?-1:1,a={y:Ms(r[2],n),M:Ms(r[3],n),w:Ms(r[4],n),d:Ms(r[5],n),h:Ms(r[6],n),m:Ms(r[7],n),s:Ms(r[8],n)}):a==null?a={}:typeof a=="object"&&("from"in a||"to"in a)&&(h=In(oe(a.from),oe(a.to)),a={},a.ms=h.milliseconds,a.M=h.months),i=new rt(a),nt(e)&&y(e,"_locale")&&(i._locale=e._locale),nt(e)&&y(e,"_isValid")&&(i._isValid=e._isValid),i}Ze.fn=rt.prototype,Ze.invalid=Nn;function Ms(e,t){var a=e&&parseFloat(e.replace(",","."));return(isNaN(a)?0:a)*t}function da(e,t){var a={};return a.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+e.clone().add(a.months,"M"),a}function In(e,t){var a;return e.isValid()&&t.isValid()?(t=Ot(t,e),e.isBefore(t)?a=da(e,t):(a=da(t,e),a.milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function ua(e,t){return function(a,r){var n,i;return r!==null&&!isNaN(+r)&&(z(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=a,a=r,r=i),n=Ze(a,r),ha(this,n,e),this}}function ha(e,t,a,r){var n=t._milliseconds,i=Mt(t._days),h=Mt(t._months);e.isValid()&&(r=r??!0,h&&qt(e,$s(e,"Month")+h*a),i&&Bt(e,"Date",$s(e,"Date")+i*a),n&&e._d.setTime(e._d.valueOf()+n*a),r&&d.updateOffset(e,i||h))}var Wn=ua(1,"add"),Ln=ua(-1,"subtract");function ma(e){return typeof e=="string"||e instanceof String}function Hn(e){return H(e)||S(e)||ma(e)||T(e)||Un(e)||$n(e)||e===null||e===void 0}function $n(e){var t=b(e)&&!M(e),a=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],n,i,h=r.length;for(n=0;n<h;n+=1)i=r[n],a=a||y(e,i);return t&&a}function Un(e){var t=_(e),a=!1;return t&&(a=e.filter(function(r){return!T(r)&&ma(e)}).length===0),t&&a}function zn(e){var t=b(e)&&!M(e),a=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n,i;for(n=0;n<r.length;n+=1)i=r[n],a=a||y(e,i);return t&&a}function Bn(e,t){var a=e.diff(t,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"}function Vn(e,t){arguments.length===1&&(arguments[0]?Hn(arguments[0])?(e=arguments[0],t=void 0):zn(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var a=e||oe(),r=Ot(a,this).startOf("day"),n=d.calendarFormat(this,r)||"sameElse",i=t&&(R(t[n])?t[n].call(this,a):t[n]);return this.format(i||this.localeData().calendar(n,this,oe(a)))}function Gn(){return new $(this)}function qn(e,t){var a=H(e)?e:oe(e);return this.isValid()&&a.isValid()?(t=me(t)||"millisecond",t==="millisecond"?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(t).valueOf()):!1}function Zn(e,t){var a=H(e)?e:oe(e);return this.isValid()&&a.isValid()?(t=me(t)||"millisecond",t==="millisecond"?this.valueOf()<a.valueOf():this.clone().endOf(t).valueOf()<a.valueOf()):!1}function Jn(e,t,a,r){var n=H(e)?e:oe(e),i=H(t)?t:oe(t);return this.isValid()&&n.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(n,a):!this.isBefore(n,a))&&(r[1]===")"?this.isBefore(i,a):!this.isAfter(i,a))):!1}function Qn(e,t){var a=H(e)?e:oe(e),r;return this.isValid()&&a.isValid()?(t=me(t)||"millisecond",t==="millisecond"?this.valueOf()===a.valueOf():(r=a.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Kn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ei(e,t,a){var r,n,i;if(!this.isValid())return NaN;if(r=Ot(e,this),!r.isValid())return NaN;switch(n=(r.utcOffset()-this.utcOffset())*6e4,t=me(t),t){case"year":i=it(this,r)/12;break;case"month":i=it(this,r);break;case"quarter":i=it(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-n)/864e5;break;case"week":i=(this-r-n)/6048e5;break;default:i=this-r}return a?i:ze(i)}function it(e,t){if(e.date()<t.date())return-it(t,e);var a=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(a,"months"),n,i;return t-r<0?(n=e.clone().add(a-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(a+1,"months"),i=(t-r)/(n-r)),-(a+i)||0}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function si(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ti(e){if(!this.isValid())return null;var t=e!==!0,a=t?this.clone().utc():this;return a.year()<0||a.year()>9999?Me(a,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):R(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Me(a,"Z")):Me(a,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ai(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",a,r,n,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),a="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(a+r+n+i)}function ri(e){e||(e=this.isUtc()?d.defaultFormatUtc:d.defaultFormat);var t=Me(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(H(e)&&e.isValid()||oe(e).isValid())?Ze({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.from(oe(),e)}function li(e,t){return this.isValid()&&(H(e)&&e.isValid()||oe(e).isValid())?Ze({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(oe(),e)}function xa(e){var t;return e===void 0?this._locale._abbr:(t=ds(e),t!=null&&(this._locale=t),this)}var fa=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function pa(){return this._locale}var lt=1e3,Ts=60*lt,ot=60*Ts,ga=(365*400+97)*24*ot;function Ps(e,t){return(e%t+t)%t}function ya(e,t,a){return e<100&&e>=0?new Date(e+400,t,a)-ga:new Date(e,t,a).valueOf()}function _a(e,t,a){return e<100&&e>=0?Date.UTC(e+400,t,a)-ga:Date.UTC(e,t,a)}function ci(e){var t,a;if(e=me(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(a=this._isUTC?_a:ya,e){case"year":t=a(this.year(),0,1);break;case"quarter":t=a(this.year(),this.month()-this.month()%3,1);break;case"month":t=a(this.year(),this.month(),1);break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=a(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ps(t+(this._isUTC?0:this.utcOffset()*Ts),ot);break;case"minute":t=this._d.valueOf(),t-=Ps(t,Ts);break;case"second":t=this._d.valueOf(),t-=Ps(t,lt);break}return this._d.setTime(t),d.updateOffset(this,!0),this}function di(e){var t,a;if(e=me(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(a=this._isUTC?_a:ya,e){case"year":t=a(this.year()+1,0,1)-1;break;case"quarter":t=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=a(this.year(),this.month()+1,1)-1;break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ot-Ps(t+(this._isUTC?0:this.utcOffset()*Ts),ot)-1;break;case"minute":t=this._d.valueOf(),t+=Ts-Ps(t,Ts)-1;break;case"second":t=this._d.valueOf(),t+=lt-Ps(t,lt)-1;break}return this._d.setTime(t),d.updateOffset(this,!0),this}function ui(){return this._d.valueOf()-(this._offset||0)*6e4}function hi(){return Math.floor(this.valueOf()/1e3)}function mi(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function fi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function pi(){return this.isValid()?this.toISOString():null}function gi(){return p(this)}function yi(){return O({},l(this))}function _i(){return l(this).overflow}function bi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y("N",0,0,"eraAbbr"),Y("NN",0,0,"eraAbbr"),Y("NNN",0,0,"eraAbbr"),Y("NNNN",0,0,"eraName"),Y("NNNNN",0,0,"eraNarrow"),Y("y",["y",1],"yo","eraYear"),Y("y",["yy",2],0,"eraYear"),Y("y",["yyy",3],0,"eraYear"),Y("y",["yyyy",4],0,"eraYear"),v("N",Ct),v("NN",Ct),v("NNN",Ct),v("NNNN",Ci),v("NNNNN",Fi),re(["N","NN","NNN","NNNN","NNNNN"],function(e,t,a,r){var n=a._locale.erasParse(e,r,a._strict);n?l(a).era=n:l(a).invalidEra=e}),v("y",Ue),v("yy",Ue),v("yyy",Ue),v("yyyy",Ue),v("yo",Ti),re(["y","yy","yyy","yyyy"],Se),re(["yo"],function(e,t,a,r){var n;a._locale._eraYearOrdinalRegex&&(n=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?t[Se]=a._locale.eraYearOrdinalParse(e,n):t[Se]=parseInt(e,10)});function ji(e,t){var a,r,n,i=this._eras||ds("en")._eras;for(a=0,r=i.length;a<r;++a){switch(typeof i[a].since){case"string":n=d(i[a].since).startOf("day"),i[a].since=n.valueOf();break}switch(typeof i[a].until){case"undefined":i[a].until=1/0;break;case"string":n=d(i[a].until).startOf("day").valueOf(),i[a].until=n.valueOf();break}}return i}function vi(e,t,a){var r,n,i=this.eras(),h,C,L;for(e=e.toUpperCase(),r=0,n=i.length;r<n;++r)if(h=i[r].name.toUpperCase(),C=i[r].abbr.toUpperCase(),L=i[r].narrow.toUpperCase(),a)switch(t){case"N":case"NN":case"NNN":if(C===e)return i[r];break;case"NNNN":if(h===e)return i[r];break;case"NNNNN":if(L===e)return i[r];break}else if([h,C,L].indexOf(e)>=0)return i[r]}function Ni(e,t){var a=e.since<=e.until?1:-1;return t===void 0?d(e.since).year():d(e.since).year()+(t-e.offset)*a}function wi(){var e,t,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until||r[e].until<=a&&a<=r[e].since)return r[e].name;return""}function ki(){var e,t,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until||r[e].until<=a&&a<=r[e].since)return r[e].narrow;return""}function Si(){var e,t,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until||r[e].until<=a&&a<=r[e].since)return r[e].abbr;return""}function Mi(){var e,t,a,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(a=n[e].since<=n[e].until?1:-1,r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return(this.year()-d(n[e].since).year())*a+n[e].offset;return this.year()}function Di(e){return y(this,"_erasNameRegex")||Ft.call(this),e?this._erasNameRegex:this._erasRegex}function Oi(e){return y(this,"_erasAbbrRegex")||Ft.call(this),e?this._erasAbbrRegex:this._erasRegex}function Yi(e){return y(this,"_erasNarrowRegex")||Ft.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ct(e,t){return t.erasAbbrRegex(e)}function Ci(e,t){return t.erasNameRegex(e)}function Fi(e,t){return t.erasNarrowRegex(e)}function Ti(e,t){return t._eraYearOrdinalRegex||Ue}function Ft(){var e=[],t=[],a=[],r=[],n,i,h,C,L,q=this.eras();for(n=0,i=q.length;n<i;++n)h=is(q[n].name),C=is(q[n].abbr),L=is(q[n].narrow),t.push(h),e.push(C),a.push(L),r.push(h),r.push(C),r.push(L);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ct(e,t){Y(0,[e,e.length],0,t)}ct("gggg","weekYear"),ct("ggggg","weekYear"),ct("GGGG","isoWeekYear"),ct("GGGGG","isoWeekYear"),v("G",Ns),v("g",Ns),v("GG",K,ie),v("gg",K,ie),v("GGGG",rs,$e),v("gggg",rs,$e),v("GGGGG",Xe,Re),v("ggggg",Xe,Re),Ls(["gggg","ggggg","GGGG","GGGGG"],function(e,t,a,r){t[r.substr(0,2)]=V(e)}),Ls(["gg","GG"],function(e,t,a,r){t[r]=d.parseTwoDigitYear(e)});function Pi(e){return ba.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Ri(e){return ba.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ei(){return cs(this.year(),1,4)}function Ai(){return cs(this.isoWeekYear(),1,4)}function Ii(){var e=this.localeData()._week;return cs(this.year(),e.dow,e.doy)}function Wi(){var e=this.localeData()._week;return cs(this.weekYear(),e.dow,e.doy)}function ba(e,t,a,r,n){var i;return e==null?zs(this,r,n).year:(i=cs(e,r,n),t>i&&(t=i),Li.call(this,e,t,a,r,n))}function Li(e,t,a,r,n){var i=Qt(e,t,a,r,n),h=Us(i.year,0,i.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}Y("Q",0,"Qo","quarter"),v("Q",ae),re("Q",function(e,t){t[ls]=(V(e)-1)*3});function Hi(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Y("D",["DD",2],"Do","date"),v("D",K,ns),v("DD",K,ie),v("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),re(["D","DD"],es),re("Do",function(e,t){t[es]=V(e.match(K)[0])});var ja=Cs("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),v("DDD",Ke),v("DDDD",as),re(["DDD","DDDD"],function(e,t,a){a._dayOfYear=V(e)});function $i(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Y("m",["mm",2],0,"minute"),v("m",K,Ys),v("mm",K,ie),re(["m","mm"],qe);var Ui=Cs("Minutes",!1);Y("s",["ss",2],0,"second"),v("s",K,Ys),v("ss",K,ie),re(["s","ss"],os);var zi=Cs("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return this.millisecond()*10}),Y(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),v("S",Ke,ae),v("SS",Ke,ie),v("SSS",Ke,as);var _s,va;for(_s="SSSS";_s.length<=9;_s+="S")v(_s,Ue);function Bi(e,t){t[Ss]=V(("0."+e)*1e3)}for(_s="S";_s.length<=9;_s+="S")re(_s,Bi);va=Cs("Milliseconds",!1),Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");function Vi(){return this._isUTC?"UTC":""}function Gi(){return this._isUTC?"Coordinated Universal Time":""}var N=$.prototype;N.add=Wn,N.calendar=Vn,N.clone=Gn,N.diff=ei,N.endOf=di,N.format=ri,N.from=ni,N.fromNow=ii,N.to=li,N.toNow=oi,N.get=tr,N.invalidAt=_i,N.isAfter=qn,N.isBefore=Zn,N.isBetween=Jn,N.isSame=Qn,N.isSameOrAfter=Kn,N.isSameOrBefore=Xn,N.isValid=gi,N.lang=fa,N.locale=xa,N.localeData=pa,N.max=gn,N.min=pn,N.parsingFlags=yi,N.set=ar,N.startOf=ci,N.subtract=Ln,N.toArray=xi,N.toObject=fi,N.toDate=mi,N.toISOString=ti,N.inspect=ai,typeof Symbol<"u"&&Symbol.for!=null&&(N[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),N.toJSON=pi,N.toString=si,N.unix=hi,N.valueOf=ui,N.creationData=bi,N.eraName=wi,N.eraNarrow=ki,N.eraAbbr=Si,N.eraYear=Mi,N.year=zt,N.isLeapYear=sr,N.weekYear=Pi,N.isoWeekYear=Ri,N.quarter=N.quarters=Hi,N.month=Zt,N.daysInMonth=hr,N.week=N.weeks=br,N.isoWeek=N.isoWeeks=jr,N.weeksInYear=Ii,N.weeksInWeekYear=Wi,N.isoWeeksInYear=Ei,N.isoWeeksInISOWeekYear=Ai,N.date=ja,N.day=N.days=Pr,N.weekday=Rr,N.isoWeekday=Er,N.dayOfYear=$i,N.hour=N.hours=Ur,N.minute=N.minutes=Ui,N.second=N.seconds=zi,N.millisecond=N.milliseconds=va,N.utcOffset=Sn,N.utc=Dn,N.local=On,N.parseZone=Yn,N.hasAlignedHourOffset=Cn,N.isDST=Fn,N.isLocal=Pn,N.isUtcOffset=Rn,N.isUtc=ca,N.isUTC=ca,N.zoneAbbr=Vi,N.zoneName=Gi,N.dates=j("dates accessor is deprecated. Use date instead.",ja),N.months=j("months accessor is deprecated. Use month instead",Zt),N.years=j("years accessor is deprecated. Use year instead",zt),N.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Mn),N.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Tn);function qi(e){return oe(e*1e3)}function Zi(){return oe.apply(null,arguments).parseZone()}function Na(e){return e}var J=te.prototype;J.calendar=ee,J.longDateFormat=we,J.invalidDate=Ie,J.ordinal=He,J.preparse=Na,J.postformat=Na,J.relativeTime=Te,J.pastFuture=Pe,J.set=I,J.eras=ji,J.erasParse=vi,J.erasConvertYear=Ni,J.erasAbbrRegex=Oi,J.erasNameRegex=Di,J.erasNarrowRegex=Yi,J.months=or,J.monthsShort=cr,J.monthsParse=ur,J.monthsRegex=xr,J.monthsShortRegex=mr,J.week=pr,J.firstDayOfYear=_r,J.firstDayOfWeek=yr,J.weekdays=Or,J.weekdaysMin=Cr,J.weekdaysShort=Yr,J.weekdaysParse=Tr,J.weekdaysRegex=Ar,J.weekdaysShortRegex=Ir,J.weekdaysMinRegex=Wr,J.isPM=Hr,J.meridiem=zr;function dt(e,t,a,r){var n=ds(),i=w().set(r,t);return n[a](i,e)}function wa(e,t,a){if(T(e)&&(t=e,e=void 0),e=e||"",t!=null)return dt(e,t,a,"month");var r,n=[];for(r=0;r<12;r++)n[r]=dt(e,r,a,"month");return n}function Tt(e,t,a,r){typeof e=="boolean"?(T(t)&&(a=t,t=void 0),t=t||""):(t=e,a=t,e=!1,T(t)&&(a=t,t=void 0),t=t||"");var n=ds(),i=e?n._week.dow:0,h,C=[];if(a!=null)return dt(t,(a+i)%7,r,"day");for(h=0;h<7;h++)C[h]=dt(t,(h+i)%7,r,"day");return C}function Ji(e,t){return wa(e,t,"months")}function Qi(e,t){return wa(e,t,"monthsShort")}function Ki(e,t,a){return Tt(e,t,a,"weekdays")}function Xi(e,t,a){return Tt(e,t,a,"weekdaysShort")}function el(e,t,a){return Tt(e,t,a,"weekdaysMin")}ys("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,a=V(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+a}}),d.lang=j("moment.lang is deprecated. Use moment.locale instead.",ys),d.langData=j("moment.langData is deprecated. Use moment.localeData instead.",ds);var us=Math.abs;function sl(){var e=this._data;return this._milliseconds=us(this._milliseconds),this._days=us(this._days),this._months=us(this._months),e.milliseconds=us(e.milliseconds),e.seconds=us(e.seconds),e.minutes=us(e.minutes),e.hours=us(e.hours),e.months=us(e.months),e.years=us(e.years),this}function ka(e,t,a,r){var n=Ze(t,a);return e._milliseconds+=r*n._milliseconds,e._days+=r*n._days,e._months+=r*n._months,e._bubble()}function tl(e,t){return ka(this,e,t,1)}function al(e,t){return ka(this,e,t,-1)}function Sa(e){return e<0?Math.floor(e):Math.ceil(e)}function rl(){var e=this._milliseconds,t=this._days,a=this._months,r=this._data,n,i,h,C,L;return e>=0&&t>=0&&a>=0||e<=0&&t<=0&&a<=0||(e+=Sa(Pt(a)+t)*864e5,t=0,a=0),r.milliseconds=e%1e3,n=ze(e/1e3),r.seconds=n%60,i=ze(n/60),r.minutes=i%60,h=ze(i/60),r.hours=h%24,t+=ze(h/24),L=ze(Ma(t)),a+=L,t-=Sa(Pt(L)),C=ze(a/12),a%=12,r.days=t,r.months=a,r.years=C,this}function Ma(e){return e*4800/146097}function Pt(e){return e*146097/4800}function nl(e){if(!this.isValid())return NaN;var t,a,r=this._milliseconds;if(e=me(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,a=this._months+Ma(t),e){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(t=this._days+Math.round(Pt(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function hs(e){return function(){return this.as(e)}}var Da=hs("ms"),il=hs("s"),ll=hs("m"),ol=hs("h"),cl=hs("d"),dl=hs("w"),ul=hs("M"),hl=hs("Q"),ml=hs("y"),xl=Da;function fl(){return Ze(this)}function pl(e){return e=me(e),this.isValid()?this[e+"s"]():NaN}function Ds(e){return function(){return this.isValid()?this._data[e]:NaN}}var gl=Ds("milliseconds"),yl=Ds("seconds"),_l=Ds("minutes"),bl=Ds("hours"),jl=Ds("days"),vl=Ds("months"),Nl=Ds("years");function wl(){return ze(this.days()/7)}var ms=Math.round,Rs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kl(e,t,a,r,n){return n.relativeTime(t||1,!!a,e,r)}function Sl(e,t,a,r){var n=Ze(e).abs(),i=ms(n.as("s")),h=ms(n.as("m")),C=ms(n.as("h")),L=ms(n.as("d")),q=ms(n.as("M")),De=ms(n.as("w")),xs=ms(n.as("y")),bs=i<=a.ss&&["s",i]||i<a.s&&["ss",i]||h<=1&&["m"]||h<a.m&&["mm",h]||C<=1&&["h"]||C<a.h&&["hh",C]||L<=1&&["d"]||L<a.d&&["dd",L];return a.w!=null&&(bs=bs||De<=1&&["w"]||De<a.w&&["ww",De]),bs=bs||q<=1&&["M"]||q<a.M&&["MM",q]||xs<=1&&["y"]||["yy",xs],bs[2]=t,bs[3]=+e>0,bs[4]=r,kl.apply(null,bs)}function Ml(e){return e===void 0?ms:typeof e=="function"?(ms=e,!0):!1}function Dl(e,t){return Rs[e]===void 0?!1:t===void 0?Rs[e]:(Rs[e]=t,e==="s"&&(Rs.ss=t-1),!0)}function Ol(e,t){if(!this.isValid())return this.localeData().invalidDate();var a=!1,r=Rs,n,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(a=e),typeof t=="object"&&(r=Object.assign({},Rs,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),n=this.localeData(),i=Sl(this,!a,r,n),a&&(i=n.pastFuture(+this,i)),n.postformat(i)}var Rt=Math.abs;function Es(e){return(e>0)-(e<0)||+e}function ut(){if(!this.isValid())return this.localeData().invalidDate();var e=Rt(this._milliseconds)/1e3,t=Rt(this._days),a=Rt(this._months),r,n,i,h,C=this.asSeconds(),L,q,De,xs;return C?(r=ze(e/60),n=ze(r/60),e%=60,r%=60,i=ze(a/12),a%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",L=C<0?"-":"",q=Es(this._months)!==Es(C)?"-":"",De=Es(this._days)!==Es(C)?"-":"",xs=Es(this._milliseconds)!==Es(C)?"-":"",L+"P"+(i?q+i+"Y":"")+(a?q+a+"M":"")+(t?De+t+"D":"")+(n||r||e?"T":"")+(n?xs+n+"H":"")+(r?xs+r+"M":"")+(e?xs+h+"S":"")):"P0D"}var Z=rt.prototype;Z.isValid=vn,Z.abs=sl,Z.add=tl,Z.subtract=al,Z.as=nl,Z.asMilliseconds=Da,Z.asSeconds=il,Z.asMinutes=ll,Z.asHours=ol,Z.asDays=cl,Z.asWeeks=dl,Z.asMonths=ul,Z.asQuarters=hl,Z.asYears=ml,Z.valueOf=xl,Z._bubble=rl,Z.clone=fl,Z.get=pl,Z.milliseconds=gl,Z.seconds=yl,Z.minutes=_l,Z.hours=bl,Z.days=jl,Z.weeks=wl,Z.months=vl,Z.years=Nl,Z.humanize=Ol,Z.toISOString=ut,Z.toString=ut,Z.toJSON=ut,Z.locale=xa,Z.localeData=pa,Z.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ut),Z.lang=fa,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),v("x",Ns),v("X",Xs),re("X",function(e,t,a){a._d=new Date(parseFloat(e)*1e3)}),re("x",function(e,t,a){a._d=new Date(V(e))});//! moment.js
return d.version="2.30.1",m(oe),d.fn=N,d.min=yn,d.max=_n,d.now=bn,d.utc=w,d.unix=qi,d.months=Ji,d.isDate=S,d.locale=ys,d.invalid=D,d.duration=Ze,d.isMoment=H,d.weekdays=Ki,d.parseZone=Zi,d.localeData=ds,d.isDuration=nt,d.monthsShort=Qi,d.weekdaysMin=el,d.defineLocale=vt,d.updateLocale=qr,d.locales=Zr,d.weekdaysShort=Xi,d.normalizeUnits=me,d.relativeTimeRounding=Ml,d.relativeTimeThreshold=Dl,d.calendarFormat=Bn,d.prototype=N,d.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},d})})(Za);var uc=Za.exports;const ht=Tl(uc),hc=()=>{var k,O,w,g,l,x,p,D,F,P,E,$,H,A,j,U,z,R,I,ne,te,W,B,ee,se,fe,de,ue,je,Y,Ye,Ae,Me,he,G,we,Ce,Ie,We,Le,He,Fe,Te,Pe,Ge,me;const{system_config:c}=pe.useState(),{active:o,data:f}=be.useState(ve=>ve.modal),d=So(Pa),{user_data:m}=Ve.useState(),{axiosInstance:_}=Is(),{tracking_id:b,flight_key:y,result_type:M}=f,{data:u,isLoading:T}=Qs({queryKey:["SELECTED_FLIGHT",b,y,o],enabled:o==="select_flight",queryFn:async()=>{var Qe,ts,ae,ie;const ve=await _.post("/flight/validate",{member_id:m==null?void 0:m.member_id,tracking_id:b,flight_key:y,result_type:M});return ve.data.status==="success"?ve.data:(Ne(),((ts=(Qe=ve.data)==null?void 0:Qe.next_available_flight)==null?void 0:ts.status)==="yes"?((await d.fire({icon:"info",html:s.jsx("div",{children:s.jsx("p",{children:(ae=ve.data)==null?void 0:ae.reason})}),showCloseButton:!0,confirmButtonText:"See Alternative Flights",customClass:{closeButton:"text-red-500",confirmButton:"!bg-primary hover:!bg-primary-focus"}})).isConfirmed&&be.update($e=>{var Re;$e.modal.active="alternative_flight",$e.modal.alternative_data=(Re=ve.data)==null?void 0:Re.next_available_flight}),null):(Zs("error","Failed",((ie=ve.data)==null?void 0:ie.reason)||"Price validation failed"),null))},cacheTime:0,refetchOnMount:!0}),S=()=>{window.open(`/flight/checkout?tracking_id=${u.booking_tracking_id}`,"_blank"),Ne()};return s.jsx("div",{className:"modal",open:o==="select_flight",children:s.jsxs("div",{className:"max-w-3xl rounded-md modal-box",children:[s.jsx("div",{children:s.jsx("button",{onClick:Ne,className:"absolute btn btn-sm btn-circle btn-ghost right-2 top-2 text-error",children:s.jsx(Je,{})})}),T?s.jsx(Lt,{}):u?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 text-xl border-[1.5px] rounded-full border-neutral/20 overflow-hidden",children:s.jsx("img",{src:`https://gtrs-airlineimages.s3.ap-southeast-1.amazonaws.com/icon/${(k=u.data.flight_group[0])==null?void 0:k.routes[0].operating.carrier_logo}`,alt:(O=u.data.flight_group[0])==null?void 0:O.routes[0].operating.carrier_name,className:"w-full h-full"})}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[s.jsxs("h6",{className:"font-semibold uppercase",children:[(x=(l=(g=(w=u.data)==null?void 0:w.flight_group[0])==null?void 0:g.routes[0])==null?void 0:l.origin_airport)==null?void 0:x.city," ","| ",(F=(D=(p=u.data)==null?void 0:p.flight_group[0])==null?void 0:D.routes[0])==null?void 0:F.origin]}),s.jsx(Xl,{}),s.jsxs("h6",{className:"font-semibold uppercase",children:[(A=(H=($=(E=(P=u.data)==null?void 0:P.flight_group[0])==null?void 0:E.routes)==null?void 0:$.at(-1))==null?void 0:H.destination_airport)==null?void 0:A.city," ","|"," ",(R=(z=(U=(j=u.data)==null?void 0:j.flight_group[0])==null?void 0:U.routes)==null?void 0:z.at(-1))==null?void 0:R.destination]})]}),s.jsxs("div",{className:"grid gap-4 mb-4 sm:grid-cols-3",children:[s.jsxs("ul",{className:"p-3 rounded-md sm:col-span-2 bg-primary/10",children:[s.jsxs("li",{className:"text-warning",children:["Price Change: ",u.price_change]}),s.jsxs("li",{className:"text-lg font-semibold",children:["Price:"," ",X((I=u.validation_price)==null?void 0:I.currency)," ",(te=(ne=u.validation_price)==null?void 0:ne.amount)==null?void 0:te.toFixed(2)]})]}),s.jsxs("ul",{className:"p-3 rounded-md bg-neutral/10",children:[s.jsxs("li",{children:[s.jsx(Ea,{})," ",(B=(W=u.data)==null?void 0:W.search_parameter)==null?void 0:B.travelers_adult," ","Adult"]}),s.jsxs("li",{children:[s.jsx(It,{})," ",(se=(ee=u.data)==null?void 0:ee.search_parameter)==null?void 0:se.travelers_child," ","Child"]}),s.jsxs("li",{children:[s.jsx(Aa,{})," ",(de=(fe=u.data)==null?void 0:fe.search_parameter)==null?void 0:de.travelers_infants," ","Infant"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 pb-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h6",{className:"text-neutral/80",children:ht((Y=(je=(ue=u.data)==null?void 0:ue.flight_group[0])==null?void 0:je.routes[0])==null?void 0:Y.departure_time).format(c.default_date_format_print)}),s.jsx("h1",{className:"text-4xl font-extrabold",children:(Me=(Ae=(Ye=u.data)==null?void 0:Ye.flight_group[0])==null?void 0:Ae.routes[0])==null?void 0:Me.origin}),s.jsx("h6",{className:"text-neutral/80",children:ht((we=(G=(he=u.data)==null?void 0:he.flight_group[0])==null?void 0:G.routes[0])==null?void 0:we.departure_time).format("H:m:s")})]}),s.jsxs("div",{className:"flex items-center flex-1 gap-1",children:[" ",s.jsx("span",{className:"flex-1 h-1 bg-gradient-to-r from-black/0 to-black"}),s.jsx(eo,{className:"text-3xl"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h6",{className:"text-neutral/80",children:ht((We=(Ie=(Ce=u.data)==null?void 0:Ce.flight_group[0])==null?void 0:Ie.routes[0])==null?void 0:We.arrival_time).format(c.default_date_format_print)}),s.jsx("h1",{className:"text-4xl font-extrabold",children:(Te=(Fe=(He=(Le=u.data)==null?void 0:Le.flight_group[0])==null?void 0:He.routes)==null?void 0:Fe.at(-1))==null?void 0:Te.destination}),s.jsx("h6",{className:"text-neutral/80",children:ht((me=(Ge=(Pe=u.data)==null?void 0:Pe.flight_group[0])==null?void 0:Ge.routes[0])==null?void 0:me.arrival_time).format("H:m:s")})]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:S,className:"px-8 normal-case rounded-md btn btn-primary",children:"Book Now"})})]}):null]})})},mc=()=>{var H;const{active:c,data:o}=be.useState(A=>A.modal),{price_view:f}=pe.useState(),[d,m]=le.useState("package"),[_,b]=le.useState(o),[y,M]=le.useState(null),{user_data:u}=Ve.useState(),{member_id:T}=u||{},{axiosInstance:S}=Is(),{flight_nextSegment:k}=o;le.useEffect(()=>{b(o)},[o]);const{tracking_id:O,flight_key:w,flight_option:g,connected_flight_key:l}=_,{data:x,isLoading:p}=Qs({queryKey:["FLIGHT_PACKAGES",O,w,T,c,l,g],enabled:c==="select_package",queryFn:async()=>{const A=await S.post("/flight/package-option",{member_id:T,tracking_id:O,flight_key:w,connected_flight_key:l,flight_option:g});return A.data.status==="success"?A.data:null},cacheTime:0,refetchOnMount:!0}),[D,F]=le.useState(!1),P=()=>{Ne(),b(o),m("package"),M(null)},E=async A=>{var z,R,I,ne;A.preventDefault();const U=A.target.branded_fare.value;if(!D)try{F(!0);const te={tracking_id:O,flight_key:w,package_code:U,flight_option:g,member_id:T,connected_flight_key:l},W=await S.post("/flight/package-select",te);if(((z=W.data)==null?void 0:z.status)==="success")((I=(R=k==null?void 0:k.find(B=>(B==null?void 0:B.flight_option)===g+1))==null?void 0:R.data)==null?void 0:I.length)>0?(M(k==null?void 0:k.find(B=>(B==null?void 0:B.flight_option)===g+1).data),m("flight")):(P(),_e("select_flight",o));else throw new Error(((ne=W.data)==null?void 0:ne.reason)||"Request failed!")}catch(te){console.error(te),P(),Zs("error","Request failed!",te.message)}finally{F(!1)}},$=A=>{b(A),m("package")};return s.jsxs("div",{className:"modal",open:c==="select_package",children:[d==="package"&&s.jsxs("form",{onSubmit:E,className:"max-w-6xl p-0 rounded-md sm:min-w-[768px] w-fit modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Select Flight Package for option ",g]}),s.jsx("button",{onClick:P,type:"button",className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(Je,{})})]}),s.jsx("div",{className:"p-5 max-h-[60vh] h-full overflow-auto",children:p?s.jsx(Lt,{}):x?s.jsx("div",{className:"flex flex-col justify-center gap-5 sm:flex-row sm:items-start",children:(H=x==null?void 0:x.data)==null?void 0:H.map((A,j)=>{var de,ue;const{currency:U,amount:z,supplier:R,ServiceBundleCode:I}=A||{},{bundle:ne,cabin_baggage:te,checked_baggage:W,seat_selection:B,meal:ee,change_fee:se,cancellation_fee:fe}=(A==null?void 0:A.Sector_Data)||{};return s.jsxs("div",{className:"relative branded-fare-card",children:[s.jsx("input",{autoComplete:"off",type:"radio",name:"branded_fare",id:I,className:"absolute z-10 border-0 rounded-full checkbox checkbox-sm sm:checkbox-lg checkbox-accent right-2 top-3 peer",value:I,defaultChecked:j===1}),s.jsxs("label",{htmlFor:I,className:"block overflow-hidden border-2 rounded-xl peer-checked:shadow-xl peer-checked:shadow-neutral/50",style:{borderColor:`hsl(var(--p)/${(j+4+j)/10})`},children:[s.jsxs("div",{className:"flex h-[50px] items-center justify-center w-full py-2 font-bold text-primary-content relative",style:{backgroundColor:`hsl(var(--p)/${(j+4+j)/10})`},children:[s.jsx("h5",{className:"sm:text-[28px]",children:ne}),j===1&&s.jsxs("div",{className:"absolute text-xs font-normal tracking-wider text-white -translate-x-1/2 -translate-y-1/2 bg-orange-400 border-orange-500 rounded-full top-full badge badge-sm left-1/2",children:[" ","Recommended"," "]})]}),s.jsxs("ul",{className:"w-full px-3 py-4 rounded-none join join-vertical",children:[s.jsxs("li",{className:"flex items-center justify-between gap-12 py-1 text-sm sm:h-12 sm:py-2",children:[s.jsxs("div",{className:"flex items-center gap-3 font-medium",children:[s.jsx("span",{className:"inline-flex items-center w-4 h-4",style:{color:`hsl(var(--p)/${(j+4+j)/10})`},children:s.jsx(Ta,{})}),s.jsx("span",{children:"Cabin baggage"})]}),s.jsx("span",{className:"text-xs inner-html",dangerouslySetInnerHTML:{__html:te}})]}),s.jsxs("li",{className:"flex items-center justify-between gap-12 py-1 text-sm sm:h-12 sm:py-2",children:[s.jsxs("div",{className:"flex items-center gap-3 font-medium",children:[s.jsx("span",{className:"inline-flex items-center w-4 h-4",style:{color:`hsl(var(--p)/${(j+4+j)/10})`},children:s.jsx(pt,{})}),s.jsx("span",{children:"Hand Baggage"})]}),s.jsx("span",{className:"text-xs inner-html",dangerouslySetInnerHTML:{__html:W}})]}),s.jsxs("li",{className:"flex items-center justify-between gap-12 py-1 text-sm sm:h-12 sm:py-2",children:[s.jsxs("div",{className:"flex items-center gap-3 font-medium",children:[s.jsx("span",{className:"inline-flex items-center w-4 h-4",style:{color:`hsl(var(--p)/${(j+4+j)/10})`},children:s.jsx(so,{})}),s.jsx("span",{children:"Seat Selection"})]}),s.jsx("span",{className:"text-xs inner-html",dangerouslySetInnerHTML:{__html:B}})]}),s.jsxs("li",{className:"flex items-center justify-between gap-12 py-1 text-sm sm:h-12 sm:py-2",children:[s.jsxs("div",{className:"flex items-center gap-3 font-medium",children:[s.jsx("span",{className:"inline-flex items-center w-4 h-4",style:{color:`hsl(var(--p)/${(j+4+j)/10})`},children:s.jsx(Wt,{})}),s.jsxs("span",{children:["Meal"," "]})]}),s.jsx("span",{className:"text-xs inner-html",dangerouslySetInnerHTML:{__html:ee}})]}),s.jsxs("li",{className:"flex items-center justify-between gap-12 py-1 text-sm sm:h-12 sm:py-2",children:[s.jsxs("div",{className:"flex items-center gap-3 font-medium",children:[s.jsx("span",{className:"inline-flex items-center w-4 h-4",style:{color:`hsl(var(--p)/${(j+4+j)/10})`},children:s.jsx(xt,{})}),s.jsxs("span",{children:["Change booking"," "]})]}),s.jsx("span",{className:"text-xs inner-html",dangerouslySetInnerHTML:{__html:se}})]}),s.jsxs("li",{className:"flex items-center justify-between gap-12 py-1 text-sm sm:h-12 sm:py-2",children:[s.jsxs("div",{className:"flex items-center gap-3 font-medium",children:[s.jsx("span",{className:"inline-flex items-center w-4 h-4",style:{color:`hsl(var(--p)/${(j+4+j)/10})`},children:s.jsx(xt,{})}),s.jsxs("span",{children:["Cancel booking"," "]})]}),s.jsx("span",{className:"text-xs inner-html",dangerouslySetInnerHTML:{__html:fe}})]})]}),s.jsx("div",{className:"flex flex-col items-center justify-center w-full gap-1 px-4 py-2 font-bold border-t-2 border-dashed bottom-sec",style:{borderTopColor:`hsl(var(--p)/${(j+4+j)/10})`,"--my_color":`hsl(var(--p)/${(j+4+j)/10})`},children:s.jsxs("div",{children:[((de=f==null?void 0:f.show_sell_price)==null?void 0:de.toUpperCase())==="YES"&&s.jsxs("h4",{className:"font-bold sm:text-3xl",children:[z,s.jsx("span",{className:"text-sm font-medium",children:X(U)})]}),((ue=f==null?void 0:f.show_fmg_price)==null?void 0:ue.toUpperCase())==="YES"&&s.jsxs("h4",{className:"font-bold sm:text-3xl",children:[R==null?void 0:R.amount,s.jsx("span",{className:"text-sm font-medium",children:X(R==null?void 0:R.currency)})]})]})})]})]},j)})}):s.jsx("div",{className:"flex items-center justify-center h-52",children:s.jsx("div",{className:"flex flex-col items-center text-3xl",children:s.jsx("div",{className:"text-lg text-error",children:"A mistake has occurred. Please try the search again from the beginning."})})})}),s.jsx("div",{className:"flex justify-end gap-3 px-4 py-2 border-t bg-base-300",children:s.jsx("button",{type:"submit",className:"min-h-0 normal-case rounded shadow btn btn-primary h-11 shadow-primary/30",children:D?s.jsxs(s.Fragment,{children:[s.jsx(Ia,{className:"animate-spin"})," Processing..."]}):"Next"})})]}),d==="flight"&&s.jsxs("div",{className:"max-w-6xl p-0 rounded-md min-w-[768px] w-fit modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Select Flight for option ",g+1]}),s.jsx("button",{onClick:P,type:"button",className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(Je,{})})]}),s.jsx("div",{className:"p-5 max-h-[60vh] h-full overflow-auto",children:s.jsx("div",{className:"flex flex-col gap-4",children:y==null?void 0:y.map((A,j)=>{const{flight_group:U}=A||{};return s.jsx("div",{className:"rounded-lg shadow-custom2 bg-base-200 hover:ring-[1px] hover:ring-primary/50 single-data",children:s.jsxs("div",{className:"flex flex-col items-center gap-12 px-3 py-4 sm:flex-row justify-evenly gap-x-5 md:gap-x-8 lg:gap-x-12 xl:gap-x-20 2xl:gap-x-24",children:[s.jsx("div",{className:"w-full",children:U.map((z,R)=>s.jsxs("div",{children:[R>0&&s.jsx("hr",{className:"my-4 border"}),s.jsx(Va,{singleFlightData:z})]},R))}),s.jsxs("div",{className:"flex flex-col flex-shrink-0 gap-1 justify-evenly sm:items-center",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx(vs,{flight:A}),s.jsx(Os,{flight:A})]}),s.jsx("div",{className:"flex flex-col gap-2 text-center",children:s.jsx("button",{onClick:()=>$(A),className:"min-h-0 normal-case h-11 selectFlightBtn btn btn-primary btn-outline",children:"Select Flight"})})]})]})},j)})})})]})]})},xc=()=>{var f,d;const{active:c,alternative_data:o}=be.useState(m=>m.modal);return((f=o==null?void 0:o.data)==null?void 0:f.length)>0?s.jsx("div",{className:"modal",open:c==="alternative_flight",children:s.jsxs("div",{className:"p-0 rounded-md max-w-7xl modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Alternative Available Flights"}),s.jsx("button",{onClick:Ne,className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(Je,{})})]}),s.jsx("div",{className:"px-5 max-h-[70vh] h-full overflow-auto",children:s.jsx("div",{className:"flex flex-col gap-4 py-5",children:(d=o==null?void 0:o.data)==null?void 0:d.map(m=>s.jsx(Ut,{flight:m,showAdditionalOptions:!1},m==null?void 0:m.flight_key))})}),s.jsx("div",{className:"flex justify-end gap-3 px-4 py-2 mt-2 border-t bg-base-300",children:s.jsx("button",{onClick:Ne,className:"min-h-0 normal-case bg-white btn h-11 hover:bg-white border-primary hover:border-primary",children:"Close"})})]})}):null},fc=()=>{var D,F,P,E,$,H,A,j,U,z,R,I,ne,te;const{active:c,data:o}=be.useState(W=>W.modal),{partner_id:f}=Ve.useState(W=>W.user_data)||{},{tracking_id:d,flight_key:m,hold_possible:_,package_option:b,last_ticket_time:y,price:M,sell:u,margin:T}=o||{},{supplier_title:S,supplier_code:k,supplier_partner_code:O,supplier_timezone:w,currency:g,notification_email:l}=(o==null?void 0:o.supplier)||{},{supplier:x,fmg:p}=T||{};return s.jsx("div",{className:"modal",open:c==="supplier_revenue",children:s.jsxs("div",{className:"max-w-3xl p-0 rounded-md modal-box bg-base-200",children:[s.jsxs("div",{className:"sticky top-0 z-10 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Supplier Revenue Information Modal"}),s.jsx("button",{onClick:Ne,className:"btn btn-sm btn-circle btn-ghost",children:s.jsx(Je,{})})]}),s.jsxs("div",{className:"p-5 max-h-[70vh] h-full overflow-auto",children:[s.jsx("div",{className:"w-full mb-8 overflow-auto",children:s.jsx("table",{className:"table table-bordered",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"bg-base-300",children:[s.jsx("th",{children:"Keys"}),s.jsx("th",{children:"Values"})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Tracking ID"}),s.jsx("td",{children:d})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Flight Key"}),s.jsx("td",{children:m})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Hold Possible"}),s.jsx("td",{children:_})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Package Option"}),s.jsx("td",{children:b})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Last Ticket Time"}),s.jsx("td",{children:y})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Supplier Title"}),s.jsx("td",{children:S})]}),f==="1"&&s.jsxs(s.Fragment,{children:[s.jsxs("tr",{children:[s.jsx("th",{children:"Supplier Code"}),s.jsx("td",{children:k})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Supplier Partner Code"}),s.jsx("td",{children:O})]})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Supplier Timezone"}),s.jsx("td",{children:w})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Currency"}),s.jsx("td",{children:g})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Notification Email"}),s.jsx("td",{children:l})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Partner Price"}),s.jsx("td",{children:s.jsx("div",{className:"grid gap-1",children:typeof M=="object"&&Object.keys(M).map(W=>{var B,ee;return s.jsxs("div",{className:"capitalize",children:[s.jsxs("span",{className:"mr-1 font-semibold",children:[W,":"]})," ",(B=M[W])==null?void 0:B.currency," ",(ee=M[W])==null?void 0:ee.amount]},W)})})})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Sell Price"}),s.jsx("td",{children:typeof u=="object"&&Object.keys(u).map(W=>{var B,ee;return s.jsxs("div",{className:"capitalize",children:[s.jsxs("span",{className:"mr-1 font-semibold",children:[W,":"]})," ",(B=u[W])==null?void 0:B.currency," ",(ee=u[W])==null?void 0:ee.amount]},W)})})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"FMG Price"}),s.jsx("td",{children:typeof p=="object"&&Object.keys(p).map(W=>{var B,ee;return s.jsxs("div",{className:"capitalize",children:[s.jsxs("span",{className:"mr-1 font-semibold",children:[W,":"]})," ",(B=p[W])==null?void 0:B.currency," ",(ee=p[W])==null?void 0:ee.amount]},W)})})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Supplier Price"}),s.jsx("td",{children:typeof x=="object"&&Object.keys(x).map(W=>{var B,ee,se;return((B=x[W])==null?void 0:B.currency)&&s.jsxs("div",{className:"capitalize",children:[s.jsxs("span",{className:"mr-1 font-semibold",children:[W,":"]})," ",(ee=x[W])==null?void 0:ee.currency," ",(se=x[W])==null?void 0:se.amount]},W)})})]})]})})}),s.jsxs("div",{className:"w-full mb-8 overflow-auto",children:[(x==null?void 0:x.applied_comission)&&s.jsx("table",{className:"table table-bordered",children:s.jsxs("tbody",{children:[s.jsx("tr",{className:"bg-base-300",children:s.jsxs("th",{colSpan:"100%",className:"text-center",children:["Applied Commission - ",(D=x==null?void 0:x.applied_comission)==null?void 0:D.title]})}),s.jsxs("tr",{children:[s.jsx("th",{children:"Specific Route"}),s.jsx("th",{children:"Adult Base Fare Ratio"}),s.jsx("th",{children:"Adult Tax Ratio"}),s.jsx("th",{children:"Child Base Fare Ratio"}),s.jsx("th",{children:"Child Tax Ratio"}),s.jsx("th",{children:"Infant Base Fare Ratio"}),s.jsx("th",{children:"Infant Tax Ratio"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:(F=x==null?void 0:x.applied_comission)==null?void 0:F.specific_route}),s.jsx("td",{children:(P=x==null?void 0:x.applied_comission)==null?void 0:P.adult_basefare_ratio}),s.jsx("td",{children:(E=x==null?void 0:x.applied_comission)==null?void 0:E.adult_tax_ratio}),s.jsx("td",{children:($=x==null?void 0:x.applied_comission)==null?void 0:$.child_basefare_ratio}),s.jsx("td",{children:(H=x==null?void 0:x.applied_comission)==null?void 0:H.child_tax_ratio}),s.jsx("td",{children:(A=x==null?void 0:x.applied_comission)==null?void 0:A.inf_basefare_ratio}),s.jsx("td",{children:(j=x==null?void 0:x.applied_comission)==null?void 0:j.inf_tax_ratio})]})]})}),s.jsx("table",{className:"table mt-2 table-bordered",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"bg-base-300",children:[s.jsx("th",{}),s.jsx("th",{children:"Before Commission"}),s.jsx("th",{children:"After Commission"})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Base Fare"}),s.jsx("td",{children:(U=x==null?void 0:x.before_comission)==null?void 0:U.base_fare}),s.jsx("td",{children:(z=x==null?void 0:x.base_fare)==null?void 0:z.amount})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Tax"}),s.jsx("td",{children:(R=x==null?void 0:x.before_comission)==null?void 0:R.tax}),s.jsx("td",{children:(I=x==null?void 0:x.tax)==null?void 0:I.amount})]}),s.jsxs("tr",{children:[s.jsx("th",{children:"Total"}),s.jsx("td",{children:(ne=x==null?void 0:x.before_comission)==null?void 0:ne.total}),s.jsx("td",{children:(te=x==null?void 0:x.total)==null?void 0:te.amount})]})]})})]}),f==="1"&&s.jsxs("div",{className:"border rounded collapse collapse-arrow bg-base-200",children:[s.jsx("input",{type:"checkbox",className:"peer"}),s.jsx("div",{className:"collapse-title",children:"Debug Data"}),s.jsx("div",{className:"collapse-content",children:s.jsx("div",{className:"w-full max-w-[660px] overflow-auto",children:s.jsx("pre",{children:JSON.stringify(o,null,3)})})})]})]}),s.jsx("div",{className:"flex justify-end gap-3 px-4 py-2 mt-2 border-t bg-base-300",children:s.jsx("button",{onClick:Ne,className:"min-h-0 normal-case bg-white btn h-11 hover:bg-white border-primary hover:border-primary",children:"Close"})})]})})},pc=()=>{const{isActive:c}=be.useState(o=>o.price_calendar)||{};return s.jsx("button",{onClick:()=>be.update(o=>{o.price_calendar.isActive=!o.price_calendar.isActive}),className:"relative flex items-center justify-center gap-2 py-2 text-xs duration-300 hover:text-primary bg-base-200 z-[1] group border-b-2 border-b-primary",children:c?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 p-1 text-xs rounded-full bg-primary text-primary-content",children:s.jsx(ft,{})})," ","Hide pricing calendar ",s.jsx(Wa,{})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 p-1 text-xs rounded-full bg-primary text-primary-content",children:s.jsx(ft,{})})," ","Show pricing calendar ",s.jsx(La,{})]})})},Ja=({min_price:c,max_price:o,price:f})=>s.jsx(co,{min:c-5,max:o+5,value:[(f==null?void 0:f.min_price)||c-5,(f==null?void 0:f.max_price)||o+5],action:d=>ye.update(m=>{m.price={min_price:d[0],max_price:d[1]}})}),gc=({filterData:c,additionalData:o})=>{const{flight_search_sidebar:{mobile:{isActive:f}}}=be.useState(),{system_config:d}=pe.useState(),{price:m,no_stop_summery:_,baggage_summery:b,departure:y,arrival:M,operating:u}=ye.useState(w=>w),{min_price:T,max_price:S,priceByAirlines:k,currency:O}=c;return le.useEffect(()=>{const{min_price:w,max_price:g,no_stop_summery:l,baggage_summery:x,departure:p,arrival:D,carrier:F}=c;ye.update(P=>{P.price={min_price:w-5,max_price:g+5},Object.values(l).forEach(E=>{P.no_stop_summery[E]=!1}),Object.values(x).forEach(E=>{P.baggage_summery[E]=!1}),Object.values(p.timing_slot).forEach(E=>{P.departure[E]&&(P.departure[E].value=!1)}),Object.values(D.timing_slot).forEach(E=>{P.arrival[E]&&(P.arrival[E].value=!1)}),Object.values(F.operating).forEach(E=>{P.operating[E]=!1})})},[c]),s.jsx("aside",{className:Q("filter-section fixed lg:translate-x-0 max-w-xs lg:max-w-full max-lg:top-0 max-lg:left-0 max-lg:bottom-0 overflow-auto duration-500 z-30 lg:z-0 bg-base-200 lg:bg-transparent lg:sticky lg:top-20 h-fit lg:rounded-lg lg:shadow-custom2 lg:bg-base-200",f?"translate-x-0":"translate-x-[-400px]"),children:s.jsxs("div",{className:"p-5 rounded-lg shadow-lg bg-base-200 lg:max-h-[calc(100vh-80px)] lg:overflow-auto custom-scrollbar",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-4 text-xs text-center border rounded max-sm:hidden",children:[s.jsx("span",{className:"font-medium py-1.5 px-1 bg-base-300 whitespace-nowrap shrink-0",children:"Search Ref:"})," ",s.jsx("input",{type:"text",value:o==null?void 0:o.tracking_id,readOnly:!0,className:"cursor-pointer focus:outline-none",onClick:w=>{navigator.clipboard.writeText(o==null?void 0:o.tracking_id),w.target.value="Copied",setTimeout(()=>{w.target.value=o==null?void 0:o.tracking_id},3e3)}})]}),(o==null?void 0:o.journey_type)!=="MultiCity"&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(pc,{})}),s.jsxs("div",{className:"mb-4 overflow-hidden text-center rounded-lg",children:[s.jsx("div",{className:"p-4 bg-base-300",children:s.jsx("p",{children:Ee(o.date).format(d.default_date_format_print)})}),s.jsx("div",{className:"p-4 bg-primary/10 text-primary",children:s.jsx("h1",{className:"text-5xl font-semibold",children:o.total_fight})}),s.jsx("div",{className:"p-4 bg-base-300",children:s.jsxs("p",{children:[o.departure_from," to ",o.arrival_to]})})]}),s.jsx("button",{className:"absolute flex ml-auto btn btn-sm btn-ghost lg:hidden top-1 right-1",children:s.jsx(Je,{})}),s.jsx("div",{className:"flex items-center justify-between gap-5 mt-5 mb-5 lg:mt-0",children:s.jsx("h6",{className:"font-medium",children:"Filters"})}),s.jsxs("h6",{className:"flex items-center gap-1 mb-3 font-medium",children:[s.jsx(Ha,{className:"mr-1"}),"Price Range"]}),s.jsx(Ja,{min_price:T,max_price:S,price:m}),s.jsxs("h6",{className:"flex items-center gap-1 mb-3 font-medium",children:[s.jsx(pt,{className:"mr-1"}),"Baggage"]}),s.jsx("div",{className:"flex flex-col gap-3 p-3 mb-8 text-xs border rounded-lg",children:Object.entries(b).sort().map(([w,g])=>s.jsx(Be,{label:w,defaultChecked:g,action:l=>ye.update(x=>{x.baggage_summery[w]=l})},w))}),s.jsxs("h6",{className:"flex items-center gap-1 mb-3 font-medium",children:[s.jsx($a,{className:"mr-1"}),"No of Stops"]}),s.jsx("div",{className:"flex flex-col gap-3 p-3 mb-8 text-xs border rounded-lg",children:Object.entries(_).sort().map(([w,g])=>s.jsx(Be,{label:w,defaultChecked:g,action:l=>ye.update(x=>{x.no_stop_summery[w]=l})},w))}),s.jsxs("h6",{className:"flex items-center gap-1 mb-3 font-medium",children:[s.jsx(Ua,{}),"Flight Timings"]}),s.jsx("h6",{className:"mb-3 text-xs rounded badge badge-sm text-neutral",children:"Based On Departure Location"}),s.jsx("div",{className:"flex flex-col gap-3 p-3 mb-4 text-xs border rounded-lg",children:Object.entries(y).map(([w,g])=>s.jsx(Be,{label:g.label,defaultChecked:g.value,action:l=>ye.update(x=>{x.departure[w].value=l})},w))}),s.jsx("h6",{className:"mb-3 text-xs rounded badge badge-sm text-neutral",children:"Based On Arrival Location"}),s.jsx("div",{className:"flex flex-col gap-3 p-3 mb-4 text-xs border rounded-lg",children:Object.entries(M).map(([w,g])=>s.jsx(Be,{label:g.label,defaultChecked:g.value,action:l=>ye.update(x=>{x.arrival[w].value=l})},w))}),s.jsxs("h6",{className:"flex items-center gap-1 mb-3 font-medium",children:[s.jsx(za,{}),"Airlines"]}),s.jsx("div",{className:"flex flex-col gap-3 p-3 text-xs border rounded-lg",children:Object.entries(u).sort().map(([w,g])=>{var l;return s.jsx(Be,{label:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"line-clamp-1",children:((l=c.airlines.find(x=>x.value===w))==null?void 0:l.name)||w}),s.jsxs("span",{className:"font-medium whitespace-nowrap text-[10px]",children:[X(O)," ",k[w]]})]}),defaultChecked:g,action:x=>ye.update(p=>{p.operating[w]=x})},w)})})]})})};gc.propTypes={filterData:Oe.object.isRequired,additionalData:Oe.object.isRequired};const yc=()=>{const{isActive:c}=be.useState(o=>o.price_calendar)||{};return s.jsx("button",{onClick:()=>be.update(o=>{o.price_calendar.isActive=!o.price_calendar.isActive}),className:"normal-case rounded-full shadow btn btn-accent",children:c?s.jsxs(s.Fragment,{children:[s.jsx(ft,{})," Hide pricing calendar ",s.jsx(Wa,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(ft,{})," Show pricing calendar ",s.jsx(La,{})]})})},Qa=({min:c,max:o,value:f,action:d})=>{const[m,_]=le.useState({min:0,max:0});return le.useEffect(()=>{_({min:f[0]||c,max:f[1]||o})},[f,c,o]),s.jsxs("div",{className:"p-1 pt-2",children:[s.jsx("div",{className:"relative min-h-[30px] slider-container",children:s.jsx(uo,{min:c,max:o,defaultValue:f,onInput:function(b){this.value=b,_({min:b[0],max:b[1]})},rangeSlideDisabled:!0,onThumbDragEnd:function(){d(this.value)},className:"h-1"},JSON.stringify(f))}),s.jsxs("div",{className:"flex items-center justify-between text-sm slider-value",children:[s.jsx("span",{children:Oa(m.min)}),s.jsx("span",{children:Oa(m.max)})]})]})};Qa.propTypes={min:Oe.number.isRequired,max:Oe.number.isRequired,defaultValue:Oe.arrayOf(Oe.number).isRequired,value:Oe.arrayOf(Oe.number).isRequired,action:Oe.func.isRequired};const _c=({min_duration:c,max_duration:o,duration:f})=>s.jsx(Qa,{min:c>5?c-5:c,max:o+5,value:[(f==null?void 0:f.min_duration)||c-5,(f==null?void 0:f.max_duration)||o+5],action:d=>ye.update(m=>{m.duration={min_duration:d[0],max_duration:d[1]}})}),bc=({baggage_summery:c})=>{const[o,f]=le.useState(!1);return s.jsxs("div",{className:"flex flex-col gap-2 text-xs",children:[Object.entries(c).sort().slice(0,o?void 0:3).map(([d,m])=>s.jsx(Be,{label:d,defaultChecked:m,action:_=>ye.update(b=>{b.baggage_summery[d]=_})},d)),!o&&Object.entries(c).length>3&&s.jsxs("button",{onClick:()=>f(!0),className:"font-medium text-left text-primary",children:["+",Object.entries(c).length-3," Baggage Options"]})]})},jc=({operating:c,airlines:o,currency:f,priceByAirlines:d})=>{const[m,_]=le.useState(!1);return s.jsxs("div",{className:"flex flex-col gap-2 text-xs",children:[Object.entries(c).sort().slice(0,m?void 0:4).map(([b,y])=>{var M;return s.jsx(Be,{label:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"line-clamp-1",children:((M=o.find(u=>u.value===b))==null?void 0:M.name)||b}),s.jsxs("span",{className:"font-medium whitespace-nowrap text-[10px]",children:[X(f)," ",d[b]]})]}),defaultChecked:y,action:u=>ye.update(T=>{T.operating[b]=u})},b)}),!m&&Object.entries(c).length>4&&s.jsxs("button",{onClick:()=>_(!0),className:"font-medium text-left text-primary",children:["+",Object.entries(c).length-4," Airlines"]})]})},vc=({filterData:c,additionalData:o})=>{const{flight_search_sidebar:{mobile:{isActive:f}}}=be.useState(),{price:d,duration:m,no_stop_summery:_,baggage_summery:b,departure:y,arrival:M,operating:u,cabin_class:T,aircraft_names:S}=ye.useState(p=>p),{min_price:k,max_price:O,priceByAirlines:w,currency:g}=c,{min_duration:l,max_duration:x}=c;return le.useEffect(()=>{const{min_price:p,max_price:D,min_duration:F,max_duration:P,cabin_class:E,aircraft_names:$,no_stop_summery:H,baggage_summery:A,departure:j,arrival:U,carrier:z}=c;ye.update(R=>{R.price={min_price:p-5,max_price:D+5},R.duration={min_duration:F-5,max_duration:P+5},Object.values(H).forEach(I=>{R.no_stop_summery[I]=!1}),Object.values(E).forEach(I=>{R.cabin_class[I]=!1}),Object.values($).forEach(I=>{R.aircraft_names[I]=!1}),Object.values(A).forEach(I=>{R.baggage_summery[I]=!1}),Object.values(j.timing_slot).forEach(I=>{R.departure[I]&&(R.departure[I].value=!1)}),Object.values(U.timing_slot).forEach(I=>{R.arrival[I]&&(R.arrival[I].value=!1)}),Object.values(z.operating).forEach(I=>{R.operating[I]=!1})})},[c]),s.jsxs(s.Fragment,{children:[s.jsx("aside",{className:Q("filter-section fixed lg:translate-x-0 max-w-xs lg:max-w-full max-lg:top-0 max-lg:left-0 max-lg:bottom-0 overflow-auto duration-500 z-30 lg:z-0 bg-base-200 lg:bg-transparent lg:sticky lg:top-20 h-fit lg:rounded-lg lg:shadow-custom2 lg:mb-16",f?"translate-x-0":"translate-x-[-400px]"),children:s.jsxs("div",{className:"py-5 rounded-lg lg:shadow-lg lg:bg-base-200 max-h-screen lg:max-h-[calc(100vh-80px)] overflow-auto custom-scrollbar px-4",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-4 text-xs text-center border rounded max-sm:hidden",children:[s.jsx("span",{className:"font-medium py-1.5 px-1 bg-base-300",children:"Search Ref:"})," ",s.jsx("input",{type:"text",value:o==null?void 0:o.tracking_id,readOnly:!0,className:"cursor-pointer focus:outline-none",onClick:p=>{navigator.clipboard.writeText(o==null?void 0:o.tracking_id),p.target.value="Copied",setTimeout(()=>{p.target.value=o==null?void 0:o.tracking_id},3e3)}})]}),(o==null?void 0:o.journey_type)!=="MultiCity"&&s.jsx("div",{className:"flex justify-center mb-4 max-sm:hidden",children:s.jsx(yc,{})}),s.jsx("button",{onClick:()=>be.update(p=>{p.flight_search_sidebar.mobile.isActive=!1}),className:"absolute z-30 flex ml-auto btn btn-sm btn-ghost btn-circle bg-red-500/20 hover:bg-red-500 hover:text-white lg:hidden top-1 right-1",children:s.jsx(Je,{})}),s.jsx("div",{className:"flex items-center justify-between gap-5 mt-5 mb-5 lg:mt-0",children:s.jsx("h6",{className:"font-medium",children:"Filters"})}),s.jsxs("div",{className:"collapse collapse-arrow",children:[s.jsx("input",{type:"checkbox",className:"min-h-0",defaultChecked:!0}),s.jsx("div",{className:"min-h-0 p-0 h-fit collapse-title after:!right-1.5",children:s.jsxs("h6",{className:"flex items-center gap-1 font-medium",children:[s.jsx(Ha,{className:"mr-1"}),"Price Range"]})}),s.jsx("div",{className:"px-0 mt-3 collapse-content",children:s.jsx(Ja,{min_price:k,max_price:O,price:d})})]}),s.jsx("hr",{className:"mt-0 mb-2"}),s.jsxs("div",{className:"collapse collapse-arrow",children:[s.jsx("input",{type:"checkbox",className:"min-h-0",defaultChecked:!0}),s.jsx("div",{className:"min-h-0 p-0 h-fit collapse-title after:!right-1.5",children:s.jsxs("h6",{className:"flex items-center gap-1 font-medium",children:[s.jsx(to,{className:"mr-1"}),"Duration"]})}),s.jsx("div",{className:"px-0 mt-3 collapse-content",children:s.jsx(_c,{duration:m,min_duration:l,max_duration:x})})]}),s.jsx("hr",{className:"mt-0 mb-2"}),s.jsxs("div",{className:"collapse collapse-arrow",children:[s.jsx("input",{type:"checkbox",className:"min-h-0",defaultChecked:!0}),s.jsx("div",{className:"min-h-0 p-0 h-fit collapse-title after:!right-1.5",children:s.jsxs("h6",{className:"flex items-center gap-1 font-medium",children:[s.jsx(pt,{className:"mr-1"}),"Baggage"]})}),s.jsx("div",{className:"px-0 mt-3 collapse-content",children:s.jsx(bc,{baggage_summery:b})})]}),s.jsx("hr",{className:"mt-0 mb-2"}),s.jsxs("div",{className:"collapse collapse-arrow",children:[s.jsx("input",{type:"checkbox",className:"min-h-0",defaultChecked:!0}),s.jsx("div",{className:"min-h-0 p-0 h-fit collapse-title after:!right-1.5",children:s.jsxs("h6",{className:"flex items-center gap-1 font-medium",children:[s.jsx($a,{className:"mr-1"}),"No of Stops"]})}),s.jsx("div",{className:"px-0 mt-3 collapse-content",children:s.jsx("div",{className:"flex flex-col gap-3 text-xs",children:Object.entries(_).sort().map(([p,D])=>s.jsx(Be,{label:p,defaultChecked:D,action:F=>ye.update(P=>{P.no_stop_summery[p]=F})},p))})})]}),s.jsx("hr",{className:"mt-0 mb-2"}),s.jsxs("div",{className:"collapse collapse-arrow",children:[s.jsx("input",{type:"checkbox",className:"min-h-0",defaultChecked:!0}),s.jsx("div",{className:"min-h-0 p-0 h-fit collapse-title after:!right-1.5",children:s.jsxs("h6",{className:"flex items-center gap-1 font-medium",children:[s.jsx(za,{}),"Airlines"]})}),s.jsx("div",{className:"px-0 mt-3 collapse-content",children:s.jsx(jc,{airlines:c.airlines,currency:g,operating:u,priceByAirlines:w})})]}),s.jsx("hr",{className:"mt-0 mb-2"}),s.jsxs("div",{className:"collapse collapse-arrow",children:[s.jsx("input",{type:"checkbox",className:"min-h-0",defaultChecked:!0}),s.jsx("div",{className:"min-h-0 p-0 h-fit collapse-title after:!right-1.5",children:s.jsxs("h6",{className:"flex items-center gap-1 font-medium",children:[s.jsx(ao,{className:"mr-1"}),"Cabin"]})}),s.jsx("div",{className:"px-0 mt-3 collapse-content",children:s.jsx("div",{className:"flex flex-col gap-3 text-xs",children:Object.entries(T).sort().map(([p,D])=>s.jsx(Be,{label:p,defaultChecked:D,action:F=>ye.update(P=>{P.cabin_class[p]=F})},p))})})]}),s.jsx("hr",{className:"mt-0 mb-2"}),s.jsxs("div",{className:"collapse collapse-arrow",children:[s.jsx("input",{type:"checkbox",className:"min-h-0",defaultChecked:!0}),s.jsx("div",{className:"min-h-0 p-0 h-fit collapse-title after:!right-1.5",children:s.jsxs("h6",{className:"flex items-center gap-1 font-medium",children:[s.jsx(Ua,{}),"Flight Timings"]})}),s.jsxs("div",{className:"px-0 mt-3 collapse-content",children:[s.jsx("h6",{className:"mb-3 text-xs rounded badge badge-sm text-neutral",children:"Based On Departure Location"}),s.jsx("div",{className:"flex flex-col gap-3 mb-4 text-xs",children:Object.entries(y).map(([p,D])=>s.jsx(Be,{label:D.label,defaultChecked:D.value,action:F=>ye.update(P=>{P.departure[p].value=F})},p))}),s.jsx("h6",{className:"mb-3 text-xs rounded badge badge-sm text-neutral",children:"Based On Arrival Location"}),s.jsx("div",{className:"flex flex-col gap-3 text-xs",children:Object.entries(M).map(([p,D])=>s.jsx(Be,{label:D.label,defaultChecked:D.value,action:F=>ye.update(P=>{P.arrival[p].value=F})},p))})]})]}),s.jsx("hr",{className:"mt-0 mb-2"}),s.jsxs("div",{className:"collapse collapse-arrow",children:[s.jsx("input",{type:"checkbox",className:"min-h-0",defaultChecked:!0}),s.jsx("div",{className:"min-h-0 p-0 h-fit collapse-title after:!right-1.5",children:s.jsxs("h6",{className:"flex items-center gap-1 font-medium",children:[s.jsx(ro,{className:"mr-1"}),"Aircraft"]})}),s.jsx("div",{className:"px-0 mt-3 collapse-content",children:s.jsx("div",{className:"flex flex-col gap-3 text-xs",children:Object.entries(S).sort().map(([p,D])=>s.jsx(Be,{label:p,defaultChecked:D,action:F=>ye.update(P=>{P.aircraft_names[p]=F})},p))})})]})]})}),f&&s.jsx("div",{onClick:()=>be.update(p=>{p.flight_search_sidebar.mobile.isActive=!1}),className:"fixed top-0 bottom-0 left-0 right-0 z-20 lg:hidden bg-black/10 backdrop-blur-[2px]"})]})};vc.propTypes={filterData:Oe.object.isRequired,additionalData:Oe.object.isRequired};const Ic=()=>{const[c,o]=le.useState(10),{filteredData:f}=Pl.useState(S=>S),{user_data:d}=Ve.useState(),{price_view:{show_flight_fare_rules:m,show_fare_summery:_}={},system_config:b,supplier_option:y}=pe.useState(),{show_supplier_option:M}=y||{},{search_result_version:u}=b||{},T=f.slice(0,c);return le.useEffect(()=>{const S=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&o(k=>k+10)};return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex flex-col gap-3",children:T.length>0?T.reduce((S,k)=>(S.find(O=>(O==null?void 0:O.filter_unique_filter_code)===(k==null?void 0:k.filter_unique_filter_code))||S.push(k),S),[]).map(S=>(S==null?void 0:S.result_type)==="group"?s.jsx(rc,{flight:S},S.flight_key):s.jsx(Ut,{flight:S},S.flight_key)):s.jsx("p",{className:"py-10 text-center text-error",children:"No result found"})}),["1","4","5","7"].includes(u)&&s.jsx(lc,{}),s.jsx(oc,{}),_==="YES"&&s.jsx(cc,{}),m==="YES"&&s.jsx(bo,{}),(d==null?void 0:d.login_key)&&s.jsx(jo,{}),s.jsx(dc,{}),s.jsx(hc,{}),s.jsx(mc,{}),s.jsx(xc,{}),["supernsn","administrator"].includes(d==null?void 0:d.user_access_level)&&M==="YES"&&s.jsx(fc,{})]})},Wc=()=>{const{journey_type:c}=ss.useState(),{partner_option:o}=pe.useState();return s.jsxs("form",{className:"relative p-6 mb-12 rounded-lg shadow-custom2 bg-base-200 search-box-1",children:[s.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4 mb-4",children:[s.jsx(Mo,{}),s.jsxs("div",{className:"flex flex-wrap justify-end gap-5 text-sm sm:items-center",children:[s.jsx("div",{className:"max-sm:hidden",children:s.jsx(Do,{})}),s.jsx(Oo,{}),s.jsx("div",{className:"max-sm:hidden",children:s.jsx(Yo,{})})]})]}),s.jsxs("div",{children:[c!=="MultiCity"&&s.jsx(Co,{}),c==="MultiCity"&&s.jsx(Fo,{})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-5 mb-6 text-sm",children:[s.jsx("div",{className:"max-w-full w-fit",children:s.jsx(To,{})}),s.jsx("div",{className:"max-w-full w-fit min-w-[160px]",children:s.jsx(xo,{supplier_type:"FLIGHT"})}),(o==null?void 0:o.status.toLowerCase())==="yes"&&s.jsx("div",{className:"max-w-full w-fit min-w-[160px]",children:s.jsx(Ba,{supplier_type:"FLIGHT"})})]}),s.jsx(Po,{})]})},Lc=()=>{const{journey_type:c}=ss.useState(),{partner_option:o}=pe.useState(),{t:f}=Ht();return s.jsxs("form",{className:"relative p-6 pt-2 mb-12 rounded-lg shadow-md bg-base-200 search-box-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[s.jsx(Ro,{}),s.jsxs("div",{className:"flex flex-wrap gap-5 text-sm sm:justify-end",children:[s.jsx("div",{className:"max-sm:hidden",children:s.jsx(Eo,{})}),s.jsx(Ao,{}),s.jsx("div",{className:"max-sm:hidden",children:s.jsx(Io,{})})]})]}),s.jsxs("div",{children:[c!=="MultiCity"&&s.jsx(Wo,{}),c==="MultiCity"&&s.jsx(Lo,{})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-5 text-sm max-sm:pb-3",children:[s.jsx("div",{className:"max-w-full w-fit",children:s.jsx(Ho,{})}),s.jsx("div",{className:"max-w-full w-fit min-w-[160px]",children:s.jsx(fo,{supplier_type:"FLIGHT"})}),(o==null?void 0:o.status.toLowerCase())==="yes"&&s.jsx("div",{className:"max-w-full w-fit min-w-[160px]",children:s.jsx(Ba,{supplier_type:"FLIGHT"})}),s.jsxs("div",{className:"flex items-center gap-5 ml-auto w-fit max-sm:hidden",children:[s.jsx($o,{}),s.jsxs("button",{onClick:()=>document.getElementById("advanced_passenger_selection").showModal(),type:"button",className:"text-xs font-semibold normal-case h-9",children:[s.jsx(Et,{path:Rl,size:.8,className:"mr-1 text-base"})," ",f("fare_types")," ",s.jsx(no,{})]})]})]}),s.jsx(Uo,{})]})},Nc=()=>{const{t:c}=Ht(),{journey_type:o,fare_type:f,supplier_uid:d}=ss.useState(m=>m);return s.jsxs("div",{className:"relative max-w-4xl p-4 pt-4 max-sm:pt-8 sam-box",children:[s.jsxs("div",{className:"grid gap-5 mb-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-6",children:[s.jsx(zo,{supplier_type:"FLIGHT"}),s.jsx(Bo,{})]}),s.jsx(Vo,{})]}),s.jsxs("div",{className:"p-3 border rounded-b-lg border-neutral",children:[s.jsxs("div",{className:"flex-1",children:[o!=="MultiCity"&&s.jsx(Go,{}),o==="MultiCity"&&s.jsx(qo,{})]}),s.jsxs("div",{className:"grid gap-4 mb-4 sm:grid-flow-col",children:[s.jsx(Zo,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"input-container",children:[s.jsx("div",{className:"input-label",children:"IT Fare"}),s.jsx("div",{className:"field",children:s.jsx(Ca,{label:"",defaultChecked:f.includes("IT"),action:m=>{m?ss.update(_=>{_.fare_type.push("IT")}):ss.update(_=>{_.fare_type=_.fare_type.filter(b=>b!=="IT")})}})})]}),s.jsxs("div",{className:"input-container",children:[s.jsx("div",{className:"input-label",children:c("hybrid_search")}),s.jsx("div",{className:"field !bg-neutral/10",children:s.jsx(Ca,{label:"",defaultChecked:f.includes("NEGO"),action:m=>{m?ss.update(_=>{_.fare_type.push("NEGO")}):ss.update(_=>{_.fare_type=_.fare_type.filter(b=>b!=="NEGO")})}})})]})]}),s.jsx(Jo,{}),s.jsxs("div",{className:"flex items-end justify-end h-full gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>ss.update(()=>({...ss._getInitialState(),supplier_uid:d})),className:"flex flex-col items-center justify-center min-h-0 bg-transparent rounded h-9 input input-xs input-bordered w-fit text-[10px] duration-300 hover:scale-125",children:[s.jsx(Xo,{className:"mr-0.5 text-xs"})," Reset"]}),s.jsx(Qo,{})]})]}),s.jsx(Ko,{})]})]})},Hc=()=>{var w,g,l,x,p,D;const{segment:c,travelers_adult:o,travelers_child:f,travelers_infants:d,travelers_ptc:m,fare_type:_,journey_type:b}=ss.useState(),{t:y}=Ht(),M=(w=c==null?void 0:c.at(0))==null?void 0:w.departure_airport,u=b==="MultiCity"&&((g=c==null?void 0:c.at(-1))!=null&&g.arrival_airport)?(l=c==null?void 0:c.at(-1))==null?void 0:l.arrival_airport:(x=c==null?void 0:c.at(0))==null?void 0:x.arrival_airport,[T,S]=le.useState(!1),k=le.useRef(),{isActive:O}=be.useState(F=>F.price_calendar);return s.jsxs("div",{className:"relative",ref:k,children:[s.jsx("div",{className:"p-3 mb-8 rounded-md shadow bg-base-200",children:s.jsxs("div",{className:"grid grid-cols-8",children:[s.jsxs("div",{className:"grid grid-cols-2 col-span-5",children:[s.jsxs("div",{className:"flex items-center justify-between pr-4 border-r",children:[s.jsxs("div",{className:"px-2 text-center",children:[s.jsx("div",{className:"text-[15px] font-semibold",children:M==null?void 0:M.code}),s.jsxs("div",{className:"text-sm text-neutral line-clamp-1",children:[M==null?void 0:M.city_name,(M==null?void 0:M.city_code)&&`, ${M==null?void 0:M.city_code}`]})]}),s.jsx("button",{className:"inline-flex items-center justify-center w-4 h-4 text-primary",children:s.jsx(No,{className:"text-lg"})}),s.jsxs("div",{className:"px-2 text-center",children:[s.jsx("div",{className:"text-[15px] font-semibold",children:u==null?void 0:u.code}),s.jsxs("div",{className:"text-sm text-neutral line-clamp-1",children:[u==null?void 0:u.city_name,(u==null?void 0:u.city_code)&&`, ${u==null?void 0:u.city_code}`]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 border-r",children:[s.jsxs("div",{className:"grid grid-cols-2 border-r",children:[s.jsxs("div",{className:"flex flex-col justify-between h-full px-4",children:[s.jsx("div",{className:"font-semibold text-[10px]",children:y("Departure")}),s.jsx("div",{className:"text-xs text-neutral",children:Ee((p=c==null?void 0:c.at(0))==null?void 0:p.departure_date).format("DDMMMYY")})]}),s.jsxs("div",{className:"flex flex-col justify-between h-full px-3",children:[s.jsx("div",{className:"font-semibold text-[10px]",children:y("Return")}),s.jsx("div",{className:"text-xs text-neutral",children:Ee((D=c==null?void 0:c.at(-1))==null?void 0:D.departure_date).format("DDMMMYY")})]})]}),s.jsxs("div",{className:"flex flex-col justify-between h-full px-4",children:[s.jsxs("div",{className:"font-semibold text-[10px]",children:[y("Traveler")," (Economy)"]}),s.jsxs("div",{className:"text-xs text-neutral",children:["Adt ",o," Chd ",f," Inf"," ",d]})]})]})]}),s.jsxs("div",{className:"grid grid-flow-col col-span-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 px-4",children:[m&&s.jsx("div",{className:"badge badge-sm text-[10px] bg-base-300 text-neutral rounded border-transparent",children:"PTC"}),_.map((F,P)=>s.jsx("div",{className:"badge badge-sm text-[10px] bg-base-300 text-neutral rounded border-transparent capitalize",children:F.toLowerCase()},P))]}),s.jsxs("div",{className:"flex items-center h-full gap-2",children:[s.jsx("button",{onClick:()=>At.update(F=>{F.isActive=!0}),disabled:!u,className:"w-8 h-8 min-h-0 p-0 rounded-md btn btn-outline btn-secondary",children:s.jsx(io,{})}),s.jsx("button",{onClick:()=>S(!T),disabled:!u,className:"h-8 min-h-0 normal-case rounded-md btn btn-outline btn-sm btn-primary",children:y("modify_search")}),b!=="MultiCity"&&s.jsx("button",{onClick:()=>be.update(F=>{F.price_calendar.isActive=!F.price_calendar.isActive}),className:"h-8 min-h-0 duration-200 rounded-md btn-sm btn-warning btn btn-square hover:scale-125",children:O?s.jsx(lo,{}):s.jsx(oo,{})})]})]})]})}),s.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-fit top-full",onClick:F=>F.stopPropagation(),children:[T&&s.jsx("button",{onClick:()=>S(!1),className:"absolute z-10 flex items-center justify-center text-sm transition rounded shadow-md active:scale-100 active:shadow-md hover:shadow-lg shadow-primary/50 text-error w-7 h-7 bg-base-200 hover:scale-125 -top-2 -right-2",children:s.jsx(wo,{})}),s.jsx("div",{className:Q("rounded-lg shadow-lg collapse bg-base-200"),open:T,children:s.jsx("div",{className:"p-0 origin-top collapse-content",children:s.jsx(Nc,{})})})]})]})};export{xc as A,bc as B,_c as D,Ac as F,rc as G,Ja as P,dc as S,Ut as a,lc as b,oc as c,cc as d,hc as e,mc as f,fc as g,Lc as h,Wc as i,Hc as j,vc as k,gc as l,Ic as m,jc as n};
