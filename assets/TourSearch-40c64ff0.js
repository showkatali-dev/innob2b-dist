import{e as h,q as e,I as b,bj as N,aj as u,o as y,m as _,a5 as v}from"./index-a3ec2d78.js";import{aW as w,bH as j,dy as S,L as T,n as C,d as P,e as R}from"./App-87fdd66a.js";import{R as L}from"./RangeSliderInput-bc862f3d.js";import{C as f}from"./Checkbox-37435125.js";import{T as H,a as k,b as D,c as I}from"./TourSearchButton-dc1bbd9d.js";import{V as z}from"./VisaSearchSkeleton-31752f0a.js";import"./SingleSelect-477c2196.js";import"./InputDate-4c684fae.js";import"./index-a9492ef6.js";const B=()=>{const[c,t]=h.useState({min_price:0,max_price:2e3}),[l,n]=h.useState({Beach:!1,Luxury:!1,Shopping:!1,Budget:!1,Family:!1}),[r,o]=h.useState({"1 night":!1,"2 nights":!1,"4 nights":!1,"6 nights":!1});return e.jsx("aside",{className:"z-30 max-w-xs overflow-auto duration-500 filter-section lg:translate-x-0 lg:max-w-full max-lg:top-0 max-lg:left-0 max-lg:bottom-0 lg:z-0 lg:bg-base-200 lg:bg-transparent lg:sticky lg:top-20 lg:overflow-auto h-fit lg:rounded-lg mb-52",children:e.jsxs("div",{className:"py-5 lg:rounded-lg bg-base-200 h-screen lg:max-h-[calc(100vh-80px)] lg:overflow-auto custom-scrollbar",children:[e.jsx("div",{className:"flex items-center justify-between gap-5 px-5 mt-5 mb-5 lg:mt-0",children:e.jsx("h6",{className:"text-sm font-medium",children:"Filters"})}),e.jsxs("div",{className:"px-5 mb-4",children:[e.jsxs("h6",{className:"flex items-center gap-1 mb-3 text-sm font-medium",children:[e.jsx(w,{className:"mr-1"}),"Price Range"," ",e.jsx("span",{className:"text-sm font-normal text-neutral",children:"(0 - 2000)"})]}),e.jsx(L,{min:0,max:2e3,defaultValue:[0,2e3],value:[c.min_price,c.max_price],action:s=>t({min_price:s[0],max_price:s[1]})})]}),e.jsxs("div",{className:"px-5",children:[e.jsxs("h6",{className:"flex items-center gap-1 mb-3 text-sm font-medium",children:[e.jsx(j,{className:"mr-1"})," Package Category"]}),e.jsx("div",{className:"flex flex-col gap-3 mb-5 text-xs",children:Object.entries(l).map(([s,i])=>s&&e.jsx(f,{label:s,defaultChecked:i,action:a=>n({...l,[s]:a})},s))})]}),e.jsx("hr",{className:"mb-5"}),e.jsxs("div",{className:"px-5",children:[e.jsxs("h6",{className:"flex items-center gap-1 mb-3 text-sm font-medium",children:[e.jsx(j,{className:"mr-1"})," Package Nights"]}),e.jsx("div",{className:"flex flex-col gap-3 mb-5 text-xs",children:Object.entries(r).map(([s,i])=>s&&e.jsx(f,{label:s,defaultChecked:i,action:a=>o({...r,[s]:a})},s))})]})]})})},F=()=>e.jsxs("div",{className:"p-4 mb-4 rounded-lg bg-base-200",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(b,{path:N,size:1,className:"text-primary"}),e.jsx("h1",{className:"font-semibold",children:"5 Abu Dhabi Packages"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h2",{className:"mr-2 text-sm font-medium",children:"Sort by"}),e.jsxs("select",{className:"select select-sm focus:outline-0 w-full max-w-[180px] rounded-md",children:[e.jsx("option",{children:"Price (Low to High)"}),e.jsx("option",{children:"Price (Hight to Low)"})]}),e.jsxs("select",{className:"select select-sm focus:outline-0 w-full max-w-[180px] rounded-md",children:[e.jsx("option",{children:"Review (Hight to Low)"}),e.jsx("option",{children:"Review (Low to Hight)"})]})]})]}),V=({tour:c})=>{var a,m;const{seo_code:t,title:l,primary_photo:n,starting_price:r,basic_info:o,category_title:s,country_name:i}=c;return e.jsxs("div",{className:"flex p-3 duration-300 divide-x rounded-lg bg-base-200 hover:ring-1 hover:ring-primary",children:[e.jsxs("div",{className:"grid flex-1 grid-cols-3 gap-3 pr-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n,alt:l,className:"w-full min-h-full h-[100px] object-cover object-center"}),e.jsx("div",{className:"absolute top-2 left-0 bg-primary text-primary-content rounded-r-2xl py-1 text-sm px-2 z-[1]",children:s})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx("h1",{className:"font-semibold",children:l}),e.jsx("div",{className:"text-sm text-neutral inner-html",dangerouslySetInnerHTML:{__html:o}}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(S,{className:"text-lg"})," ",e.jsx("span",{children:i})]})]})]}),e.jsx("div",{className:"w-[150px] h-full flex flex-col justify-end items-center pl-4",children:e.jsxs("div",{className:"w-full text-center",children:[e.jsxs("p",{className:"text-xs",children:["From ",(a=r==null?void 0:r.sale)==null?void 0:a.currency]}),e.jsx("h1",{className:"text-xl font-semibold",children:(m=r==null?void 0:r.sale)==null?void 0:m.amount}),e.jsx("p",{className:"mb-2 text-xs text-neutral",children:"Per Person"}),e.jsx(T,{to:`/tours/${t}`,className:"w-full h-8 min-h-0 font-normal normal-case rounded shadow-sm btn-sm btn btn-primary shadow-primary-focus",children:"View Details"})]})})]})},q=({tour_result:c})=>e.jsx("div",{className:"grid gap-4",children:c.map(t=>e.jsx(V,{tour:t},t==null?void 0:t.seo_code))}),A=()=>{const[c,t]=h.useState(),{country_code:l,city_name:n,tour_category_code:r,tour_name:o}=u.useState();return e.jsx("div",{className:"relative z-[9] bg-base-200 px-5 pb-5 pt-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid gap-5 lg:grid-flow-col",children:[e.jsxs("div",{className:"grid gap-5 sm:grid-cols-5",children:[e.jsx(H,{label:"Country",value:l,action:s=>u.update(i=>{var a;i.country_code=(a=s==null?void 0:s.at(0))==null?void 0:a.value})}),e.jsx(k,{label:"City",value:n,action:s=>u.update(i=>{var a;i.city_name=(a=s==null?void 0:s.at(0))==null?void 0:a.value})}),e.jsx(D,{label:"When?",minDate:"today",action:t,defaultValue:c})]}),e.jsx(I,{isStatic:!0})]})})},J=()=>{const{site_title:c}=y.useState(),[t]=C(),l=t.get("country_code")||"",n=t.get("city_name")||"",r=t.get("tour_category_code")||"",o=t.get("tour_name")||"",{login_key:s}=_.useState(d=>d.user_data)||{},{axiosInstance:i}=P(),{data:a=[],isLoading:m,error:g}=R({queryKey:["TOUR_SEARCH",l,n,r,o,s],queryFn:async()=>{var p;u.update(x=>{x.country_code=l,x.city_name=n,x.tour_category_code=r,x.tour_name=o});const d=await i.post("/secure?pathName=/service-tour/search",{country_code:l,city_name:n,tour_category_code:r,tour_name:o},{headers:{"is-open":s?"no":"yes"}});return((p=d.data)==null?void 0:p.status)==="success"?d.data.data:[]}});if(g)throw g;return e.jsxs("main",{className:"container min-h-screen pt-20 mb-16",children:[e.jsx(v,{children:e.jsxs("title",{children:["Tours Search",c?" - "+c:""]})}),m?e.jsx(z,{}):e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 mt-5 mb-5 lg:grid-cols-4",children:[e.jsx(B,{}),e.jsxs("section",{className:"lg:col-span-3",children:[e.jsx(F,{}),(a==null?void 0:a.length)>0&&e.jsx(q,{tour_result:a})]})]})]})]})};export{J as default};
