import{e as g,ag as A,o as e,ah as F,l as _,a4 as D,G,Q as T,a6 as P}from"./index.js";import{b as M,E as q}from"./pp.js";import{P as h,a as w,J as z,p as C,b as k,K as B,c as H,r as K,S as R,F as E}from"./App.js";import{I as S}from"./InputDate.js";import{S as L}from"./SingleSelect.js";const I=["JPG","JPEG","PNG","PDF"],V=({pax_id:d,isOpenScanPassportModal:t,setIsOpenScanPassportModal:i})=>{const[s,l]=g.useState(null),[b,n]=g.useState(null),[y,m]=g.useState(!1),{axiosInstance:f}=w(),{booking_tracking_id:j,member_id:c}=A.useState(),u=async a=>{var r,p,N;m(!0);try{if(a){n(URL.createObjectURL(a));const x=new FormData;x.append("documents_image_url",a),x.append("image_type","file"),x.append("member_id",c),x.append("booking_tracking_id",j),x.append("documents_type","passport"),x.append("pax_id",d);const o=await f.post("/tools/document-scan",x);((r=o==null?void 0:o.data)==null?void 0:r.status)==="success"&&l({...o.data.data,doc_dateofissue:(N=(p=o==null?void 0:o.data)==null?void 0:p.data)==null?void 0:N.doc_issuedate})}}catch(x){console.error(x)}finally{m(!1)}},v=a=>{if(a.preventDefault(),!s)return;const r=Object.keys(s).reduce((p,N)=>(s[N]&&(p[N]=s[N]),p),{});F(d,r),i(!1),l(null),a.target.reset(),n(null)};return e.jsx("div",{className:"modal",open:t,children:e.jsxs("div",{className:"max-w-4xl modal-box",children:[e.jsx("div",{className:"sticky top-0 z-20 bg-base-200",children:e.jsx("button",{onClick:()=>i(!1),className:"absolute -top-2 -right-2 btn btn-sm btn-circle btn-ghost",children:"✕"})}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"grid gap-8 mb-4 md:grid-cols-2",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center h-full bg-center bg-no-repeat bg-contain",style:{backgroundImage:`url("${b||M}")`},children:[e.jsx(q,{handleChange:u,name:"file",label:"Upload or drop your image right here",types:I,classes:"!h-full !min-h-[420px] !py-0 !min-w-0 !w-full !max-w-full !items-end !pb-4 scan_passport"}),y&&e.jsx("div",{className:"absolute z-10 bg-center bg-no-repeat bg-contain opacity-100 inset-[1px] bg-base-200",style:{backgroundImage:"url(https://i.pinimg.com/originals/1e/d5/47/1ed547006742581be6daece42fb2fd34.gif)"}})]}),e.jsxs("div",{className:"space-y-3 font-medium",children:[e.jsx("h5",{className:"mb-4 font-semibold uppercase",children:"Extracted Data"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Title"}),e.jsx("input",{autoComplete:"off",type:"text",onChange:a=>l({...s,title:a.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:s==null?void 0:s.title})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"First name"}),e.jsx("input",{autoComplete:"off",type:"text",onChange:a=>l({...s,first_name:a.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:s==null?void 0:s.first_name})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Last name"}),e.jsx("input",{autoComplete:"off",type:"text",onChange:a=>l({...s,last_name:a.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:s==null?void 0:s.last_name})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Country"}),e.jsx("input",{autoComplete:"off",type:"text",onChange:a=>l({...s,doc_country:a.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:s==null?void 0:s.doc_country})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Passport number"}),e.jsx("input",{autoComplete:"off",type:"text",onChange:a=>l({...s,doc_no:a.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:s==null?void 0:s.doc_no})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Birth date"}),e.jsx(S,{action:a=>l({...s,dob:a}),className:"w-full p-2 text-sm uppercase border-0 border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0 h-9",defaultValue:s==null?void 0:s.dob})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Birth place"}),e.jsx("input",{autoComplete:"off",type:"text",onChange:a=>l({...s,birth_place:a.target.value}),className:"w-full p-2 text-sm uppercase border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",value:s==null?void 0:s.birth_place})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Gender"}),e.jsx(L,{options:[{label:"Male",value:"M"},{label:"Female",value:"F"}],className:"w-full p-2 text-sm !border-0 !border-l-2 !rounded-md bg-neutral/10 !border-primary focus:outline-0 h-9",defaultValue:s==null?void 0:s.gender,action:a=>{var r;return l({...s,gender:(r=a==null?void 0:a.at(0))==null?void 0:r.value})}})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Issuance date"}),e.jsx(S,{action:a=>l({...s,doc_dateofissue:a}),className:"w-full p-2 text-sm uppercase border-0 border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0 h-9",defaultValue:s==null?void 0:s.doc_dateofissue})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"text-sm capitalize",children:"Expiry date"}),e.jsx(S,{action:a=>l({...s,doc_dateofexpiry:a}),className:"w-full p-2 text-sm uppercase border-0 border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0 h-9",defaultValue:s==null?void 0:s.doc_dateofexpiry})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!s,children:"Confirm"})})]})]})})};V.propTypes={isOpenScanPassportModal:h.bool.isRequired,setIsOpenScanPassportModal:h.func.isRequired,pax_id:h.any.isRequired};const U=({pax_id:d,isOpenExistingPassengerModal:t,setIsOpenExistingPassengerModal:i})=>{const{user_data:{member_id:s}}=_.useState(),{axiosInstance:l}=w(),[b,n]=g.useState(!1),[y,m]=g.useState([]),f=g.useRef();g.useEffect(()=>{var c;t&&((c=f.current)==null||c.focus())},[t]);const j=async c=>{var x;c.preventDefault(),n(!0);const u=c.target,v=u.first_name.value,a=u.last_name.value,r=u.contact_no.value,p=u.email_address.value,N={member_id:s,first_name:v,last_name:a,contact_no:r,email_address:p,limit_data:50};try{const o=await l.post("/tools/search-pax",N);((x=o==null?void 0:o.data)==null?void 0:x.status)==="success"?m(o.data.data):m([])}catch(o){m([]),console.error(o)}finally{n(!1)}};return e.jsx("div",{className:"modal",open:t,children:e.jsxs("div",{className:"max-w-4xl modal-box",children:[e.jsx("div",{className:"sticky top-0 bg-base-200",children:e.jsx("button",{onClick:()=>i(!1),className:"absolute -top-2 -right-2 btn btn-sm btn-circle btn-ghost",children:"✕"})}),e.jsxs("form",{onSubmit:j,children:[e.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Search Existing Passenger"}),e.jsxs("div",{className:"flex gap-4 mb-5 sm:items-end max-sm:flex-col",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"existing_firstName",className:"text-sm",children:"First Name"}),e.jsx("input",{autoComplete:"off",type:"text",name:"first_name",className:"w-full p-2 text-sm border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0",ref:f})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"existing_lastName",className:"text-sm",children:"Last Name"}),e.jsx("input",{autoComplete:"off",type:"text",name:"last_name",className:"w-full p-2 text-sm border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"existing_phoneNumber",className:"text-sm",children:"Phone Number"}),e.jsx("input",{autoComplete:"off",type:"text",inputMode:"numeric",name:"contact_no",className:"w-full p-2 text-sm border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"existing_email",className:"text-sm",children:"Email Address"}),e.jsx("input",{autoComplete:"off",type:"text",inputMode:"email",name:"email_address",className:"w-full p-2 text-sm border-l-2 rounded-md bg-neutral/10 border-primary focus:outline-0"})]})]}),e.jsx("button",{type:"submit",className:`h-10 min-h-0 rounded-md btn btn-primary ${b?"pointer-events-none":""}`,children:e.jsx(z,{})})]}),e.jsx("hr",{}),b?e.jsx("div",{className:"grid h-40 place-content-center",children:e.jsx("span",{className:"rounded-none loading loading-bars text-primary loading-md"})}):e.jsx("ul",{className:"w-full h-40 overflow-y-auto rounded-none xl:h-64 join join-vertical",children:y.map(c=>e.jsxs("li",{className:"flex items-center justify-between p-2 join-item hover:bg-primary/10 border-y border-primary/10",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"font-semibold text-primary",children:[c.title," ",c.first_name," ",c.last_name]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("p",{className:"text-sm text-neutral",children:["Email: ",c.email_address]})})]}),e.jsx("button",{onClick:u=>{F(d,{...c,wheelchair_required:c.wheelchair_required==="yes"?"yes":"no"}),i(!1),m([]),u.target.closest("form").reset()},type:"button",className:"normal-case rounded-full btn btn-sm btn-primary btn-outline",children:"Select"})]},D()))})]})]})})};U.propTypes={isOpenExistingPassengerModal:h.bool.isRequired,setIsOpenExistingPassengerModal:h.func.isRequired,pax_id:h.any.isRequired};const Z=()=>{const{axiosInstance:d}=w(),[t]=C(),i=t.get("tracking_id"),{user_data:{member_id:s}}=_.useState(),{data:l,isLoading:b}=k({queryKey:["ADDITIONAL_BAGGAGE",i,s],queryFn:async()=>(await d.post("/flight/get-baggage-option",{booking_tracking_id:i,member_id:s})).data});return e.jsx("dialog",{id:"baggage_modal",className:"modal",children:e.jsxs("form",{method:"dialog",className:"relative w-11/12 max-w-3xl p-0 space-y-3 rounded-lg modal-box bg-base-200",children:[e.jsxs("div",{className:"sticky top-0 z-10 px-2 pt-2 bg-base-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("h6",{className:"p-2 font-medium",children:"Select additional baggage"}),e.jsx("button",{type:"submit",className:"btn btn-sm btn-circle btn-ghost",children:"✕"})]}),e.jsx("hr",{})]}),b?e.jsx(B,{}):l!=null&&l.data?e.jsxs("div",{className:"px-4",children:[e.jsx("p",{className:"mb-3 text-sm",children:"Carry more than your free baggage allowance by purchasing in advance"}),e.jsx("div",{className:"flex flex-col w-full space-y-0 accordion-container",children:e.jsxs("div",{className:"rounded-t-lg ac",children:[e.jsx("h2",{className:"ac-header",children:e.jsx("button",{type:"button",className:"ac-trigger focus:!text-base-content",children:e.jsx("h3",{className:"py-2 font-semibold",children:"Flight 1"})})}),e.jsx("div",{className:"ac-panel",children:e.jsx("div",{className:"grid grid-cols-2 gap-1 p-4 md:grid-cols-3 lg:grid-cols-5",children:l.data.map(n=>n.weight>0?e.jsx("div",{className:"w-full join join-vertical",children:e.jsxs("div",{className:"w-full overflow-hidden text-xs border rounded shadow-sm border-primary baggage join-item",children:[e.jsxs("div",{className:"p-3 space-y-3 text-center border-b rounded-none bg-primary/5",children:[e.jsxs("p",{children:["Add bag of ",n.title]}),e.jsx("img",{className:"w-12 mx-auto",src:"https://www.nannybag.com/images/home/luggage.png",alt:""}),e.jsxs("p",{children:[G(n.currency)," ",e.jsx("span",{className:"unit-price",children:n.sell_price})]})]}),e.jsxs("div",{className:"p-2 text-center rounded-none",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("button",{type:"button",className:"btn btn-xs btn-primary btn-outline btn-circle minusBtn",disabled:!0,children:"-"}),e.jsx("input",{autoComplete:"off",type:"text",inputMode:"numeric",max:"5",className:"w-10 p-0 text-xs text-center bg-transparent value input input-sm focus:outline-none hide_arrow_key",defaultValue:n.pieces||0,readOnly:!0}),e.jsx("button",{type:"button",className:"btn btn-xs btn-primary btn-outline btn-circle plusBtn",children:"+"})]}),e.jsxs("p",{className:"text-sm text-center text-neutral/70 shrink-0",children:["Added"," ",e.jsx("span",{className:"bag-qty",children:n.pieces||0})," ","bag"]}),e.jsx("input",{autoComplete:"off",type:"text",className:"hidden person-total-price"})]})]})},n.select_code):"")})})]})}),e.jsxs("div",{className:"sticky bottom-0 justify-between py-2 mt-2 modal-action bg-base-200",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 px-2 py-1 rounded",children:[e.jsx("p",{className:"font-medium",children:"Total ="}),e.jsxs("p",{children:[e.jsx("span",{className:"total-price",children:"0"})," BDT"]})]}),e.jsx("button",{type:"button",className:"normal-case btn btn-primary",children:"Confirm"})]})]}):e.jsx("p",{className:"px-5 py-12 text-center text-error",children:"Sorry! There is currently no option for baggage."})]})})},ee=()=>{const{axiosInstance:d}=w(),[t]=C(),i=t.get("tracking_id"),{user_data:{member_id:s}}=_.useState();return k({queryKey:["Seat_Plan",i,s],queryFn:async()=>(await d.post("/flight/get-seat-option",{booking_tracking_id:i,member_id:s})).data}),e.jsx("dialog",{id:"seat_modal",className:"modal",children:e.jsxs("form",{method:"dialog",className:"relative w-11/12 max-w-3xl p-0 space-y-3 rounded-lg modal-box bg-base-200",children:[e.jsxs("div",{className:"sticky top-0 z-10 px-2 pt-2 bg-base-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("h6",{className:"p-2 font-medium",children:"Select seats"}),e.jsx("button",{type:"submit",className:"btn btn-sm btn-circle btn-ghost",children:"✕"})]}),e.jsx("hr",{})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h6",{className:"mb-3 font-medium uppercase",children:"Legend"}),e.jsxs("div",{className:"flex flex-wrap justify-between gap-2 mb-6",children:[e.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[e.jsx("div",{className:"w-9 h-9 rounded-md bg-[#7D3B95]"}),e.jsxs("div",{className:"text-[10px]",children:[e.jsx("p",{children:"Solo Seat"}),e.jsx("p",{className:"font-semibold",children:"SGD 195.40"}),e.jsx("a",{href:"#",className:"text-sky-500",children:"More Info"})]})]}),e.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[e.jsx("div",{className:"bg-yellow-500 rounded-md w-9 h-9"}),e.jsxs("div",{className:"text-[10px]",children:[e.jsx("p",{children:"Extra Legroom Seat"}),e.jsx("p",{className:"font-semibold",children:"SGD 167.50"})]})]}),e.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[e.jsx("div",{className:"bg-green-800 rounded-md w-9 h-9"}),e.jsx("div",{className:"text-[10px]",children:e.jsx("p",{children:"Standard seat"})})]}),e.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[e.jsx("div",{className:"rounded-md w-9 h-9 bg-primary"}),e.jsx("div",{className:"text-[10px]",children:e.jsx("p",{children:"Selected seat(s)"})})]}),e.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[e.jsx("div",{className:"bg-gray-300 rounded-md w-9 h-9"}),e.jsx("div",{className:"text-[10px]",children:e.jsx("p",{children:"Not available"})})]})]}),e.jsx("div",{className:"flex flex-col w-full space-y-0 accordion-container",children:e.jsxs("div",{className:"is-active",children:[e.jsx("h2",{className:"ac-header",children:e.jsx("button",{type:"button",className:"ac-trigger !font-medium focus:!text-base-content",children:e.jsx("h3",{className:"py-2 font-semibold",children:"Flight 1"})})}),e.jsx("div",{className:"px-3 ac-panel",children:e.jsx("div",{className:"py-2 tab-panel",children:e.jsxs("div",{className:"overflow-hidden rounded panel-group",children:[e.jsx("div",{className:"p-4 border border-b-0 rounded-t bg-base-200",children:e.jsxs("h1",{className:"text-xl font-medium",children:[e.jsx("i",{className:"fa-regular fa-paper-plane text-warning"})," ","Bangkok (BKK) to Singapore (SIN)"]})}),e.jsxs("div",{className:"flex items-center justify-between gap-5 p-5 bg-gray-100 border border-b-0",children:[e.jsxs("div",{className:"flex-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Aircraft Name:"})," US Bangla Airlines"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Aircraft Code:"})," ","R456"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total Seat:"})," 50"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Available Seat:"})," ","24"]})]}),e.jsx("button",{type:"button",className:"h-10 min-h-0 text-white normal-case shadow-sm btn btn-warning shadow-warning/50",children:"View Aircraft Picture"})]}),e.jsx("div",{className:"border panel bg-base-100",children:e.jsxs("div",{className:"seats text-[8px] mx-auto sm:text-xs lg:text-sm font-light text-center space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{}),e.jsx("div",{children:"A"}),e.jsx("div",{children:"C"}),e.jsx("div",{}),e.jsx("div",{children:"D"}),e.jsx("div",{children:"E"}),e.jsx("div",{children:"F"}),e.jsx("div",{children:"G"}),e.jsx("div",{}),e.jsx("div",{children:"H"}),e.jsx("div",{children:"K"}),e.jsx("div",{})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"31"}),e.jsx("div",{className:"legroom",children:"31A"}),e.jsx("div",{className:"legroom",children:"31C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"31D"}),e.jsx("div",{className:"standard",children:"31E"}),e.jsx("div",{className:"standard",children:"31F"}),e.jsx("div",{className:"standard",children:"31G"}),e.jsx("div",{}),e.jsx("div",{className:"legroom",children:"31H"}),e.jsx("div",{className:"legroom",children:"31K"}),e.jsx("div",{children:"31"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"32"}),e.jsx("div",{className:"standard",children:"32A"}),e.jsx("div",{className:"standard",children:"32C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"32D"}),e.jsx("div",{className:"standard",children:"32E"}),e.jsx("div",{className:"standard",children:"32F"}),e.jsx("div",{className:"standard",children:"32G"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"32H"}),e.jsx("div",{className:"standard",children:"32K"}),e.jsx("div",{children:"32"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"33"}),e.jsx("div",{className:"standard",children:"33A"}),e.jsx("div",{className:"standard",children:"33C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"33D"}),e.jsx("div",{className:"standard",children:"33E"}),e.jsx("div",{className:"standard",children:"33F"}),e.jsx("div",{className:"standard",children:"33G"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"33H"}),e.jsx("div",{className:"standard",children:"33K"}),e.jsx("div",{children:"33"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"34"}),e.jsx("div",{className:"standard",children:"34A"}),e.jsx("div",{className:"standard",children:"34C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"34D"}),e.jsx("div",{className:"standard",children:"34E"}),e.jsx("div",{className:"standard",children:"34F"}),e.jsx("div",{className:"standard",children:"34G"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"34H"}),e.jsx("div",{className:"standard",children:"34K"}),e.jsx("div",{children:"34"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"35"}),e.jsx("div",{className:"standard",children:"35A"}),e.jsx("div",{className:"standard",children:"35C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"35D"}),e.jsx("div",{className:"standard",children:"35E"}),e.jsx("div",{className:"standard",children:"35F"}),e.jsx("div",{className:"standard",children:"35G"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"35H"}),e.jsx("div",{className:"standard",children:"35K"}),e.jsx("div",{children:"35"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"36"}),e.jsx("div",{className:"standard",children:"36A"}),e.jsx("div",{className:"standard",children:"36C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"36D"}),e.jsx("div",{className:"standard",children:"36E"}),e.jsx("div",{className:"standard",children:"36F"}),e.jsx("div",{className:"standard",children:"36G"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"36H"}),e.jsx("div",{className:"standard",children:"36K"}),e.jsx("div",{children:"36"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"37"}),e.jsx("div",{className:"standard",children:"37A"}),e.jsx("div",{className:"standard",children:"37C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"37D"}),e.jsx("div",{className:"standard",children:"37E"}),e.jsx("div",{className:"standard",children:"37F"}),e.jsx("div",{className:"standard",children:"37G"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"37H"}),e.jsx("div",{className:"standard",children:"37K"}),e.jsx("div",{children:"37"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"38"}),e.jsx("div",{className:"standard",children:"38A"}),e.jsx("div",{className:"standard",children:"38C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"38D"}),e.jsx("div",{className:"standard",children:"38E"}),e.jsx("div",{className:"standard",children:"38F"}),e.jsx("div",{className:"standard",children:"38G"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"38H"}),e.jsx("div",{className:"standard",children:"38K"}),e.jsx("div",{children:"38"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"39"}),e.jsx("div",{className:"standard",children:"39A"}),e.jsx("div",{className:"standard",children:"39C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"39D"}),e.jsx("div",{className:"standard",children:"39E"}),e.jsx("div",{className:"standard",children:"39F"}),e.jsx("div",{className:"standard",children:"39G"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"39H"}),e.jsx("div",{className:"standard",children:"39K"}),e.jsx("div",{children:"39"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"40"}),e.jsx("div",{}),e.jsx("div",{className:"solo",children:"40C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"40D"}),e.jsx("div",{className:"standard",children:"40E"}),e.jsx("div",{className:"standard",children:"40F"}),e.jsx("div",{className:"standard",children:"40G"}),e.jsx("div",{}),e.jsx("div",{className:"solo",children:"40H"}),e.jsx("div",{}),e.jsx("div",{children:"40"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"41"}),e.jsx("div",{}),e.jsx("div",{className:"solo",children:"41C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"41D"}),e.jsx("div",{className:"standard",children:"41E"}),e.jsx("div",{className:"standard",children:"41F"}),e.jsx("div",{className:"standard",children:"41G"}),e.jsx("div",{}),e.jsx("div",{className:"solo",children:"41H"}),e.jsx("div",{}),e.jsx("div",{children:"41"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"42"}),e.jsx("div",{}),e.jsx("div",{className:"solo",children:"42C"}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"42D"}),e.jsx("div",{className:"standard",children:"42E"}),e.jsx("div",{className:"standard",children:"42F"}),e.jsx("div",{className:"standard",children:"42G"}),e.jsx("div",{}),e.jsx("div",{className:"solo",children:"42H"}),e.jsx("div",{}),e.jsx("div",{children:"42"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("div",{children:"43"}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{className:"standard",children:"43D"}),e.jsx("div",{className:"standard",children:"43E"}),e.jsx("div",{className:"standard",children:"43F"}),e.jsx("div",{className:"standard",children:"43G"}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{children:"43"})]})]})})]})})})]})})]}),e.jsx("div",{className:"sticky bottom-0 p-2 px-4 mt-4 modal-action bg-base-200",children:e.jsx("button",{type:"",className:"normal-case btn btn-primary",children:"Confirm"})})]})})},se=()=>{const{axiosInstance:d}=w(),[t]=C(),i=t.get("tracking_id"),{user_data:{member_id:s}}=_.useState();return k({queryKey:["MEAL_OPTION",i,s],queryFn:async()=>(await d.post("/flight/get-meal-option",{booking_tracking_id:i,member_id:s})).data}),e.jsx("dialog",{id:"meal_modal",className:"modal",children:e.jsxs("form",{method:"dialog",className:"relative w-11/12 max-w-2xl p-4 rounded-lg modal-box",children:[e.jsx("button",{onClick:()=>document.getElementById("meal_modal").close(),type:"button",className:"absolute btn btn-sm btn-circle btn-ghost right-2 top-2",children:"✕"}),e.jsx("h6",{className:"mb-2 font-medium",children:"Select your meal"}),e.jsx("hr",{className:"mb-4"}),e.jsx("div",{className:"flex flex-col space-y-0 accordion-container",children:e.jsxs("div",{className:"ac",children:[e.jsx("h2",{className:"ac-header",children:e.jsx("button",{type:"button",className:"ac-trigger focus:!text-base-content",children:e.jsx("h3",{className:"font-semibold",children:"Flight 1"})})}),e.jsx("div",{className:"ac-panel",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 p-4 md:grid-cols-4 meal-selection",children:e.jsxs("div",{className:"w-full join join-vertical",children:[e.jsxs("div",{className:"w-full overflow-hidden text-xs border border-b-0 rounded shadow-sm border-primary meals join-item",children:[e.jsxs("div",{className:"p-3 space-y-3 text-center border-b rounded-none bg-primary/5",children:[e.jsx("p",{children:"Protein Veg"}),e.jsx("img",{className:"w-12 mx-auto",src:"https://showkat.innovatedemo.com/inno-travel-tech/resources/images/meals/meal_green.svg",alt:""}),e.jsxs("p",{children:["BDT ",e.jsx("span",{className:"unit-price",children:"21728"})]})]}),e.jsxs("div",{className:"p-2 text-center rounded-none",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("button",{type:"button",className:"btn btn-xs btn-primary btn-outline btn-circle minusBtn",disabled:!0,children:"-"}),e.jsx("input",{autoComplete:"off",type:"text",inputMode:"numeric",max:"5",className:"w-8 text-xs text-center bg-transparent value input input-sm focus:outline-none",value:"0",readOnly:!0}),e.jsx("button",{type:"button",className:"btn btn-xs btn-primary btn-outline btn-circle plusBtn",children:"+"})]}),e.jsxs("p",{className:"text-sm text-center text-neutral/70",children:["Added ",e.jsx("span",{className:"meal-qty",children:"0"})," meal"]})]})]}),e.jsx("button",{type:"button",className:"normal-case btn btn-sm btn-primary join-item btn-outline",children:"Select"})]})})})]})}),e.jsxs("div",{className:"sticky bottom-0 justify-between py-2 mt-2 modal-action bg-base-200",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 px-2 py-1 rounded",children:[e.jsx("p",{className:"font-medium",children:"Total ="}),e.jsxs("p",{children:[e.jsx("span",{className:"total-price",children:"0"})," BDT"]})]}),e.jsx("button",{type:"",className:"normal-case btn btn-primary",children:"Confirm"})]})]})})},ae=({payment_options:d,pay_tracking_id:t,checkout_url:i})=>{const[s,l]=g.useState((d==null?void 0:d.at(0))||null),[b,n]=g.useState(!1),{gateway:y}=s||{},{currency:m,amount:f,charges:j,payable:c}=y||{},u=async()=>{var v,a;if(!b){n(!0);try{const r={pay_tracking_id:t,gateway_partner_code:s==null?void 0:s.gateway_partner_code},p=await K.post(`${i}/pay`,r);if(R.close(),((v=p.data)==null?void 0:v.status)==="success")window.location.replace((a=p.data)==null?void 0:a.gateway_redirect_url);else throw new Error("Failed to process payment")}catch(r){console.error(r),T("error","Error",r==null?void 0:r.message)}finally{n(!1)}}};return e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2 text-start",children:[e.jsx("div",{className:"p-5 bg-primary text-primary-content",children:e.jsxs("div",{children:[e.jsx("h1",{children:"Summary of Flight Booking Payments"}),e.jsxs("ul",{className:"pl-3 mt-4 text-sm leading-relaxed list-disc list-inside list text-primary-content/80",children:[e.jsxs("li",{className:"capitalize",children:["Payment Option: ",s==null?void 0:s.gateway_name]}),e.jsxs("li",{children:["Amount: ",f," ",m]}),e.jsxs("li",{children:["Fixed Charge: ",j==null?void 0:j.fixed_charge," ",m]}),e.jsxs("li",{children:["Service Fee: ",j==null?void 0:j.service_fee," ",m]}),e.jsxs("li",{children:["Total Payable: ",c," ",m]})]})]})}),e.jsxs("div",{className:"p-5 text-start",children:[e.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Select Payment Option"}),e.jsx("div",{className:"grid grid-cols-2 gap-5",children:d==null?void 0:d.map(v=>{const{gateway_name:a,gateway_code:r}=v||{};return e.jsxs("div",{onClick:()=>l(v),className:H("capitalize flex justify-center items-center rounded w-full ring-base-content/20 h-16 ring-[1px] !border-l-8 border-2 border-transparent cursor-pointer text-lg font-bold text-primary gap-1",(s==null?void 0:s.gateway_name)===a&&"border-warning ring-0"),children:[e.jsx("img",{src:r==="stripe"?"/stripe_logo.webp":"/bkash_logo.png",alt:"",className:"w-8"})," ",e.jsx("span",{children:a})]},r)})}),e.jsx("div",{className:"flex justify-end mt-12",children:e.jsx("button",{onClick:u,className:"h-10 min-h-0 text-base font-normal normal-case rounded btn btn-primary",children:b?"Processing...":"Pay Now"})})]})]})},le=()=>e.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 mt-4 text-sm rounded-lg custom-shadow bg-base-300",children:[e.jsx("p",{children:"Secure payment with"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"https://global-icons-images.s3.ap-southeast-1.amazonaws.com/mastercard.svg",height:"20",alt:""}),e.jsx("img",{src:"https://global-icons-images.s3.ap-southeast-1.amazonaws.com/visa.svg",height:"20",alt:""}),e.jsx("img",{src:"https://global-icons-images.s3.ap-southeast-1.amazonaws.com/amercia-express.svg",height:"20",alt:""})]})]}),O=({isActive:d,setIsActive:t,data:i})=>{const{status:s,text:l}=i||{};if(s==="active")return e.jsx("div",{className:"modal",open:d,children:e.jsxs("div",{className:"max-w-3xl p-0 rounded-md modal-box bg-base-200",children:[e.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Terms & Conditions"}),e.jsx("button",{onClick:()=>t(!1),className:"btn btn-sm btn-circle btn-ghost",children:e.jsx(E,{})})]}),e.jsx("div",{className:"px-5 max-h-[70vh] h-full overflow-auto",children:e.jsx("div",{className:"p-3",children:l?e.jsx("div",{dangerouslySetInnerHTML:{__html:P(l)}}):e.jsx("p",{className:"py-12 text-center text-error",children:"No Terms & Conditions"})})}),e.jsx("div",{className:"flex justify-end gap-3 px-4 py-2 mt-2 border-t bg-base-300",children:e.jsx("button",{onClick:()=>t(!1),className:"min-h-0 normal-case bg-white btn h-11 hover:bg-white border-primary hover:border-primary",children:"Close"})})]})})};O.propTypes={isActive:h.bool.isRequired,setIsActive:h.func.isRequired,data:h.object};const J=({isActive:d,setIsActive:t,data:i})=>{const{status:s,text:l}=i||{};if(s==="active")return e.jsx("div",{className:"modal",open:d,children:e.jsxs("div",{className:"max-w-3xl p-0 rounded-md modal-box bg-base-200",children:[e.jsxs("div",{className:"sticky top-0 flex items-start justify-between px-4 py-2 text-white rounded-t-md bg-primary-focus",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Cancellation Policies"}),e.jsx("button",{onClick:()=>t(!1),className:"btn btn-sm btn-circle btn-ghost",children:e.jsx(E,{})})]}),e.jsx("div",{className:"px-5 max-h-[70vh] h-full overflow-auto",children:e.jsx("div",{className:"p-3",children:l?e.jsx("div",{dangerouslySetInnerHTML:{__html:P(l)}}):e.jsx("p",{className:"py-12 text-center text-error",children:"No Cancellation Policies"})})}),e.jsx("div",{className:"flex justify-end gap-3 px-4 py-2 mt-2 border-t bg-base-300",children:e.jsx("button",{onClick:()=>t(!1),className:"min-h-0 normal-case bg-white btn h-11 hover:bg-white border-primary hover:border-primary",children:"Close"})})]})})};J.propTypes={isActive:h.bool.isRequired,setIsActive:h.func.isRequired,data:h.object};export{Z as A,U as E,O as F,ae as P,V as S,ee as a,se as b,le as c,J as d};
