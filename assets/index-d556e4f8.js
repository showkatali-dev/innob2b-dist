import{e as F,q as e,o as le,u as ge,m as ce,T as ie,P as X,ab as ke,I as K,aD as Ce,aE as Se,aF as Fe,ad as oe,H as ne,aw as Te,ax as Ie,ay as Ee,R as pe,az as be}from"./index-0b0e509a.js";import{P as A,R as Ae,U as Be,cQ as $e,d as xe,S as de,V as re,Z as Me,_ as Ue,v as De,$ as Oe,a0 as Re,a1 as Ye,a2 as Le,a4 as Ve,e as Pe,a5 as qe,a6 as He,L as ae,a7 as je,a8 as ze,a9 as Ge,m as Qe,j as We}from"./App-f4418714.js";import{S as Je,U as Ke,a as Ze,b as Xe,R as es}from"./RegenerateSearch-9c52cc07.js";import{w as ss}from"./sweetalert2-react-content.es-0baca33c.js";import{e as as,b as ts}from"./index.esm-ea538e87.js";import{F as rs}from"./FlightItineraryData-a29a0fd7.js";import{A as ns}from"./ActivityLogs-139e80da.js";import{I as ls}from"./InputDate-9c5df192.js";import{f as cs,M as is}from"./navigation-54a36919.js";import{S as os,N as ds,a as J}from"./navigation-65def122.js";import{R as xs}from"./RefundData-62566d7c.js";const fe=({passenger:d})=>{const[m,r]=F.useState(!1);return e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[e.jsxs("button",{onClick:()=>r(!0),className:"normal-case rounded btn btn-primary btn-xs",children:[e.jsx(Ae,{className:"text-base"})," Update Doc"]}),e.jsx(Je,{passenger:d,isOpenScanPassportModal:m,setIsOpenScanPassportModal:r})]})};fe.propTypes={passenger:A.object.isRequired};const Ne=({passenger:d})=>{const[m,r]=F.useState(!1);return e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsxs("button",{onClick:()=>r(!0),className:"normal-case rounded btn btn-secondary btn-xs",children:[e.jsx(Be,{className:"text-base"})," Update Contact"]}),e.jsx(Ke,{passenger:d,isOpenContactModal:m,setIsOpenContactModal:r})]})};Ne.propTypes={passenger:A.object.isRequired};const _e=({booking_details:d,can_modify:m,pax_id:r,refetchData:p})=>{var k,S,I,h,i;const{member_id:C}=((k=ce.useState())==null?void 0:k.user_data)||{},[c,f]=F.useState({tracking_id:(d==null?void 0:d.tracking_id)||"",member_id:C,passenger:((I=(S=d==null?void 0:d.pax)==null?void 0:S.data)==null?void 0:I.map(x=>({pax_id:x==null?void 0:x.pax_id,ticket_number:x==null?void 0:x.ticket_number})))||[]}),[_,a]=F.useState(!1),[b,w]=F.useState(null),{axiosInstance:N}=xe(),v=async x=>{var y,l,j;if(x.preventDefault(),!_){w(null),a(!0);try{const o=await N.post("/flight/update-booking-info",c);if(((y=o.data)==null?void 0:y.status)==="success")de.close(),p(),ie("success","Success!",(l=o.data)==null?void 0:l.reason);else throw new Error((j=o==null?void 0:o.data)==null?void 0:j.reason)}catch(o){console.error(o),w(o.message)}finally{a(!1)}}};return e.jsxs("form",{onSubmit:v,className:"relative px-6 pt-4 text-start",children:[e.jsx("h3",{className:"pb-2 text-lg font-semibold",children:"Update Ticket Number"}),e.jsx("hr",{className:"mb-4"}),b&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 py-1 pl-4 mx-auto border border-l-4 rounded-r border-warning text-warning w-fit",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{children:e.jsx(as,{})}),e.jsx("div",{className:"text-sm",children:b})]}),e.jsx("button",{onClick:()=>w(null),className:"btn btn-ghost btn-circle btn-sm text-error hover:bg-transparent hover:text-red-500",children:e.jsx(ts,{})})]})}),e.jsx("div",{className:"flex flex-col gap-5",children:(m==null?void 0:m.ticket_number)==="YES"&&e.jsxs("label",{className:"gap-1 form-control",children:[e.jsx("span",{className:"text-sm",children:"Ticket Number"}),e.jsx("input",{type:"text",name:"supplier_confirmation_id",className:"w-full h-10 text-sm bg-transparent rounded input input-bordered min-h-8 focus:outline-0 focus:border-neutral/30",defaultValue:((i=(h=c==null?void 0:c.passenger)==null?void 0:h.find(x=>x.pax_id===r))==null?void 0:i.ticket_number)||"",onChange:x=>f(y=>{var l;return{...y,passenger:(l=y==null?void 0:y.passenger)==null?void 0:l.map(j=>(j.pax_id===r&&(j.ticket_number=x.target.value),j))}})})]})}),e.jsxs("div",{className:"flex justify-end gap-4 mt-5",children:[e.jsx("button",{onClick:()=>de.close(),type:"button",className:"h-10 min-h-0 normal-case rounded-md btn btn-primary btn-outline",children:"Close"}),e.jsx("button",{type:"submit",className:"h-10 min-h-0 normal-case rounded-md btn btn-primary",children:_?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"animate-spin"})," Updating..."]}):e.jsx(e.Fragment,{children:"Update"})})]})]})};_e.propTypes={booking_details:A.object.isRequired,can_modify:A.object,pax_id:A.string,refetchData:A.func};const ye=({booking_details:d,pax_id:m})=>{var _;const{can_modify:r}=((_=le.useState())==null?void 0:_.booking_manage)||{},p=ss(de),C=ge(),c=()=>{C.invalidateQueries(["FLIGHT_BOOKING_DETAILS"])},f=()=>{p.fire({html:e.jsx(_e,{booking_details:d,can_modify:r,refetchData:c,pax_id:m}),showConfirmButton:!1,showCloseButton:!0,customClass:{popup:"w-full max-w-sm",htmlContainer:"!m-0",closeButton:"text-red-500"}})};return(r==null?void 0:r.ticket_number)==="NO"?null:e.jsxs("button",{onClick:f,className:"mt-2 text-white normal-case rounded btn btn-warning btn-xs",children:[e.jsx($e,{className:"text-base"})," Update Ticket No."]})};ye.propTypes={booking_details:A.object.isRequired,pax_id:A.string};const ve=({booking_details:d,isImportGDSPNR:m})=>{const{general:{booking_id:r,airlines_pnr:p,service_type:C,timestamp:c,last_update:f,supplier_confirmation_id:_},booking:{booking_status:a,ticket_status:b},flight:{search_parameter:w,departure:N,arrival:v,departure_airport:k,arrival_airport:S,flight_group:I},pax:{data:h},partner:i,terms:x,cancellation_terms:y}=d,{system_config:l,booking_manage:j}=le.useState(),{flight_doc_file_required:o}=l||{},{flight_update_baggage:T,flight_update_contacts:B,flight_update_doc:E,flight_update_meal:R,flight_update_seat:Q}=j||{},Z=window.location.origin;return e.jsxs("div",{className:"tab-pane",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-5 mb-5 lg:grid-cols-3",children:[e.jsx("div",{className:"rounded card bg-info border-info text-white-50",style:{minHeight:"190px"},children:e.jsxs("div",{className:"p-5 text-center card-body",children:[e.jsx("h5",{className:"font-semibold",children:"Departure"}),e.jsx("h2",{className:"text-white text-[28px]",children:k}),e.jsx("h3",{className:"text-2xl text-white",children:X(N.date).format(l.default_date_format_print)}),e.jsx("h5",{className:"mt-2 font-semibold",children:N.time})]})}),e.jsx("div",{className:"rounded card bg-info border-info text-white-50",style:{minHeight:"190px"},children:e.jsxs("div",{className:"p-5 text-center card-body",children:[e.jsx("h5",{className:"font-semibold",children:"Arrival"}),e.jsx("h2",{className:"text-white text-[28px]",children:S}),e.jsx("h3",{className:"text-2xl text-white",children:X(v.date).format(l.default_date_format_print)}),e.jsx("h5",{className:"mt-2 font-semibold",children:v.time})]})}),e.jsx("div",{className:"border rounded card bg-base-100",children:e.jsx("div",{className:"p-5 text-sm card-body",style:{minHeight:"190px"},children:e.jsxs("ul",{className:"space-y-0.5",children:[e.jsx("li",{children:e.jsx("p",{className:"pb-2",children:"Booking Summery:"})}),e.jsxs("li",{className:"text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Created:"})," ",X(new Date(c*1e3)).format(`${l.default_date_format_print} HH:mm a`)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Update:"})," ",X(new Date(f*1e3)).format(`${l.default_date_format_print} HH:mm a`)]})]}),e.jsx("li",{children:e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Service Type:"})," ",C]})}),e.jsx("li",{children:e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Journey Type:"})," ",w.journey_type]})}),e.jsx("li",{children:e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:" Booking Status:"})," ",e.jsx("span",{className:`badge badge-sm text-white text-[10px] capitalize ${a==="hold"?"badge-warning":a==="confirm"?"badge-success":"badge-info"}`,children:a})]})}),a==="confirm"&&e.jsx("li",{children:e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Ticket Status:"})," ",e.jsx("span",{className:"badge badge-sm badge-secondary text-[10px] capitalize",children:b})]})})]})})})]}),e.jsx("div",{className:"w-full mb-5 overflow-x-auto",children:e.jsxs("table",{className:"table text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"p-2 bg-neutral/5 text-info",children:[!m&&e.jsx("th",{className:"text-sm text-center border",children:"Booking Id"}),e.jsx("th",{className:"text-sm text-center border",children:"Airlines PNR"}),e.jsx("th",{className:"text-sm text-center border",children:"Order Id (GDS PNR)"}),e.jsx("th",{className:"text-sm text-center border",children:"Booking Class"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[!m&&e.jsx("td",{className:"text-center border",children:r}),e.jsx("td",{className:"text-center border",children:p}),e.jsx("td",{className:"text-center border",children:_}),e.jsx("td",{className:"text-center border",children:w.booking_class})]})})]})}),e.jsxs("div",{className:"mb-5",children:[e.jsx("h4",{className:"text-[22px] font-semibold mb-1",children:"Flight Details"}),e.jsx(rs,{flight_group:I})]}),e.jsxs("div",{className:"mb-5 border rounded",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h4",{className:"font-semibold",children:"Traveler Details"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs("table",{className:"table text-sm table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-sm border-b",children:"PASSENGER NAME"}),e.jsx("th",{className:"text-sm border-b",children:"BAGGAGE"}),e.jsx("th",{className:"text-sm border-b",children:"Action"})]})}),e.jsx("tbody",{children:h.map(t=>e.jsxs("tr",{className:"border-b-0",children:[e.jsxs("td",{className:"align-top",children:[e.jsx("div",{children:e.jsx("div",{className:"rounded badge badge-secondary",children:t.pax_type==="ADT"?e.jsxs(e.Fragment,{children:[e.jsx(Me,{})," Adult"]}):t.pax_type==="CNN"?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{})," Child"]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{})," Infant"]})})}),e.jsxs("h2",{className:"text-lg font-semibold",children:[t.title," ",t.first_name," ",t.last_name]}),e.jsxs("p",{children:["Passport No: ",t.doc_no]}),e.jsxs("p",{children:["Passport Expire: ",t.doc_dateofexpiry]}),e.jsxs("p",{children:["Passport Country:"," ",e.jsx("img",{src:`${Z}/flags/${t.doc_country}.jpg`,alt:"SG",className:"inline",style:{height:"13px"}})," ",t.doc_country]}),e.jsxs("p",{children:["Date of Birth: ",t.dob]}),(t==null?void 0:t.contact_no)&&e.jsxs("p",{children:["Contact No: ",t.ticket_number]}),(t==null?void 0:t.ticket_number)&&e.jsxs("p",{children:["Ticket No: ",t.ticket_number]}),(t==null?void 0:t.passport_copy)&&e.jsxs("a",{href:t.passport_copy,target:"_blank",rel:"noreferrer",className:"text-xs font-medium text-primary hover:text-primary-focus",children:["View passport ",e.jsx(Oe,{})]})]}),e.jsxs("td",{className:"align-top",children:[e.jsx("p",{children:"Baggage Allowance (Included Baggage):"}),I==null?void 0:I.map(s=>{var $;return($=s==null?void 0:s.routes)==null?void 0:$.map((u,Y)=>{var M,n,q,U,H,z,L,D,V,P,W,g,O,ee,se;return e.jsxs("div",{className:"mb-1",children:[e.jsxs("h6",{children:[e.jsx("strong",{children:u==null?void 0:u.origin})," to"," ",e.jsx("strong",{children:u==null?void 0:u.destination}),":"]}),e.jsxs("p",{className:"text-xs",children:[e.jsx(Re,{})," Checked Baggage:"," ",(q=(n=(M=u==null?void 0:u.baggages)==null?void 0:M.checked)==null?void 0:n[t.pax_type])!=null&&q.weight?`${(z=(H=(U=u==null?void 0:u.baggages)==null?void 0:U.checked)==null?void 0:H[t.pax_type])==null?void 0:z.weight} ${(V=(D=(L=u==null?void 0:u.baggages)==null?void 0:L.checked)==null?void 0:D[t.pax_type])==null?void 0:V.unit}`:`${(g=(W=(P=u==null?void 0:u.baggages)==null?void 0:P.checked)==null?void 0:W[t.pax_type])==null?void 0:g.pieceCount} pieces`," "]}),e.jsxs("p",{className:"text-xs",children:[e.jsx(Ye,{})," Hand Baggage:"," ",(t==null?void 0:t.pax_type)!=="INF"&&((se=(ee=(O=u==null?void 0:u.baggages)==null?void 0:O.carry_on)==null?void 0:ee[t.pax_type])==null?void 0:se.title)||"7 kg*"]})]},Y)})}),e.jsx("br",{}),e.jsx("p",{children:"Additional:"}),t.baggage_option?e.jsx("p",{children:t.baggage_option}):e.jsx("p",{children:"N/A"}),T.toUpperCase()==="ACTIVE"&&e.jsx("button",{title:"Update Baggage",className:"normal-case border-transparent rounded shadow-sm shadow-primary/50 btn btn-square btn-primary btn-outline btn-sm",children:e.jsx(Le,{className:"text-lg"})})]}),e.jsx("td",{children:e.jsx("div",{className:"flex flex-col items-center",children:!m&&e.jsx(e.Fragment,{children:(a==="confirm"||a==="hold")&&e.jsxs(e.Fragment,{children:[(E==null?void 0:E.toUpperCase())==="ACTIVE"&&e.jsx(fe,{passenger:t}),(B==null?void 0:B.toUpperCase())==="ACTIVE"&&e.jsx(Ne,{passenger:t}),e.jsx(ye,{booking_details:d,pax_id:t==null?void 0:t.pax_id}),o==="YES"&&e.jsx(Ze,{passenger:t})]})})})})]},ke()))})]})})})]}),!m&&e.jsx("div",{className:"flex items-center justify-between p-4 mb-5 space-y-1 border rounded",children:e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-primary",children:[e.jsx(K,{path:Ce,size:.8})," Submitted Contacts Details to Airlines"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx(K,{path:Se,size:.8})," Email:",i==null?void 0:i.agency_email]}),e.jsxs("p",{className:"text-sm",children:[e.jsx(K,{path:Fe,size:.8})," Contact Number:"," ",i==null?void 0:i.agency_isd_code,i==null?void 0:i.agency_contact_no]})]})}),(x==null?void 0:x.status)==="active"&&e.jsx("div",{className:"p-4 mb-5 border rounded",children:e.jsx("div",{className:"text-sm inner-html",dangerouslySetInnerHTML:{__html:oe(x==null?void 0:x.text)}})}),(y==null?void 0:y.status)==="active"&&e.jsx("div",{className:"p-4 mb-5 border rounded",children:e.jsx("div",{className:"text-sm inner-html",dangerouslySetInnerHTML:{__html:oe(y==null?void 0:y.text)}})})]})};ve.propTypes={booking_details:A.object.isRequired};const te=({price:d,title:m="Fare Breakdown",description:r=null})=>{var C;const{price_breakdown:p}=d;return e.jsxs("div",{className:"mb-5 border rounded tab-pane",id:"customer_fare_tab",role:"tabpanel",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("h5",{className:"font-semibold whitespace-nowrap",children:m}),r&&e.jsxs("div",{className:"self-center text-xs border-transparent badge bg-info/5 text-info",children:[e.jsx(Ve,{className:"mr-1"})," ",r]})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs("table",{className:"table text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-sm border",children:"Passenger Type"}),e.jsx("th",{className:"text-sm border",children:"Pax Count"}),e.jsx("th",{className:"text-sm border",children:"Pax Base Fare"}),e.jsx("th",{className:"text-sm border",children:"Pax Tax"}),e.jsx("th",{className:"text-sm border",children:"Pax Sub-Total"})]})}),e.jsx("tbody",{children:p==null?void 0:p.map(c=>{var f,_,a,b,w,N,v,k,S;return e.jsxs("tr",{children:[e.jsx("td",{className:"border",children:e.jsx("h5",{className:"text-lg font-semibold",children:c.passenger_type==="ADT"?"Adult":c.passenger_type==="CNN"?"Child":"Infant"})}),e.jsx("td",{className:"border",children:e.jsx("h5",{className:"text-lg font-semibold",children:c.passenger_total})}),e.jsxs("td",{className:"border",children:[ne((f=c==null?void 0:c.base_fare)==null?void 0:f.currency)," ",(a=Number((_=c==null?void 0:c.base_fare)==null?void 0:_.amount))==null?void 0:a.toFixed(2)]}),e.jsxs("td",{className:"border",children:[ne((b=c==null?void 0:c.tax)==null?void 0:b.currency)," ",(N=Number((w=c==null?void 0:c.tax)==null?void 0:w.amount))==null?void 0:N.toFixed(2)]}),e.jsxs("td",{className:"border",children:[ne((v=c==null?void 0:c.total)==null?void 0:v.currency)," ",(S=Number((k=c==null?void 0:c.total)==null?void 0:k.amount))==null?void 0:S.toFixed(2)]})]},c.passenger_id)})}),e.jsx("tfoot",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-sm border text-base-content",colSpan:"4",children:"Total"}),e.jsxs("th",{className:"text-sm border text-base-content",children:[ne(d.total.currency)," ",(C=Number(d.total.amount))==null?void 0:C.toFixed(2)]})]})})]})})})]})};te.propTypes={price:A.object.isRequired};const we=({tracking_id:d,booking_status:m})=>{var Q,Z;const[r,p]=F.useState(!1),[C,c]=F.useState(!1),{member_id:f}=ce.useState().user_data||{},{axiosInstance:_}=xe(),[a,b]=F.useState(),{booking_manage:w}=le.useState(),{customer_invoice_customization:N,customer_invoice_customization_for_confirm:v}=w||{},{data:k,isLoading:S,refetch:I}=Pe({queryKey:["CUSTOMER_INVOICE",d,f],queryFn:async()=>{var s;const t=await _.post("/finance/partner-customer-booking-info",{tracking_id:d,member_id:f});if(((s=t.data)==null?void 0:s.status)==="success"){const{data:$,summery:u}=t.data,{sell_invoice_due_date:Y,sell_paid_status:M,sell_paid_amount:n}=u||{},q={sell_invoice_due_date:Y,sell_paid_status:M,sell_paid_amount:n};return $.forEach((U,H)=>{const{base_fare:z,tax:L,ticket_issue_charge:D,service_charge:V,discount:P}=(U==null?void 0:U.sell)||{};q[H]={base_fare:parseFloat(z)-parseFloat(D),tax:L,ticket_issue_charge:D,service_charge:V,discount:P}}),b(q),t.data}else throw t}}),{data:h}=k||{},[i,x]=F.useState(!1),y=ge(),l=async t=>{var U,H,z,L,D,V,P,W;if(t.preventDefault(),!r)return p(!0);if(i)return;const s=t.target,$=h.length>1?[...s.base_fare].map(g=>g.value):[(U=s.base_fare)==null?void 0:U.value],u=h.length>1?[...s.tax].map(g=>g.value):[(H=s.tax)==null?void 0:H.value],Y=h.length>1?[...s.ticket_issue_charge].map(g=>g.value):[(z=s.ticket_issue_charge)==null?void 0:z.value],M=h.length>1?[...s.service_charge].map(g=>g.value):[(L=s.service_charge)==null?void 0:L.value],n=h.length>1?[...s.discount].map(g=>g.value):[(D=s.discount)==null?void 0:D.value],q={member_id:f,tracking_id:d,sell_paid_amount:a.sell_paid_amount,sell_invoice_due_date:a.sell_invoice_due_date,pax_data:h.map((g,O)=>({pax_id:g.pax_id,sell:{base_fare:$[O],tax:u[O],ticket_issue_charge:Y[O],service_charge:M[O],discount:n[O]}}))};x(!0);try{const g=await _.post("/finance/partner-customer-booking-info-modify",q);if(((V=g.data)==null?void 0:V.status)==="success")p(!1),await I(),await y.invalidateQueries(["FLIGHT_BOOKING_DETAILS"]),ie("success","Success!",(P=g.data)==null?void 0:P.reason);else throw new Error(((W=g==null?void 0:g.data)==null?void 0:W.reason)||"Something wrong!")}catch(g){ie("error","Failed",g.message)}finally{x(!1)}},j=a?Object.values(a).reduce((t,s)=>(parseFloat(t)+parseFloat((s==null?void 0:s.base_fare)||0)+parseFloat((s==null?void 0:s.ticket_issue_charge)||0)).toFixed(2),0):0,o=a?Object.values(a).reduce((t,s)=>(parseFloat(t)+parseFloat((s==null?void 0:s.service_charge)||0)).toFixed(2),0):0,T=a?Object.values(a).reduce((t,s)=>(parseFloat(t)+parseFloat((s==null?void 0:s.discount)||0)).toFixed(2),0):0,B=a?Object.values(a).reduce((t,s)=>(parseFloat(t)+parseFloat((s==null?void 0:s.base_fare)||0)+parseFloat((s==null?void 0:s.ticket_issue_charge)||0)+parseFloat((s==null?void 0:s.tax)||0)+parseFloat((s==null?void 0:s.service_charge)||0)-parseFloat((s==null?void 0:s.discount)||0)).toFixed(2),0):0,E=(Z=(Q=h==null?void 0:h.at(0))==null?void 0:Q.sell)==null?void 0:Z.currency,R=h==null?void 0:h.at(0);return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:l,className:"mb-5 border rounded tab-pane",id:"customer_fare_tab",role:"tabpanel",children:[e.jsxs("div",{className:"flex flex-col gap-3 p-4 pb-1 border-b",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-2 font-semibold",children:"Personalize Your Invoice for Fare Adjustment"}),e.jsx("p",{className:"text-sm",children:"Customize your customer invoice to accurately represent fare adjustments. This can be achieved by modifying the base fare, tax, service charge, discount, and ticket issue charge. Note that the ticket issue charge will be automatically added to the base fare when sending the custom fare details via email."})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs("span",{className:"gap-1 text-xs rounded badge badge-error bg-error/10 text-error",children:[e.jsx("b",{children:"Invoice Status:"})," ",a==null?void 0:a.sell_paid_status]})}),e.jsxs("div",{className:"flex gap-2",children:[((N==null?void 0:N.toUpperCase())==="ACTIVE"&&m==="hold"||(v==null?void 0:v.toUpperCase())==="ACTIVE"&&m==="confirm")&&e.jsx("button",{type:"submit",className:"font-normal normal-case rounded btn btn-xs btn-secondary",children:i?"Updating...":e.jsxs(e.Fragment,{children:[e.jsx(qe,{})," ",r?"Update":"Modify"]})}),r&&e.jsx("button",{type:"button",onClick:()=>p(!1),className:"font-normal normal-case rounded btn btn-xs btn-secondary btn-outline",children:"Cancel"})]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"w-full mb-2 overflow-x-auto",children:e.jsxs("table",{className:"table text-xs text-center",children:[e.jsx("thead",{}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-xs border bg-neutral/10",children:"Customer Invoice Due Date"}),e.jsx("td",{children:e.jsx(ls,{disabled:r===!1,className:`min-w-[64px] hide_arrow_key w-full rounded-sm input input-xs focus:outline-none ${r?"input-bordered bg-base-200 shadow-inner":"bg-transparent disabled:!border-0"}`,minDate:"",defaultValue:a==null?void 0:a.sell_invoice_due_date,action:t=>b({...a,sell_invoice_due_date:t})})}),e.jsx("th",{className:"text-xs border bg-neutral/10",children:"Customer Total Paid:"}),e.jsx("td",{children:e.jsx("input",{autoComplete:"off",type:"number",readOnly:r===!1,className:`min-w-[64px] hide_arrow_key w-full rounded-sm input input-xs focus:outline-none ${r?"input-bordered bg-base-200 shadow-inner":"bg-transparent"}`,value:a==null?void 0:a.sell_paid_amount,onChange:t=>b({...a,sell_paid_amount:t.target.value}),name:"sell_paid_amount"})})]})})]})}),e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs("table",{className:"table text-xs text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-xs border bg-neutral/10",children:"Base Fare + Ticket Issue Charge"}),e.jsx("th",{className:"text-xs border bg-neutral/10",children:"Tax"}),e.jsx("th",{className:"text-xs border bg-neutral/10",children:"Service Charge"}),e.jsx("th",{className:"text-xs border bg-neutral/10",children:"Discount"}),e.jsx("th",{className:"text-xs border bg-neutral/10",children:"Total + Currency"})]})}),S||!a?e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:"100%",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 py-8",children:[e.jsx(re,{className:"animate-spin"})," Loading..."]})})})}):a&&(h==null?void 0:h.map((t,s)=>{var L,D,V,P,W,g,O,ee,se,he,me,ue;const{pax_id:$,customer:u,sell:Y}=t||{},{title:M,first_name:n,last_name:q,pax_type:U}=u||{},H=M+" "+n+" "+q,{currency:z}=Y||{};return e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:"100%",className:"p-2 text-[13px] border text-start",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:["Name:"," ",e.jsx("span",{className:"font-normal",children:H})]}),e.jsxs("div",{children:["Passenger Type:"," ",e.jsx("span",{className:"font-normal",children:Te(U)})]})]})})}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border bg-neutral/5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{autoComplete:"off",type:"number",readOnly:r===!1,className:`w-20 hide_arrow_key rounded-sm input input-xs focus:outline-none ${r?"input-bordered bg-base-200 shadow-inner":"bg-transparent"}`,value:(L=a[s])==null?void 0:L.base_fare,onChange:G=>b({...a,[s]:{...a[s],base_fare:G.target.value}}),name:"base_fare"}),e.jsx("span",{children:"+"}),e.jsx("input",{autoComplete:"off",type:"number",readOnly:r===!1,className:`w-20 hide_arrow_key rounded-sm input input-xs focus:outline-none ${r?"input-bordered bg-base-200 shadow-inner":"bg-transparent"}`,value:(D=a[s])==null?void 0:D.ticket_issue_charge,name:"ticket_issue_charge",onChange:G=>b({...a,[s]:{...a[s],ticket_issue_charge:G.target.value}})}),e.jsx("span",{children:"="}),e.jsx("input",{autoComplete:"off",type:"number",readOnly:!0,className:`w-20 hide_arrow_key rounded-sm input input-xs focus:outline-none ${r?"input-bordered bg-base-200 shadow-inner":"bg-transparent"}`,value:parseFloat((V=a[s])==null?void 0:V.base_fare)+parseFloat((P=a[s])==null?void 0:P.ticket_issue_charge)})]})}),e.jsx("td",{className:"p-2 border bg-neutral/5",children:e.jsx("input",{autoComplete:"off",type:"number",readOnly:r===!1,className:`min-w-[64px] hide_arrow_key w-full rounded-sm input input-xs focus:outline-none ${r?"input-bordered bg-base-200 shadow-inner":"bg-transparent"}`,value:(W=a[s])==null?void 0:W.tax,onChange:G=>b({...a,[s]:{...a[s],tax:G.target.value}}),name:"tax"})}),e.jsx("td",{className:"p-2 border bg-neutral/5",children:e.jsx("input",{autoComplete:"off",type:"number",readOnly:r===!1,className:`min-w-[64px] hide_arrow_key w-full rounded-sm input input-xs focus:outline-none ${r?"input-bordered bg-base-200 shadow-inner":"bg-transparent"}`,value:(g=a[s])==null?void 0:g.service_charge,onChange:G=>b({...a,[s]:{...a[s],service_charge:G.target.value}}),name:"service_charge"})}),e.jsx("td",{className:"p-2 border bg-neutral/5",children:e.jsx("input",{autoComplete:"off",type:"number",readOnly:r===!1,className:`min-w-[64px] hide_arrow_key w-full rounded-sm input input-xs focus:outline-none ${r?"input-bordered bg-base-200 shadow-inner":"bg-transparent"}`,value:(O=a[s])==null?void 0:O.discount,onChange:G=>b({...a,[s]:{...a[s],discount:G.target.value}}),name:"discount"})}),e.jsxs("td",{className:"p-2 font-medium border bg-neutral/5",children:[(parseFloat(((ee=a[s])==null?void 0:ee.base_fare)||0)+parseFloat(((se=a[s])==null?void 0:se.ticket_issue_charge)||0)+parseFloat(((he=a[s])==null?void 0:he.tax)||0)+parseFloat(((me=a[s])==null?void 0:me.service_charge)||0)-parseFloat(((ue=a[s])==null?void 0:ue.discount)||0)).toFixed(2)," ",z]})]})]},$)})),e.jsxs("tfoot",{children:[e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"text-end bg-neutral/5",children:"Total Base Fare ="}),e.jsxs("td",{className:"bg-neutral/5",children:[j," ",E]})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"text-end bg-neutral/5",children:"Total Service Charge ="}),e.jsxs("td",{className:"bg-neutral/5",children:[o," ",E]})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"text-end bg-neutral/5",children:"Total Discount ="}),e.jsxs("td",{className:"bg-neutral/5",children:[T," ",E]})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"text-end bg-neutral/5",children:"Grand Total Price ="}),e.jsxs("td",{className:"bg-neutral/5",children:[B," ",E]})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"text-end bg-neutral/5",children:"Total Paid ="}),e.jsxs("td",{className:"bg-neutral/5",children:[(a==null?void 0:a.sell_paid_amount)||0," ",E]})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"text-end bg-neutral/5",children:"Balance ="}),e.jsxs("td",{className:"bg-neutral/5",children:[B-(Number(a==null?void 0:a.sell_paid_amount)||0)," ",E]})]})]})]})}),!r&&e.jsx("div",{className:"flex justify-end mt-5",children:e.jsxs("button",{type:"button",onClick:()=>c(!0),className:"font-normal normal-case rounded btn btn-primary btn-sm",children:[e.jsx(He,{})," Send Email"]})})]})]}),R&&e.jsx(Xe,{isActive:C,setIsActive:c,tracking_id:d,primary_customer_data:R})]})};we.propTypes={tracking_id:A.string,booking_status:A.string};const hs=({supplier_uid:d,supplier_confirmation_id:m})=>{var y;const[r,p]=F.useState(!1),[C,c]=F.useState(null),[f,_]=F.useState(null),[a,b]=F.useState([]),{member_id:w}=((y=ce.useState())==null?void 0:y.user_data)||{},{axiosInstance:N}=xe(),v=async()=>{var l,j;if(!r){p(!0);try{const o=await N.post("/secure?pathName=/terminal/create-session",{member_id:w,supplier_uid:d});if(((l=o.data)==null?void 0:l.status)==="success"){const{tracking_id:T,session_token:B}=o.data,E=await N.post("/secure?pathName=/terminal/execute-command",{member_id:w,tracking_id:T,session_token:B,terminal_command:`*${m}`}),{terminal_history:R}=E.data;b(R),c(T),_(B)}else throw new Error(((j=o.data)==null?void 0:j.reason)||"Something went wrong")}catch(o){console.error(o)}finally{p(!1)}}},[k,S]=F.useState(!1),I=async l=>{if(l.preventDefault(),!k){S(!0);try{const j=l.target.terminal_command.value,o=await N.post("/secure?pathName=/terminal/execute-command",{member_id:w,tracking_id:C,session_token:f,terminal_command:j}),{terminal_history:T}=o.data;b(T),l.target.reset()}catch(j){console.error(j)}finally{S(!1)}}},[h,i]=F.useState(!1),x=async()=>{var l,j;if(!h){i(!0);try{const o=await N.post("/secure?pathName=/terminal/end-session",{member_id:w,tracking_id:C,session_token:f});if(((l=o.data)==null?void 0:l.status)==="success")c(null),_(null),b([]);else throw new Error(((j=o.data)==null?void 0:j.reason)||"Something went wrong")}catch(o){console.error(o)}finally{i(!1)}}};return e.jsxs("div",{className:"w-full p-4 pt-2 border rounded-md",children:[e.jsx("h3",{className:"pb-2 text-lg font-semibold",children:"Terminal Window"}),e.jsx("hr",{className:"mb-4"}),!C&&!f&&e.jsx("div",{className:"flex gap-5 sm:items-end max-sm:flex-col",children:e.jsx("button",{onClick:v,className:`normal-case btn btn-primary rounded-md shadow shadow-primary/30 min-h-0 h-10 ${r?"pointer-events-none":""}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"mr-2 animate-spin"})," Starting..."]}):"Start Session"})}),C&&f&&e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:I,className:"flex gap-5 max-sm:flex-col sm:items-end",autoComplete:"off",children:[e.jsxs("div",{className:"flex-1 gap-2 form-control",children:[e.jsx("p",{className:"text-sm font-medium text-neutral",children:"Type Terminal Command"}),e.jsx("input",{name:"terminal_command",className:"w-full h-10 text-sm bg-transparent rounded input input-bordered min-h-8 focus:outline-0 focus:border-neutral/30 ",required:!0})]}),e.jsx("button",{type:"submit",className:`normal-case btn btn-primary rounded-md shadow shadow-primary/30 min-h-0 h-10 ${k?"pointer-events-none":""}`,children:k?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"mr-2 animate-spin"})," Running..."]}):"Run"}),e.jsx("button",{type:"button",onClick:()=>x(),className:`normal-case btn btn-primary btn-outline rounded-md shadow shadow-primary/30 min-h-0 h-10 ${h?"pointer-events-none":""}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"mr-2 animate-spin"})," Closing..."]}):"Close"})]}),e.jsx("div",{className:"grid gap-4 mt-8",children:a.map(l=>{var j;return e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"p-3 border rounded bg-neutral/5",children:[l!=null&&l.command_response?(j=JSON.parse(l.command_response))==null?void 0:j.map((o,T)=>e.jsx("p",{className:"text-sm",children:o},T)):null,e.jsx("p",{className:"mt-1 text-xs text-end",children:X(new Date((l==null?void 0:l.timestamp)*1e3)).format("ddd, MMM Do YYYY, h:mm:ss a")})]}),e.jsxs("div",{className:"p-3 border rounded bg-neutral/10",children:[e.jsx("p",{className:"text-sm",children:l==null?void 0:l.terminal_command}),e.jsx("p",{className:"mt-1 text-xs text-end",children:X(new Date((l==null?void 0:l.timestamp)*1e3)).format("ddd, MMM Do YYYY, h:mm:ss a")})]})]},l==null?void 0:l.timestamp)})})]})]})},ms=["supernsn","manager","support","accounts"],us=({booking_details:d,isImportGDSPNR:m=!1})=>{var $,u,Y,M;const[r,p]=F.useState("itinerary"),{booking_manage:C,price_view:c,system_config:f}=le.useState(),[_,a]=F.useState(!0),{booking_hold_vocuher_download:b,booking_send_vocuher:w,customer_invoice_features:N}=C||{},{show_fmg_price:v,show_supplier_price:k,show_partner_price:S,show_sell_price:I}=c||{},{general:h,booking:{booking_status:i},tracking_id:x,special_notice_status:y,special_notice:l,supplier:{info:{supplier_uid:j}},pax:{data:o},refund_data:T}=d,{sell:B,purchase:E,fmg:R,supplier:Q}=(($=d==null?void 0:d.flight)==null?void 0:$.price)||{},{user_access_level:Z}=((u=ce.useState())==null?void 0:u.user_data)||{},t=ms.includes(Z),s=n=>btoa(JSON.stringify(n));return e.jsxs("div",{id:"booking_details_flight_main",className:"p-4 rounded-lg lg:col-span-3 bg-base-200",children:[e.jsxs("div",{className:"mb-8 border rounded",children:[!m&&e.jsxs("div",{className:"flex justify-between p-4 border-b max-sm:flex-col",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-1 text-2xl font-semibold",children:h==null?void 0:h.booking_id}),e.jsx("p",{className:"text-neutral",children:"Booking ID"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[i==="confirm"&&e.jsxs(ae,{to:`/voucher/flight?q=${btoa(x)}`,target:"_blank",className:"h-10 min-h-0 text-sm btn border-neutral/70 hover:bg-neutral/70 hover:!text-white btn-outline btn-success normal-case",children:[e.jsx(K,{path:Ie,size:.8})," ",e.jsx("span",{children:"E-ticket"})]}),(i==="confirm"||i==="hold"&&(b==null?void 0:b.toUpperCase())==="YES")&&e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsxs("button",{tabIndex:"0",className:"h-10 min-h-0 text-sm btn border-neutral/70 hover:bg-neutral/70 hover:!text-white btn-outline btn-info normal-case",children:[e.jsx(K,{path:Ee,size:.8})," Download"," ",e.jsx(je,{})]}),e.jsxs("ul",{tabIndex:"0",className:"z-20 p-2 mt-3 overflow-hidden !rounded shadow-md menu menu-sm dropdown-content shadow-primary/20 bg-base-200 w-64 join join-vertical",children:[e.jsx("li",{className:"border-t join-item",children:e.jsxs("details",{open:!0,children:[e.jsx("summary",{className:"!py-2 rounded-none hover:bg-primary/10",children:"With Fare"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(ae,{to:`/voucher?q=${s({tracking_id:x,price:!0})}`,target:"_blank",className:"!py-1 !rounded",children:"Download Voucher"})}),o==null?void 0:o.map(n=>e.jsx(pe.Fragment,{children:e.jsx("li",{className:"border-t join-item",children:e.jsxs(ae,{to:`/voucher?q=${s({tracking_id:x,price:!0,pax_id:n==null?void 0:n.pax_id,ticket:!0})}`,target:"_blank",className:"!py-1 !rounded",children:[n==null?void 0:n.title," ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})})},n==null?void 0:n.Id))]})]})}),e.jsx("li",{className:"border-t join-item",children:e.jsxs("details",{children:[e.jsx("summary",{className:"!py-2 rounded-none hover:bg-primary/10",children:"Without Fare"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(ae,{to:`/voucher?q=${s({tracking_id:x})}`,target:"_blank",className:"!py-1 !rounded",children:"Download Voucher"})}),o==null?void 0:o.map(n=>e.jsx(pe.Fragment,{children:e.jsx("li",{className:"border-t join-item",children:e.jsxs(ae,{to:`/voucher?q=${s({tracking_id:x,pax_id:n==null?void 0:n.pax_id,ticket:!0})}`,target:"_blank",className:"!py-1 !rounded",children:[n==null?void 0:n.title," ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})})},n==null?void 0:n.Id))]})]})})]})]}),i==="hold"&&e.jsx(e.Fragment,{children:e.jsxs("button",{type:"button",onClick:()=>{var n;return(n=document.getElementById("send_booking_pay_link_modal"))==null?void 0:n.showModal()},className:"h-10 min-h-0 text-sm btn border-neutral/70 hover:bg-neutral/70 hover:!text-white btn-outline btn-info normal-case",children:[e.jsx(K,{path:be,size:.8})," Send Pay Link"," "]})}),(i==="hold"&&w==="ACTIVE"&&b==="YES"||i==="confirm"&&w==="ACTIVE")&&e.jsxs("button",{type:"button",onClick:()=>{var n;return(n=document.getElementById("send_voucher_modal"))==null?void 0:n.showModal()},className:"h-10 min-h-0 text-sm btn border-neutral/70 hover:bg-neutral/70 hover:!text-white btn-outline btn-secondary normal-case",children:[e.jsx(K,{path:be,size:.8})," Send Voucher"]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"h-10 w-10 p-0 min-h-0 btn border-neutral/70 hover:!text-white btn-outline btn-neutral normal-case",children:e.jsx(ze,{className:"text-xl"})})]})]}),i==="hold"&&y==="active"&&e.jsx("div",{className:"p-2",children:e.jsx("div",{className:"p-2 text-sm border rounded-md border-warning/20 text-error",children:e.jsxs("div",{className:"relative flex items-end gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-red-600 b-1",children:"***Attention***"}),e.jsx("div",{className:`text-red-400 inner-html ${_?"":"line-clamp-1"}`,dangerouslySetInnerHTML:{__html:oe(l)||""}})]}),e.jsx("button",{onClick:()=>a(!_),className:"absolute bottom-0 right-0 pl-3 text-xs font-medium text-info shrink-0 bg-gradient-to-r from-base-200/50 via-base-200 to-base-200",children:_?e.jsxs(e.Fragment,{children:["View Less ",e.jsx(Ge,{})]}):e.jsxs(e.Fragment,{children:["View Details ",e.jsx(je,{})]})})]})})}),i==="initiated"&&e.jsx("div",{className:"p-2",children:e.jsx("div",{className:"p-2 text-sm border rounded-md border-warning/20 text-error",children:e.jsxs("div",{className:"relative flex items-end gap-5",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-yellow-500 b-1",children:"***Attention***"}),e.jsx("div",{className:`text-yellow-400 ${_?"":"line-clamp-1"}`,children:e.jsxs("p",{children:["The session for this booking has been expired. Please click ",e.jsx("strong",{children:"Search again"})," to make a new booking."]})})]}),e.jsx(es,{booking_details:d})]})})}),e.jsx("div",{className:"w-full overflow-auto whitespace-nowrap hide_scrollbar",children:e.jsxs(os,{slidesPerView:"auto",spaceBetween:0,freeMode:!0,modules:[cs,ds,is],mousewheel:!0,navigation:{prevEl:".tab-btn-prev",nextEl:".tab-btn-next"},className:"px-4 text-sm font-medium",children:[e.jsx(J,{onClick:()=>p("itinerary"),className:`px-4 py-2 border-b-2 border-transparent cursor-pointer w-fit text-center leading-tight h-12 flex items-center flex-col justify-start  ${r==="itinerary"?"border-b-primary":""}`,children:"Itinerary"}),I==="YES"&&e.jsxs(J,{onClick:()=>p("fare_breakdown_customer"),className:`px-4 py-2 border-b-2 border-transparent cursor-pointer w-fit text-center leading-tight h-12 flex items-center flex-col justify-start  ${r==="fare_breakdown_customer"?"border-b-primary":""}`,children:[e.jsx("p",{children:"Fare"}),e.jsx("p",{className:"text-[10px] font-light",children:"(Customer)"})]}),S==="YES"&&e.jsxs(J,{onClick:()=>p("fare_breakdown"),className:`px-4 py-2 border-b-2 border-transparent cursor-pointer w-fit text-center leading-tight h-12 flex items-center flex-col justify-start  ${r==="fare_breakdown"?"border-b-primary":""}`,children:[e.jsx("p",{children:"Fare"}),e.jsx("p",{className:"text-[10px] font-light",children:"(Agent)"})]}),(v==null?void 0:v.toUpperCase())==="YES"&&e.jsxs(J,{onClick:()=>p("fare_breakdown_fmg"),className:`px-4 py-2 border-b-2 border-transparent cursor-pointer w-fit text-center leading-tight h-12 flex items-center flex-col justify-start  ${r==="fare_breakdown_fmg"?"border-b-primary":""}`,children:[e.jsx("p",{children:"FMG Fare"}),e.jsxs("p",{className:"text-[10px] font-light",children:["(",(Y=R==null?void 0:R.total)==null?void 0:Y.currency,")"]})]}),k==="YES"&&e.jsxs(J,{onClick:()=>p("fare_breakdown_supplier"),className:`px-4 py-2 border-b-2 border-transparent cursor-pointer w-fit text-center leading-tight h-12 flex items-center flex-col justify-start  ${r==="fare_breakdown_supplier"?"border-b-primary":""}`,children:[e.jsx("p",{children:"Supplier Fare"}),e.jsxs("p",{className:"text-[10px] font-light",children:["(Airlines - ",(M=Q==null?void 0:Q.total)==null?void 0:M.currency,")"]})]}),(i==="confirm"||i==="hold")&&!m&&(f==null?void 0:f.show_gds_terminal_option)==="YES"&&e.jsx(J,{onClick:()=>p("terminal"),className:`px-4 py-2 border-b-2 border-transparent cursor-pointer w-fit text-center leading-tight h-12 flex items-center flex-col justify-start  ${r==="terminal"?"border-b-primary":""}`,children:"Terminal"}),!m&&t&&(N==null?void 0:N.toUpperCase())==="ACTIVE"&&(i==="confirm"||i==="hold")&&e.jsxs(J,{onClick:()=>p("customer_invoice"),className:`px-4 py-2 border-b-2 border-transparent cursor-pointer w-fit text-center leading-tight h-12 flex items-center flex-col justify-start  ${r==="customer_invoice"?"border-b-primary":""}`,children:[e.jsx("p",{children:"Invoice"}),e.jsx("p",{className:"text-[10px] font-light",children:"(Custom)"})]}),i==="cancel"&&(T==null?void 0:T.length)>0&&e.jsx(J,{onClick:()=>p("refund"),className:`px-4 py-2 border-b-2 border-transparent cursor-pointer w-fit text-center leading-tight h-12 flex items-center flex-col justify-start  ${r==="refund"?"border-b-primary":""}`,children:e.jsx("p",{children:"Refund"})}),e.jsx("button",{className:"absolute top-0 bottom-0 left-0 z-20 w-4 text-lg duration-100 bg-black/5 text-primary tab-btn-prev hover:bg-primary hover:text-primary-content",children:e.jsx(Qe,{})}),e.jsx("button",{className:"absolute top-0 bottom-0 right-0 z-20 w-4 text-lg duration-100 bg-black/5 text-primary tab-btn-next hover:bg-primary hover:text-primary-content",children:e.jsx(We,{})})]})})]}),e.jsxs("div",{id:"flight-tab-content",className:"tab-content",children:[r==="itinerary"&&e.jsx(ve,{booking_details:d,isImportGDSPNR:m}),r==="fare_breakdown_customer"&&I==="YES"&&e.jsx(te,{price:B,isCustomer:!0,tracking_id:x,title:"Fare Breakdown (Customer)",description:"After adding your markup to make this amount visible to your customer."}),((S==null?void 0:S.toUpperCase())==="YES"||m)&&r==="fare_breakdown"&&e.jsx(te,{price:E,title:"Agent Fare",description:"The fare expressed in your currency. This represents the amount you need to pay, serving as the cost of the tickets."}),((v==null?void 0:v.toUpperCase())==="YES"||m)&&r==="fare_breakdown_fmg"&&e.jsx(te,{price:R,title:"FMG Fare",description:"Adjusted after deducting airline commission and modifying the markup and margin."}),((k==null?void 0:k.toUpperCase())==="YES"||m)&&r==="fare_breakdown_supplier"&&e.jsx(te,{price:Q,title:"Supplier Fare",description:"The actual fare from the airline's Global Distribution System (GDS)"}),r==="activity_logs"&&e.jsx(ns,{}),(N==null?void 0:N.toUpperCase())==="ACTIVE"&&t&&r==="customer_invoice"&&e.jsx(we,{tracking_id:x,booking_status:i}),(i==="confirm"||i==="hold")&&!m&&(f==null?void 0:f.show_gds_terminal_option)==="YES"&&r==="terminal"&&e.jsx(hs,{supplier_uid:j,supplier_confirmation_id:h==null?void 0:h.supplier_confirmation_id}),i==="cancel"&&r==="refund"&&e.jsx(xs,{refund_data:T})]})]})};us.propTypes={booking_details:A.object.isRequired};export{us as B};
