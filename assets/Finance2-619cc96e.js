import{q as e,e as A,o as P,m as S,a4 as H,a5 as D,H as r}from"./index-5c0e37d6.js";import{c,d as E,e as M,dl as T,dm as R,dn as L,dp as q,dq as B,dr as O,aH as b,aI as V,aJ as J,L as K}from"./App-1de86f53.js";import{L as Q,I as U,R as Y,P as z,A as G,D as W,O as X,a as Z}from"./AddPaymentByCardModal-1ad56d94.js";import"./InputDate-177b0de9.js";import"./index-9a93c7ae.js";import"./PhoneNumberSelect-47efe3e6.js";import"./NoResult-0f042820.js";import"./index.esm-31fba644.js";import"./index.esm-36886116.js";const o=({Icon:n,label:i,value:l,img:d})=>e.jsxs("div",{className:c("relative h-36 overflow-hidden rounded-lg shadow-sam2 flex flex-col gap-2 justify-center items-center bg-white group"),children:[d?e.jsx("img",{src:d,alt:i,className:"w-12 h-12 duration-300 group-hover:translate-[-20px,-40px] group-hover:rotate-[-15deg] group-hover:scale-[1.3]"}):e.jsx(n,{className:"text-4xl duration-300 group-hover:translate-[-20px,-40px] group-hover:rotate-[-15deg] group-hover:scale-[1.3]"}),e.jsx("p",{className:"text-xs",children:i}),e.jsx("h1",{className:"text-lg",children:l})]}),$=({finance_summary:n})=>{const{partner_transaction:i,partner_invoices:l,partner_refunds:d,partner_payment:m}=n,[s,a]=A.useState("ledger");return e.jsxs("div",{className:"mb-8 border-t-4 rounded-lg bg-base-200 shadow-sam2 border-t-primary",children:[e.jsxs("div",{className:"px-1 tabs tabs-bordered",children:[e.jsx("div",{onClick:()=>a("ledger"),className:c("tab border-b-4 border-b-transparent h-12 text-base",s==="ledger"&&"tab-active !border-b-primary"),children:"Ledger History"}),e.jsx("div",{onClick:()=>a("invoice"),className:c("tab border-b-4 border-b-transparent h-12 text-base",s==="invoice"&&"tab-active !border-b-primary"),children:"Invoices"}),e.jsx("div",{onClick:()=>a("refund"),className:c("tab border-b-4 border-b-transparent h-12 text-base",s==="refund"&&"tab-active !border-b-primary"),children:"Refund History"}),e.jsx("div",{onClick:()=>a("payment"),className:c("tab border-b-4 border-b-transparent h-12 text-base",s==="payment"&&"tab-active !border-b-primary"),children:"Payment History"})]}),e.jsx("div",{className:"px-1 pb-1",children:e.jsxs("div",{className:"p-2",children:[s==="ledger"&&e.jsx(Q,{data:i}),s==="invoice"&&e.jsx(U,{data:l}),s==="refund"&&e.jsx(Y,{data:d}),s==="payment"&&e.jsx(z,{data:m})]})})]})},oe=()=>{var y,g,v,f,N;const{site_title:n,price_view:i}=P.useState(),{online_payment_option:l}=i||{},{axiosInstance:d}=E(),{user_data:{member_id:m,login_key:s}}=S.useState(),{data:a,isLoading:_,error:p}=M({queryKey:["FINANCE_SUMMARY",m,s],queryFn:async()=>(await d.post("/finance/summery",{member_id:m,login_key:s})).data});if(_)return e.jsx(H,{});if(p)throw p;const{default_currency:t,dashboard:{total_sales_amount:u,monthly_sales_amount:w,monthly_transactions:I,total_due_invoices:F,total_pending_refund:C,available_balance:h,total_credit_amount:k,total_due_amount:j}}=a;return e.jsxs("main",{className:"container min-h-screen pt-20",children:[e.jsx(D,{children:e.jsxs("title",{children:["Finance",n?" - "+n:""]})}),e.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Financial Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6",children:[e.jsx(o,{Icon:T,label:"Available Balance",value:r(t)+" "+((y=Number(h))==null?void 0:y.toFixed(2))}),e.jsx(o,{Icon:R,label:"Total Sales",value:r(t)+" "+((g=Number(u))==null?void 0:g.toFixed(2))}),e.jsx(o,{Icon:L,label:"Sales",value:r(t)+" "+((v=Number(w))==null?void 0:v.toFixed(2))}),e.jsx(o,{Icon:q,label:"Transactions",value:I}),e.jsx(o,{Icon:B,label:"Due Invoices",value:F}),e.jsx(o,{Icon:O,label:"Refund under process",value:C})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-8 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-3 p-5 mb-8 rounded-lg shadow-sam2 bg-base-200",children:[e.jsxs("div",{className:"flex items-center justify-between gap-5 mb-3",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Spend ",e.jsx(b,{})]}),e.jsx("h3",{className:"text-2xl font-semibold",children:r(t)+" "+((f=Number(u))==null?void 0:f.toFixed(2))})]}),e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Available (",e.jsx("span",{className:"text-[10px]",children:"Including"})," Credit Limit) ",e.jsx(b,{})]}),e.jsx("h3",{className:"text-2xl font-semibold",children:r(t)+" "+((N=Number(h))==null?void 0:N.toFixed(2))})]})]}),e.jsx("progress",{className:"w-full h-3 mb-3 progress progress-primary",value:"5",max:"100"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1 px-4 py-3 rounded-md bg-base-100",children:e.jsxs("h6",{className:"font-medium whitespace-nowrap",children:["Credit limit:"," ",r(t)+" "+k," ",e.jsxs("span",{className:"text-xs bg-sky-500 text-white rounded py-0.5 px-1",children:[e.jsx(V,{}),"Info"]})]})}),e.jsxs("button",{className:"normal-case btn btn-primary max-sm:btn-sm",children:[e.jsx(J,{})," Credit Request"]})]})]}),e.jsxs("div",{className:"flex flex-col justify-between gap-3 p-5 mb-8 rounded-lg shadow-sam2 bg-base-200",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Total Due ",e.jsx(b,{})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-2xl font-semibold",children:r(t)+" "+j}),Number(j)>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"p-1 text-xs uppercase border-2 border-primary bg-primary/10 text-primary",children:"Outstanding"}),e.jsx("button",{className:"normal-case btn bg-sky-100 text-sky-500 hover:bg-sky-200 hover:text-sky-600 max-sm:btn-sm",children:"Pay with card"})]}):null]})]}),e.jsx("div",{className:"px-4 py-2 rounded-md bg-base-100",children:e.jsx("h6",{className:"font-medium whitespace-nowrap",children:"Pay Due Date : 2023-11-30"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("button",{onClick:()=>document.getElementById("offline_payment_modal").showModal(),className:"text-white normal-case btn max-sm:btn-sm btn-info",children:"Offline Payment Information"}),l==="ACTIVE"&&e.jsx("button",{onClick:()=>{var x;return(x=document.getElementById("add_payment_by_card"))==null?void 0:x.showModal()},className:"text-white normal-case btn btn-error",children:"Add Balance by Card"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(K,{to:"/balance-request",className:"normal-case btn max-sm:btn-sm btn-primary",children:"Submit payment"})})]})]})]}),e.jsx($,{finance_summary:a}),e.jsx(G,{}),e.jsx(W,{}),e.jsx(X,{}),l==="ACTIVE"&&e.jsx(Z,{})]})};export{oe as default};
