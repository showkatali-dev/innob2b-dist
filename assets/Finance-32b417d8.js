import{q as e,o as R,m as S,a4 as T,a5 as D,H as n}from"./index-254b55ba.js";import{P as c,d as q,e as H,E as L,aC as N,aD as O,aE as V,aF as U,aG as G,L as J,aH as o,aI as K,aJ as Q}from"./App-71368aaa.js";import{L as Y,I as z,R as W,P as X,A as Z,D as $,O as ee,a as ae}from"./AddPaymentByCardModal-3b3d217a.js";import"./InputDate-000471a8.js";import"./index-467d1d55.js";import"./PhoneNumberSelect-a059f26a.js";import"./NoResult-ffd23798.js";import"./index.esm-4e28b5a6.js";import"./index.esm-9bbccda4.js";const s=({Icon:r,label:a,value:i})=>e.jsxs("div",{className:"p-5 space-y-4 duration-150 border cursor-pointer border-neutral/20 rounded-xl hover:bg-primary hover:text-white bg-base-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"w-7 h-7 grid place-content-center rounded-full text-neutral bg-[#EFE5FB] text-lg",children:e.jsx(r,{})}),e.jsx("div",{className:"flex items-center justify-between gap-6",children:e.jsx("h1",{className:"text-lg font-semibold whitespace-nowrap",children:i})})]}),e.jsx("p",{className:"text-sm opacity-90",children:a})]});s.propTypes={Icon:c.elementType.isRequired,label:c.string.isRequired,value:c.any.isRequired};const me=()=>{var y,j,f,g;const{site_title:r,component_version:a,price_view:i}=R.useState(),{online_payment_option:d}=i||{},{axiosInstance:_}=q(),{user_data:{member_id:m,login_key:x}}=S.useState(),{data:v,isLoading:w,error:u}=H({queryKey:["FINANCE_SUMMARY",m,x],queryFn:async()=>(await _.post("/finance/summery",{member_id:m,login_key:x})).data});if(w)return e.jsx(T,{});if(u)throw u;const{default_currency:t,dashboard:{total_sales_amount:p,monthly_sales_amount:I,monthly_transactions:C,total_due_invoices:F,total_pending_refund:A,available_balance:b,total_credit_amount:E,total_due_amount:h},partner_transaction:k,partner_invoices:B,partner_refunds:M,partner_payment:P}=v;return e.jsxs("main",{className:"container min-h-screen pt-20",children:[e.jsx(D,{children:e.jsxs("title",{children:["Finance",r?" - "+r:""]})}),e.jsx("h1",{className:"mb-8 text-3xl font-semibold",children:"Financial Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6",children:[((y=a==null?void 0:a.general)==null?void 0:y.finance)==="1"&&e.jsx(s,{Icon:L,label:"Available Balance",value:n(t)+" "+b}),e.jsx(s,{Icon:N,label:"Total Sales",value:n(t)+" "+p}),e.jsx(s,{Icon:N,label:"Sales",value:n(t)+" "+I}),e.jsx(s,{Icon:O,label:"Transactions",value:C}),e.jsx(s,{Icon:V,label:"Due Invoices",value:F}),e.jsx(s,{Icon:U,label:"Refund under process",value:A}),((j=a==null?void 0:a.general)==null?void 0:j.finance)==="2"&&e.jsx(s,{Icon:G,label:"point (coming soon)",value:"Loyalty"})]}),((f=a==null?void 0:a.general)==null?void 0:f.finance)==="1"&&e.jsxs("div",{className:"flex items-center justify-end gap-4 mb-8",children:[e.jsx("button",{onClick:()=>document.getElementById("offline_payment_modal").showModal(),className:"text-white normal-case btn btn-info",children:"Offline Payment Information"}),d==="ACTIVE"&&e.jsx("button",{onClick:()=>{var l;return(l=document.getElementById("add_payment_by_card"))==null?void 0:l.showModal()},className:"text-white normal-case btn btn-error",children:"Add Balance by Card"}),e.jsx(J,{to:"/balance-request",className:"normal-case btn btn-primary",children:"Submit payment"})]}),((g=a==null?void 0:a.general)==null?void 0:g.finance)==="2"&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-8 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-3 p-5 mb-8 border shadow-sm border-neutral/20 rounded-xl bg-base-200",children:[e.jsxs("div",{className:"flex items-center justify-between gap-5 mb-3",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Spend ",e.jsx(o,{})]}),e.jsx("h3",{className:"text-2xl font-semibold",children:n(t)+" "+p})]}),e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Available (",e.jsx("span",{className:"text-[10px]",children:"Including"})," ","Credit Limit) ",e.jsx(o,{})]}),e.jsx("h3",{className:"text-2xl font-semibold",children:n(t)+" "+b})]})]}),e.jsx("progress",{className:"w-full h-3 mb-3 progress progress-primary",value:"5",max:"100"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1 px-4 py-3 rounded-md bg-primary/10",children:e.jsxs("h6",{className:"font-medium whitespace-nowrap",children:["Credit limit:"," ",n(t)+" "+E," ",e.jsxs("span",{className:"text-xs bg-sky-500 text-white rounded py-0.5 px-1",children:[e.jsx(K,{}),"Info"]})]})}),e.jsxs("button",{className:"normal-case btn btn-primary",children:[e.jsx(Q,{})," Credit Request"]})]})]}),e.jsxs("div",{className:"flex flex-col justify-between gap-3 p-5 mb-8 border shadow-sm border-neutral/20 rounded-xl bg-base-200",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Total Due ",e.jsx(o,{})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-2xl font-semibold",children:n(t)+" "+h}),Number(h)>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"p-1 text-xs uppercase border-2 border-primary bg-primary/10 text-primary",children:"Outstanding"}),e.jsx("button",{className:"normal-case btn bg-sky-100 text-sky-500 hover:bg-sky-200 hover:text-sky-600",children:"Pay with card"})]}):null]})]}),e.jsx("div",{className:"px-4 py-2 rounded-md bg-primary/10",children:e.jsx("h6",{className:"font-medium whitespace-nowrap",children:"Pay Due Date : 2023-11-30"})}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("button",{onClick:()=>document.getElementById("offline_payment_modal").showModal(),className:"text-white normal-case btn btn-info",children:"Offline Payment Information"}),d==="ACTIVE"&&e.jsx("button",{onClick:()=>{var l;return(l=document.getElementById("add_payment_by_card"))==null?void 0:l.showModal()},className:"text-white normal-case btn btn-error",children:"Add Balance by Card"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>document.getElementById("add_payment_modal").showModal(),className:"normal-case btn btn-primary",children:"Submit payment"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 mb-8 lg:grid-cols-2 gap-x-4 gap-y-8",children:[e.jsx(Y,{data:k}),e.jsx(z,{data:B}),e.jsx(W,{data:M}),e.jsx(X,{data:P})]}),e.jsx(Z,{}),e.jsx($,{}),e.jsx(ee,{}),d==="ACTIVE"&&e.jsx(ae,{})]})};export{me as default};
