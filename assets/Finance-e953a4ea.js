import{q as e,o as E,m as P,a4 as A,a5 as D,H as n}from"./index-a3ec2d78.js";import{P as i,d as q,e as M,E as T,aC as y,aD as B,aE as H,aF as L,aG as O,L as U,aH as d,aI as G,aJ as J}from"./App-87fdd66a.js";import{L as K,I as Q,R as Y,P as z,A as V,D as W,O as X}from"./OfflinePaymentInfoModal-5e263ca6.js";import"./InputDate-4c684fae.js";import"./index-a9492ef6.js";import"./PhoneNumberSelect-7c529eca.js";import"./NoResult-add45cf3.js";import"./index.esm-10fc419e.js";const s=({Icon:l,label:a,value:r})=>e.jsxs("div",{className:"p-5 space-y-4 duration-150 border cursor-pointer border-neutral/20 rounded-xl hover:bg-primary hover:text-white bg-base-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"w-7 h-7 grid place-content-center rounded-full text-neutral bg-[#EFE5FB] text-lg",children:e.jsx(l,{})}),e.jsx("div",{className:"flex items-center justify-between gap-6",children:e.jsx("h1",{className:"text-lg font-semibold whitespace-nowrap",children:r})})]}),e.jsx("p",{className:"text-sm opacity-90",children:a})]});s.propTypes={Icon:i.elementType.isRequired,label:i.string.isRequired,value:i.any.isRequired};const ie=()=>{var h,b,j,f;const{site_title:l,component_version:a}=E.useState(),{axiosInstance:r}=q(),{user_data:{member_id:c,login_key:o}}=P.useState(),{data:g,isLoading:N,error:m}=M({queryKey:["FINANCE_SUMMARY",c,o],queryFn:async()=>(await r.post("/finance/summery",{member_id:c,login_key:o})).data});if(N)return e.jsx(A,{});if(m)throw m;const{default_currency:t,dashboard:{total_sales_amount:x,monthly_sales_amount:v,monthly_transactions:w,total_due_invoices:_,total_pending_refund:I,available_balance:u,total_credit_amount:F,total_due_amount:p},partner_transaction:C,partner_invoices:k,partner_refunds:R,partner_payment:S}=g;return e.jsxs("main",{className:"container min-h-screen pt-20",children:[e.jsx(D,{children:e.jsxs("title",{children:["Finance",l?" - "+l:""]})}),e.jsx("h1",{className:"mb-8 text-3xl font-semibold",children:"Financial Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6",children:[((h=a==null?void 0:a.general)==null?void 0:h.finance)==="1"&&e.jsx(s,{Icon:T,label:"Available Balance",value:n(t)+" "+u}),e.jsx(s,{Icon:y,label:"Total Sales",value:n(t)+" "+x}),e.jsx(s,{Icon:y,label:"Sales",value:n(t)+" "+v}),e.jsx(s,{Icon:B,label:"Transactions",value:w}),e.jsx(s,{Icon:H,label:"Due Invoices",value:_}),e.jsx(s,{Icon:L,label:"Refund under process",value:I}),((b=a==null?void 0:a.general)==null?void 0:b.finance)==="2"&&e.jsx(s,{Icon:O,label:"point (coming soon)",value:"Loyalty"})]}),((j=a==null?void 0:a.general)==null?void 0:j.finance)==="1"&&e.jsxs("div",{className:"flex items-center justify-end gap-4 mb-8",children:[e.jsx("button",{onClick:()=>document.getElementById("offline_payment_modal").showModal(),className:"text-white normal-case btn btn-info",children:"Offline Payment Information"}),e.jsx(U,{to:"/balance-request",className:"normal-case btn btn-primary",children:"Submit payment"})]}),((f=a==null?void 0:a.general)==null?void 0:f.finance)==="2"&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-8 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-3 p-5 mb-8 border shadow-sm border-neutral/20 rounded-xl bg-base-200",children:[e.jsxs("div",{className:"flex items-center justify-between gap-5 mb-3",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Spend ",e.jsx(d,{})]}),e.jsx("h3",{className:"text-2xl font-semibold",children:n(t)+" "+x})]}),e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Available (",e.jsx("span",{className:"text-[10px]",children:"Including"})," ","Credit Limit) ",e.jsx(d,{})]}),e.jsx("h3",{className:"text-2xl font-semibold",children:n(t)+" "+u})]})]}),e.jsx("progress",{className:"w-full h-3 mb-3 progress progress-primary",value:"5",max:"100"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1 px-4 py-3 rounded-md bg-primary/10",children:e.jsxs("h6",{className:"font-medium whitespace-nowrap",children:["Credit limit:"," ",n(t)+" "+F," ",e.jsxs("span",{className:"text-xs bg-sky-500 text-white rounded py-0.5 px-1",children:[e.jsx(G,{}),"Info"]})]})}),e.jsxs("button",{className:"normal-case btn btn-primary",children:[e.jsx(J,{})," Credit Request"]})]})]}),e.jsxs("div",{className:"flex flex-col justify-between gap-3 p-5 mb-8 border shadow-sm border-neutral/20 rounded-xl bg-base-200",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Total Due ",e.jsx(d,{})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-2xl font-semibold",children:n(t)+" "+p}),Number(p)>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"p-1 text-xs uppercase border-2 border-primary bg-primary/10 text-primary",children:"Outstanding"}),e.jsx("button",{className:"normal-case btn bg-sky-100 text-sky-500 hover:bg-sky-200 hover:text-sky-600",children:"Pay with card"})]}):null]})]}),e.jsx("div",{className:"px-4 py-2 rounded-md bg-primary/10",children:e.jsx("h6",{className:"font-medium whitespace-nowrap",children:"Pay Due Date : 2023-11-30"})}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("button",{onClick:()=>document.getElementById("offline_payment_modal").showModal(),className:"text-white normal-case btn btn-info",children:"Offline Payment Information"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>document.getElementById("add_payment_modal").showModal(),className:"normal-case btn btn-primary",children:"Submit payment"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 mb-8 lg:grid-cols-2 gap-x-4 gap-y-8",children:[e.jsx(K,{data:C}),e.jsx(Q,{data:k}),e.jsx(Y,{data:R}),e.jsx(z,{data:S})]}),e.jsx(V,{}),e.jsx(W,{}),e.jsx(X,{})]})};export{ie as default};
