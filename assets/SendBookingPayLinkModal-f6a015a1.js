import{o as S,e as k,m as w,q as e,T as o}from"./index-dadb706a.js";import{P as E,d as q,ad as I}from"./App-f576335e.js";const P=({data:f})=>{var d,u;const{system_config:a}=S.useState(),[r,l]=k.useState(!1),{axiosInstance:h}=q(),{tracking_id:_,booking_id:g,guest_info:m}=f,{user_data:{member_id:y}}=w.useState(),j=async t=>{var p,x,b;t.preventDefault(),l(!0);const n=t.target,i=n.name.value,v=n.platform_type.value,c=n.receiver_id.value;if(!i||!c)return;const N={name:i,receiver_id:c,member_id:y,platform_type:v,tracking_id:_};try{const s=await h.post("/tools/send-voucher-link",N);document.getElementById("send_voucher_modal").close(),((p=s.data)==null?void 0:p.status)==="success"?o("success","Sent!",(x=s.data)==null?void 0:x.reason):o("error","Sending Failed!",(b=s.data)==null?void 0:b.reason)}catch(s){o("error","Sending Failed!",s.message)}finally{l(!1)}};return e.jsx("dialog",{id:"send_voucher_modal",className:"modal",children:e.jsxs("form",{onSubmit:j,className:"p-4 modal-box",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Send Voucher - ",g]}),e.jsx("hr",{className:"mb-4"}),e.jsx("p",{className:"mb-2 text-sm font-medium text-neutral",children:"Enter your name."}),e.jsx("input",{autoComplete:"off",type:"text",name:"name",className:"input input-bordered min-h-8 text-sm rounded h-10 focus:outline-0 focus:border-neutral/30  w-full max-w-[300px]",defaultValue:m.guest_name||"",required:!0,placeholder:"Name"}),e.jsx("p",{className:"mt-3 mb-2 text-sm font-medium text-neutral",children:"Select Platform Type."}),e.jsx("select",{type:"text",name:"platform_type",className:"select select-bordered min-h-8 text-sm rounded h-10 focus:outline-0 focus:border-neutral/30 mb-2 w-full max-w-[300px]",required:!0,children:(u=(d=a==null?void 0:a.support_send_alert_platform_type)==null?void 0:d.data)==null?void 0:u.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("p",{className:"mt-3 mb-2 text-sm font-medium text-neutral",children:"Enter Receiver ID."}),e.jsx("input",{autoComplete:"off",type:"text",name:"receiver_id",className:"input input-bordered min-h-8 text-sm rounded h-10 focus:outline-0 focus:border-neutral/30 mb-2 w-full max-w-[300px]",defaultValue:m.guest_email||"",required:!0,placeholder:"Email"}),e.jsx("hr",{}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{type:"submit",className:`normal-case btn btn-success btn-sm btn-outline ${r?"pointer-events-none":""}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 animate-spin"})," Processing..."]}):"Send"}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("send_voucher_modal").close(),className:"normal-case btn btn-sm btn-outline text-neutral/70 hover:bg-neutral/70 border-neutral/70 hover:border-neutral/70",children:"Close"})]})]})})};P.propTypes={data:E.object.isRequired};const C=({data:f})=>{var d,u;const{system_config:a}=S.useState(),[r,l]=k.useState(!1),{axiosInstance:h}=q(),{tracking_id:_,booking_id:g,guest_info:m}=f,{user_data:{member_id:y}}=w.useState(),j=async t=>{var p,x,b;t.preventDefault(),l(!0);const n=t.target,i=n.name.value,v=n.platform_type.value,c=n.receiver_id.value;if(!i||!c)return;const N={name:i,receiver_id:c,member_id:y,platform_type:v,tracking_id:_};try{const s=await h.post("/tools/send-booking-payment-link",N);document.getElementById("send_booking_pay_link_modal").close(),((p=s.data)==null?void 0:p.status)==="success"?o("success","Sent!",(x=s.data)==null?void 0:x.reason):o("error","Sending Failed!",(b=s.data)==null?void 0:b.reason)}catch(s){o("error","Sending Failed!",s.message)}finally{l(!1)}};return e.jsx("dialog",{id:"send_booking_pay_link_modal",className:"modal",children:e.jsxs("form",{onSubmit:j,className:"p-4 modal-box",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Send Pay Link - ",g]}),e.jsx("hr",{className:"mb-4"}),e.jsx("p",{className:"mb-2 text-sm font-medium text-neutral",children:"Enter your name."}),e.jsx("input",{autoComplete:"off",type:"text",name:"name",className:"input input-bordered min-h-8 text-sm rounded h-10 focus:outline-0 focus:border-neutral/30 mb-2 w-full max-w-[300px]",defaultValue:m.guest_name||"",required:!0,placeholder:"Name"}),e.jsx("p",{className:"mt-3 mb-2 text-sm font-medium text-neutral",children:"Select Platform Type."}),e.jsx("select",{type:"text",name:"platform_type",className:"select select-bordered min-h-8 text-sm rounded h-10 focus:outline-0 focus:border-neutral/30 mb-2 w-full max-w-[300px]",required:!0,children:(u=(d=a==null?void 0:a.support_send_alert_platform_type)==null?void 0:d.data)==null?void 0:u.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("p",{className:"mt-3 mb-2 text-sm font-medium text-neutral",children:"Enter Receiver ID."}),e.jsx("input",{autoComplete:"off",type:"text",name:"receiver_id",className:"input input-bordered min-h-8 text-sm rounded h-10 focus:outline-0 focus:border-neutral/30 mb-2 w-full max-w-[300px]",defaultValue:m.guest_email||"",required:!0,placeholder:"Email"}),e.jsx("hr",{}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{type:"submit",className:`normal-case btn btn-success btn-sm btn-outline ${r?"pointer-events-none":""}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 animate-spin"})," Processing..."]}):"Send Email"}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("send_booking_pay_link_modal").close(),className:"normal-case btn btn-sm btn-outline text-neutral/70 hover:bg-neutral/70 border-neutral/70 hover:border-neutral/70",children:"Close"})]})]})})};C.propTypes={data:E.object.isRequired};export{C as S,P as a};
