import{cQ as Et,a as d,u as D,j as e,V as Se,as as Ae,X as yt,r as v,cR as Ft,cS as Tt,P as N,s as U,d as ae,g as $,cT as Q,cU as q,cV as X,bK as Oe,cW as Re,b as ne,c as vt,v as de,cX as Bt,L as ge,cY as ke,cZ as Ie,c_ as De,e as Ee,c$ as Fe,aC as Te,bL as xt,o as se,k as Be,ae as Lt,d0 as Mt,d1 as Pt,F as Vt,q as Gt,an as Wt,cP as Yt,i as J,d2 as ee,d3 as te,d4 as be,d5 as _e,h as ye,al as zt}from"./index.js";import{k as fe,d as Zt,l as Ut}from"./index.esm.js";import{e as re,D as Le,c as je,d as Ht,b as bt}from"./SuppliersSelection2.js";import{C as pe,a as Me,b as H,S as Pe,c as _t,d as Ct,e as Nt,f as wt}from"./SingleSelect.js";import{I as Ve}from"./InputDate.js";import{P as Jt}from"./PrimaryTabsWithIcon.js";import{a as $t,m as Qt}from"./index.esm2.js";/**
 * @license lucide-react v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),qt=()=>{const{travelers_adult:a}=d.useState(t=>t),{t:l}=D();return e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text text-neutral/70",children:e.jsx("i",{className:"inline-block alight-middle",children:e.jsx(Se,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:l("adults")}),e.jsxs("p",{className:"text-[10px] text-neutral leading-3",children:[">12 ",l("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>1&&d.update(t=>{t.travelers_adult=a-1})},type:"button",disabled:a===1,className:"rounded minusBtn btn btn-xs btn-primary",children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>d.update(t=>{t.travelers_adult=a+1}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]})},Xt=()=>{const{travelers_child:a,travelers_child_age:l}=d.useState(n=>n),{t}=D();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1 child-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"pb-3 text-xl text-neutral/70",children:e.jsx("i",{className:"inline-block align-middle",children:e.jsx(Ae,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:t("children")}),e.jsxs("p",{className:"text-xs",children:["2-12 ",t("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>0&&d.update(n=>{n.travelers_child=a-1,n.travelers_child_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:a===0,children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>{d.update(n=>{n.travelers_child=a+1,n.travelers_child_age.push("12")})},type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),(l==null?void 0:l.length)>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:l.map((n,r)=>e.jsxs("select",{className:"select select-xs w-full focus:outline-0 font-normal !text-xs rounded",defaultValue:n,onChange:s=>d.update(i=>{i.travelers_child_age[r]=s.target.value}),children:[e.jsxs("option",{value:"12",children:["12 ",t("years_old")]}),e.jsxs("option",{value:"11",children:["11 ",t("years_old")]}),e.jsxs("option",{value:"10",children:["10 ",t("years_old")]}),e.jsxs("option",{value:"9",children:["9 ",t("years_old")]}),e.jsxs("option",{value:"8",children:["8 ",t("years_old")]}),e.jsxs("option",{value:"7",children:["7 ",t("years_old")]}),e.jsxs("option",{value:"6",children:["6 ",t("years_old")]}),e.jsxs("option",{value:"5",children:["5 ",t("years_old")]}),e.jsxs("option",{value:"4",children:["4 ",t("years_old")]}),e.jsxs("option",{value:"3",children:["3 ",t("years_old")]}),e.jsxs("option",{value:"2",children:["2 ",t("years_old")]})]},r))})]})},Kt=()=>{const{travelers_infants:a,travelers_infants_age:l}=d.useState(n=>n),{t}=D();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 infants-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"pb-3 text-xl text-neutral/70",children:[e.jsx("i",{className:"fa-solid fa-hands-holding-child"}),e.jsx("i",{className:"inline-block align-middle",children:e.jsx(yt,{})})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:t("infants")}),e.jsxs("p",{className:"text-xs",children:["<2 ",t("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>0&&d.update(n=>{n.travelers_infants=a-1,n.travelers_infants_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:a===0,children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>d.update(n=>{n.travelers_infants=a+1,n.travelers_infants_age.push("1")}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),(l==null?void 0:l.length)>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1",children:l.map((n,r)=>e.jsxs("select",{className:"select select-xs w-full focus:outline-0 font-normal !text-xs rounded",defaultValue:n,onChange:s=>d.update(i=>{i.travelers_infants_age[r]=s.target.value}),children:[e.jsxs("option",{value:"1",children:["1 ",t("year_old")]}),e.jsx("option",{value:"0",children:t("below_1_year")})]},r))})]})},Za=()=>{const[a,l]=v.useState(!1),t=v.useRef(),{travelers_adult:n,travelers_child:r,travelers_infants:s}=d.useState(c=>c),{t:i}=D(),p=n+r+s;return v.useEffect(()=>{const c=u=>{t.current&&!t.current.contains(u.target)&&l(!1)};return document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}},[]),e.jsxs("div",{ref:t,className:`relative passengerContainer group ${a?"active":""}`,children:[e.jsxs("button",{onClick:()=>l(!a),type:"button",className:"w-full px-4 py-2 text-xs rounded-xl hover:bg-neutral/10 text-start lg:text-sm",children:[p," ",p>1?i("Passengers"):i("Passenger"),e.jsx("i",{className:"ml-1 inline-flex align-middle items-center",children:a?e.jsx(Ft,{}):e.jsx(Tt,{})})]}),e.jsxs("div",{className:"absolute top-full right-0 z-10 w-64 min-w-full py-1 origin-['50%_0'] border rounded-lg mt-0.5 shadow-[0_4px_16px_0_rgba(69,88,115,.2)] max-w-max lists bg-base-200 transition-all scale-90 -translate-y-8 opacity-0 pointer-events-none group-[.active]:pointer-events-auto group-[.active]:scale-100 group-[.active]:translate-y-0 group-[.active]:opacity-100",style:{transition:"all .2s cubic-bezier(.5,0,0,1.25), opacity .15s ease-out"},children:[e.jsxs("div",{className:"p-5",children:[e.jsx(qt,{}),e.jsx(Xt,{}),e.jsx(Kt,{})]}),e.jsx("hr",{className:"mb-2"}),e.jsx("div",{className:"px-2",children:e.jsx("button",{onClick:()=>l(!1),type:"button",className:"w-full h-10 min-h-0 normal-case rounded-md btn btn-primary",children:i("apply")})})]})]})},At=({isActive:a,setIsActive:l,fieldName:t})=>{const{system_config:n}=U.useState(),[r,s]=v.useState({}),{axiosInstance:i}=ae(),{data:p=[]}=$(["AIRPORTS"],async()=>(await i.get("/tools/airport-autosuggetion-data")).data),[c,u]=v.useState({}),h=v.useRef();v.useEffect(()=>{var o;const m=((o=n==null?void 0:n.default_flight_suggetion)==null?void 0:o.reduce((j,_)=>({...j,[_.city_name]:j!=null&&j[_.city_name]?[...j[_.city_name],_]:[_]}),{}))||{};s(m)},[n==null?void 0:n.default_flight_suggetion]),v.useEffect(()=>{a?h.current&&h.current.focus():(u(r),h.current&&(h.current.value=""))},[a,r]);const g=m=>{t.name==="arrival_airport"?d.update(o=>{o.segment[t.index]={...o.segment[t.index],arrival_airport:m,arrival_airport_type:"AIRPORT"},o.segment[t.index+1]={...o.segment[t.index+1],departure_airport:m,departure_airport_type:"AIRPORT"},o.segment[t.index+1].departure_airport_type="AIRPORT"}):d.update(o=>{o.segment[t.index]={...o.segment[t.index],departure_airport:m,departure_airport_type:"AIRPORT"},o.segment[t.index][t.name]=m,o.segment[t.index].departure_airport_type="AIRPORT"}),l(!1)},x=m=>{t.name==="arrival_airport"?d.update(o=>{o.segment[t.index]={...o.segment[t.index],arrival_airport:m,arrival_airport_type:"CITY"},o.segment[t.index+1]={...o.segment[t.index+1],departure_airport:m,departure_airport_type:"CITY"},o.segment[t.index+1].departure_airport_type="CITY"}):d.update(o=>{o.segment[t.index]={...o.segment[t.index],departure_airport:m,departure_airport_type:"CITY"},o.segment[t.index][t.name]=m,o.segment[t.index].departure_airport_type="CITY"}),l(!1)},f=m=>{var j,_,O,M,P,G;const o=m.target.value.toLowerCase();if(o.trim().length>0){const W=[],V=[],I=[],B=[],R=[],k=[];for(const y of p){const w=(j=y.city_code)==null?void 0:j.toLowerCase(),S=(_=y.code)==null?void 0:_.toLowerCase(),C=(O=y.airport_name)==null?void 0:O.toLowerCase(),b=(M=y.city_name)==null?void 0:M.toLowerCase(),A=(P=y.country_name)==null?void 0:P.toLowerCase(),Y=(G=y.search_contents)==null?void 0:G.toLowerCase();w===o?W.push(y):S===o?V.push(y):C.split(" ").some(Z=>Z.startsWith(o)||C.startsWith(o))?I.push(y):b!=null&&b.startsWith(o)?B.push(y):A!=null&&A.startsWith(o)?R.push(y):Y.includes(o)&&k.push(y)}[W,V,I,B,R,k].forEach(y=>y.sort((w,S)=>(w==null?void 0:w.priority)-(S==null?void 0:S.priority)));const E=W.concat(V,I,B,R,k).slice(0,50),L={};E.forEach(y=>{L[y.city_name]=[...L[y.city_name]||[],y]}),u(L)}else u(r)};return e.jsxs(Q,{open:a,onOpenChange:l,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{})}),e.jsx(X,{align:"start",onClick:m=>m.stopPropagation(),asChild:!0,children:e.jsxs(pe,{className:"p-0 w-[350px] max-w-full",children:[e.jsx("input",{autoComplete:"off",ref:h,onChange:f,type:"search",className:"w-full pl-10 my-2 text-xs bg-transparent border-none outline-none",placeholder:"Airport code, city, name or country"}),e.jsx("span",{className:"absolute text-xs top-2 left-4",children:e.jsx(Oe,{className:"inline"})}),e.jsx("hr",{}),e.jsx(Me,{className:"overflow-auto text-xs max-h-64",children:Object.keys(c).length>0?Object.keys(c).map(m=>{const o=c[m];return o.length>1?e.jsxs("div",{className:"border-b",children:[e.jsxs(H,{onSelect:()=>x(o[0]),className:"flex gap-2 p-2 cursor-pointer",children:[e.jsx(Re,{className:"text-lg"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex gap-2 text-xs",children:[e.jsx("span",{className:"font-medium text-primary",children:o[0].city_name}),e.jsx("span",{className:"text-neutral/80",children:o[0].city_code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:o[0].country_name})]})]}),o.map(j=>e.jsx(H,{onSelect:()=>g(j),className:"pl-6 cursor-pointer",children:e.jsxs("div",{className:"flex gap-2 py-2 pr-2 border-t border-primary/10",children:[e.jsx(re,{className:"text-base rotate-45"}),e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px] flex-1",children:[e.jsx("span",{children:j.airport_name}),e.jsx("span",{className:"text-neutral/80",children:j.code})]})]})},j.code))]},m):o.map(j=>e.jsxs(H,{onSelect:()=>g(j),className:"flex gap-2 p-2 border-b cursor-pointer border-primary/10",children:[e.jsx(re,{className:"text-lg rotate-45"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px]",children:[e.jsxs("span",{children:[j.city_name," - ",j.country_name]}),e.jsx("span",{className:"text-neutral",children:j.code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:j.airport_name})]})]},j.code))}):e.jsx("p",{className:"py-10 text-center text-error",children:"No result found"})})]})})]})};At.propTypes={isActive:N.bool.isRequired,setIsActive:N.func.isRequired,fieldName:N.object.isRequired};const ce=({label:a,fieldName:l,value:t})=>{const[n,r]=v.useState(!1),s=v.useRef(),{t:i}=D();return v.useEffect(()=>{const p=c=>{s.current&&!s.current.contains(c.target)&&r(!1)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}},[]),e.jsxs("div",{ref:s,className:`sb-input-container group ${n?"active":""}`,children:[e.jsx("label",{className:"sb-label",children:a}),e.jsx("input",{autoComplete:"off",onClick:()=>r(!0),type:"text",className:"sb-input",placeholder:i("select"),value:t,readOnly:!0}),e.jsx(At,{isActive:n,setIsActive:r,fieldName:l})]})};ce.propTypes={label:N.string.isRequired,fieldName:N.object.isRequired,value:N.string.isRequired};const ue=({label:a,defaultValue:l,minDate:t,action:n,...r})=>{const{journey_type:s}=d.useState(i=>i);return e.jsxs("div",{className:"sb-input-container",children:[e.jsx("label",{className:"sb-label",children:a}),e.jsx(Ve,{className:`sb-input ${a==="Return Date"&&s!=="RoundTrip"?"pointer-events-none opacity-50":"pointer-events-auto opacity-100 cursor-pointer"}`,defaultValue:ne(l).format("YYYY-MM-DD"),minDate:t,type:"text",action:n,placeholder:"mm/dd/yyyy",...r})]})};ue.propTypes={label:N.string.isRequired,defaultValue:N.string.isRequired,minDate:N.string.isRequired,action:N.func.isRequired};const Ua=()=>{var n,r,s,i,p;const{segment:a,journey_type:l}=d.useState(c=>c),{t}=D();return e.jsxs("div",{className:"grid-cols-1 gap-5 mb-4 sm:grid-cols-2 lg:grid-cols-5 one-way-round-trip grid",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-1 sm:grid-cols-2 sm:col-span-2 lg:col-span-3",children:[e.jsx(ce,{label:t("leaving_from"),fieldName:{name:"departure_airport",index:0},value:(n=a[0])!=null&&n.departure_airport?a[0].departure_airport_type==="AIRPORT"?`${a[0].departure_airport.code} - ${a[0].departure_airport.airport_name}`:`${a[0].departure_airport.city_code} - ${a[0].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{onClick:()=>d.update(c=>{c.segment[0].arrival_airport=a[0].departure_airport,c.segment[0].departure_airport=a[0].arrival_airport}),type:"button",className:"w-8 h-8 flex justify-center items-center absolute right-4 sm:left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white text-primary border border-neutral/20 rounded-[50%] shadow rotate-90 sm:rotate-0 z-[1]",disabled:!((r=a[0])!=null&&r.departure_airport)||!((s=a[0])!=null&&s.arrival_airport),children:e.jsx(fe,{})}),e.jsx(ce,{label:t("going_to"),fieldName:{name:"arrival_airport",index:0},value:(i=a[0])!=null&&i.arrival_airport?a[0].arrival_airport_type==="AIRPORT"?`${a[0].arrival_airport.code} - ${a[0].arrival_airport.airport_name}`:`${a[0].arrival_airport.city_code} - ${a[0].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(ue,{label:t("departure_date"),minDate:"today",defaultValue:a[0].departure_date||ne().format("YYYY-MM-DD"),action:async c=>{var u,h;await d.update(g=>{g.segment[0].departure_date=c}),l==="RoundTrip"&&((h=(u=document.getElementById("_return_date"))==null?void 0:u.nextElementSibling)==null||h.click())}}),e.jsx(ue,{label:t("return_date"),defaultValue:((p=a[0])==null?void 0:p.arrival_date)||null,minDate:a[0].departure_date||"today",action:c=>{d.update(u=>{u.segment[0].arrival_date=c})},id:"_return_date"})]})},Ha=()=>{const{flight_count:a,segment:l}=d.useState(r=>r),{t}=D(),n=r=>{a>2&&d.update(s=>{s.flight_count=a-1,s.segment=l.filter((i,p)=>p!==r)})};return e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{type:"button",onClick:()=>d.update(r=>{r.flight_count=a+1,r.segment.length<a&&r.segment.push({departure_airport:r.segment.at(-1).departure_airport,departure_airport_type:r.segment.at(-1).departure_airport_type,arrival_airport:null,arrival_airport_type:"",departure_date:"",return_date:""})}),className:"normal-case btn btn-sm btn-primary btn-outline",children:["+ ",t("add_flight")]})}),e.jsx("div",{className:"flex flex-col gap-5 multi-flight",children:Array(a).fill("").map((r,s)=>{var i,p,c,u,h,g;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"grid w-full grid-cols-1 gap-5 md:grid-cols-4",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-1 md:col-span-3 md:grid-cols-2",children:[e.jsx(ce,{label:t("leaving_from"),fieldName:{name:"departure_airport",index:s},value:(i=l[s])!=null&&i.departure_airport?l[s].departure_airport_type==="AIRPORT"?`${l[s].departure_airport.code} - ${l[s].departure_airport.airport_name}`:`${l[s].departure_airport.city_code} - ${l[s].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{type:"button",onClick:()=>d.update(x=>{x.segment[s].arrival_airport=l[s].departure_airport,x.segment[s].departure_airport=l[s].arrival_airport}),className:"w-8 h-8 flex justify-center items-center absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-base-200 shadow text-primary border border-neutral/20 rounded-[50%] rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((p=l[s])!=null&&p.departure_airport)||!((c=l[s])!=null&&c.arrival_airport),children:e.jsx(fe,{})}),e.jsx(ce,{label:t("going_to"),fieldName:{name:"arrival_airport",index:s},value:(u=l[s])!=null&&u.arrival_airport?l[s].arrival_airport_type==="AIRPORT"?`${l[s].arrival_airport.code} - ${l[s].arrival_airport.airport_name}`:`${l[s].arrival_airport.city_code} - ${l[s].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(ue,{label:t("departure_date"),minDate:(h=l[s-1])!=null&&h.departure_date?l[s-1].departure_date:"today",defaultValue:((g=l[s])==null?void 0:g.departure_date)||new Date().toDateString(),action:x=>{var f;d.update(m=>{m.segment[s].departure_date=x}),(f=l[s])!=null&&f.arrival_date&&new Date(x)>new Date(l[s].arrival_date)&&d.update(m=>{m.segment[s].arrival_date=""})}})]}),e.jsx("button",{type:"button",onClick:()=>n(s),className:"text-xl text-neutral/90 ms-1 removeBtn disabled:opacity-30",disabled:a<3,children:e.jsx("i",{children:e.jsx(vt,{})})})]},de())})})]})};var Ot={exports:{}},he={};Object.defineProperty(he,"__esModule",{value:!0});var le,Ce=v,F=(le=Ce)&&typeof le=="object"&&"default"in le?le.default:le;function Rt(a,l){return(Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(a,l)}function T(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(function(a,l){l===void 0&&(l={});var t=l.insertAt;if(typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a))}})('.multiSelectContainer,.multiSelectContainer *,.multiSelectContainer :after,.multiSelectContainer :before{box-sizing:border-box}.multiSelectContainer{position:relative;text-align:left;width:100%}.disable_ms{opacity:.5;pointer-events:none}.display-none{display:none}.searchWrapper{border:1px solid #ccc;border-radius:4px;min-height:22px;padding:5px;position:relative}.multiSelectContainer input{background:transparent;border:none;margin-top:3px}.multiSelectContainer input:focus{outline:none}.chip{align-items:center;background:#0096fb;border-radius:11px;color:#fff;display:inline-flex;font-size:13px;line-height:19px;margin-bottom:5px;margin-right:5px;padding:4px 10px}.chip,.singleChip{white-space:nowrap}.singleChip{background:none;border-radius:none;color:inherit}.singleChip i{display:none}.closeIcon{cursor:pointer;float:right;height:13px;margin-left:5px;width:13px}.optionListContainer{background:#fff;border-radius:4px;margin-top:1px;position:absolute;width:100%;z-index:2}.multiSelectContainer ul{border:1px solid #ccc;border-radius:4px;display:block;margin:0;max-height:250px;overflow-y:auto;padding:0}.multiSelectContainer li{padding:10px}.multiSelectContainer li:hover{background:#0096fb;color:#fff;cursor:pointer}.checkbox{margin-right:10px}.disableSelection{opacity:.5;pointer-events:none}.highlightOption{background:#0096fb;color:#fff}.displayBlock{display:block}.displayNone{display:none}.notFound{display:block;padding:10px}.singleSelect{padding-right:20px}li.groupHeading{color:#908e8e;padding:5px 15px;pointer-events:none}li.groupChildEle{padding-left:30px}.icon_down_dir{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:14px}.icon_down_dir:before{content:"\\e803"}.custom-close{display:flex}');var gt={circle:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M256%2C33C132.3%2C33%2C32%2C133.3%2C32%2C257c0%2C123.7%2C100.3%2C224%2C224%2C224c123.7%2C0%2C224-100.3%2C224-224C480%2C133.3%2C379.7%2C33%2C256%2C33z%20%20%20%20M364.3%2C332.5c1.5%2C1.5%2C2.3%2C3.5%2C2.3%2C5.6c0%2C2.1-0.8%2C4.2-2.3%2C5.6l-21.6%2C21.7c-1.6%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3L256%2C289.8%20%20%20l-75.4%2C75.7c-1.5%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3l-21.6-21.7c-1.5-1.5-2.3-3.5-2.3-5.6c0-2.1%2C0.8-4.2%2C2.3-5.6l75.7-76%20%20%20l-75.9-75c-3.1-3.1-3.1-8.2%2C0-11.3l21.6-21.7c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l75.7%2C74.7l75.7-74.7%20%20%20c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l21.6%2C21.7c3.1%2C3.1%2C3.1%2C8.2%2C0%2C11.3l-75.9%2C75L364.3%2C332.5z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",circle2:"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2096%2096%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M48%2C0A48%2C48%2C0%2C1%2C0%2C96%2C48%2C48.0512%2C48.0512%2C0%2C0%2C0%2C48%2C0Zm0%2C84A36%2C36%2C0%2C1%2C1%2C84%2C48%2C36.0393%2C36.0393%2C0%2C0%2C1%2C48%2C84Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M64.2422%2C31.7578a5.9979%2C5.9979%2C0%2C0%2C0-8.4844%2C0L48%2C39.5156l-7.7578-7.7578a5.9994%2C5.9994%2C0%2C0%2C0-8.4844%2C8.4844L39.5156%2C48l-7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C1%2C0%2C8.4844%2C8.4844L48%2C56.4844l7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C0%2C0%2C8.4844-8.4844L56.4844%2C48l7.7578-7.7578A5.9979%2C5.9979%2C0%2C0%2C0%2C64.2422%2C31.7578Z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",close:"data:image/svg+xml,%3Csvg%20height%3D%22135.467mm%22%20style%3D%22shape-rendering%3AgeometricPrecision%3B%20text-rendering%3AgeometricPrecision%3B%20image-rendering%3AoptimizeQuality%3B%20fill-rule%3Aevenodd%3B%20clip-rule%3Aevenodd%22%20viewBox%3D%220%200%2013547%2013547%22%20width%3D%22135.467mm%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20%20%20%20%20.fil0%20%7Bfill%3Anone%7D%20%20%20%20%20%20%20%20%20%20%20%20.fil1%20%7Bfill%3A%23fff%7D%20%20%20%20%20%20%20%20%3C%2Fstyle%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Ebene_x0020_1%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20class%3D%22fil0%22%20points%3D%220%2C0%2013547%2C0%2013547%2C13547%200%2C13547%20%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22fil1%22%20d%3D%22M714%2012832l12118%200%200%20-12117%20-12118%200%200%2012117zm4188%20-2990l1871%20-1871%201871%201871%201197%20-1197%20-1871%20-1871%201871%20-1871%20-1197%20-1197%20-1871%201871%20-1871%20-1871%20-1197%201197%201871%201871%20-1871%201871%201197%201197z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",cancel:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E"};function ea(a){var l,t,n=Ce.useRef(null);return t=a.outsideClick,Ce.useEffect(function(){function r(s){l.current&&!l.current.contains(s.target)&&t()}return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[l=n]),F.createElement("div",{ref:n},a.children)}var ve=function(a){var l,t;function n(s){var i;return(i=a.call(this,s)||this).state={inputValue:"",options:s.options,filteredOptions:s.options,unfilteredOptions:s.options,selectedValues:Object.assign([],s.selectedValues),preSelectedValues:Object.assign([],s.selectedValues),toggleOptionsList:!1,highlightOption:s.avoidHighlightFirstOption?-1:0,showCheckbox:s.showCheckbox,keepSearchTerm:s.keepSearchTerm,groupedObject:[],closeIconType:gt[s.closeIcon]||gt.circle},i.optionTimeout=null,i.searchWrapper=F.createRef(),i.searchBox=F.createRef(),i.onChange=i.onChange.bind(T(i)),i.onKeyPress=i.onKeyPress.bind(T(i)),i.onFocus=i.onFocus.bind(T(i)),i.onBlur=i.onBlur.bind(T(i)),i.renderMultiselectContainer=i.renderMultiselectContainer.bind(T(i)),i.renderSelectedList=i.renderSelectedList.bind(T(i)),i.onRemoveSelectedItem=i.onRemoveSelectedItem.bind(T(i)),i.toggelOptionList=i.toggelOptionList.bind(T(i)),i.onArrowKeyNavigation=i.onArrowKeyNavigation.bind(T(i)),i.onSelectItem=i.onSelectItem.bind(T(i)),i.filterOptionsByInput=i.filterOptionsByInput.bind(T(i)),i.removeSelectedValuesFromOptions=i.removeSelectedValuesFromOptions.bind(T(i)),i.isSelectedValue=i.isSelectedValue.bind(T(i)),i.fadeOutSelection=i.fadeOutSelection.bind(T(i)),i.isDisablePreSelectedValues=i.isDisablePreSelectedValues.bind(T(i)),i.renderGroupByOptions=i.renderGroupByOptions.bind(T(i)),i.renderNormalOption=i.renderNormalOption.bind(T(i)),i.listenerCallback=i.listenerCallback.bind(T(i)),i.resetSelectedValues=i.resetSelectedValues.bind(T(i)),i.getSelectedItems=i.getSelectedItems.bind(T(i)),i.getSelectedItemsCount=i.getSelectedItemsCount.bind(T(i)),i.hideOnClickOutside=i.hideOnClickOutside.bind(T(i)),i.onCloseOptionList=i.onCloseOptionList.bind(T(i)),i.isVisible=i.isVisible.bind(T(i)),i}t=a,(l=n).prototype=Object.create(t.prototype),l.prototype.constructor=l,Rt(l,t);var r=n.prototype;return r.initialSetValue=function(){var s=this.props,i=s.groupBy,p=this.state.options;s.showCheckbox||s.singleSelect||this.removeSelectedValuesFromOptions(!1),i&&this.groupByOptions(p)},r.resetSelectedValues=function(){var s=this,i=this.state.unfilteredOptions;return new Promise(function(p){s.setState({selectedValues:[],preSelectedValues:[],options:i,filteredOptions:i},function(){p(),s.initialSetValue()})})},r.getSelectedItems=function(){return this.state.selectedValues},r.getSelectedItemsCount=function(){return this.state.selectedValues.length},r.componentDidMount=function(){this.initialSetValue(),this.searchWrapper.current.addEventListener("click",this.listenerCallback)},r.componentDidUpdate=function(s){var i=this.props,p=i.options,c=i.selectedValues,u=s.selectedValues;JSON.stringify(s.options)!==JSON.stringify(p)&&this.setState({options:p,filteredOptions:p,unfilteredOptions:p},this.initialSetValue),JSON.stringify(u)!==JSON.stringify(c)&&this.setState({selectedValues:Object.assign([],c),preSelectedValues:Object.assign([],c)},this.initialSetValue)},r.listenerCallback=function(){this.searchBox.current.focus()},r.componentWillUnmount=function(){this.optionTimeout&&clearTimeout(this.optionTimeout),this.searchWrapper.current.removeEventListener("click",this.listenerCallback)},r.removeSelectedValuesFromOptions=function(s){var i=this.props,p=i.isObject,c=i.displayValue,u=i.groupBy,h=this.state,g=h.selectedValues,x=g===void 0?[]:g,f=h.unfilteredOptions;if(!s&&u&&this.groupByOptions(h.options),x.length||s){if(p){var m=f.filter(function(j){return x.findIndex(function(_){return _[c]===j[c]})===-1});return u&&this.groupByOptions(m),void this.setState({options:m,filteredOptions:m},this.filterOptionsByInput)}var o=f.filter(function(j){return x.indexOf(j)===-1});this.setState({options:o,filteredOptions:o},this.filterOptionsByInput)}},r.groupByOptions=function(s){var i=this.props.groupBy,p=s.reduce(function(c,u){var h=u[i]||"Others";return c[h]=c[h]||[],c[h].push(u),c},Object.create({}));this.setState({groupedObject:p})},r.onChange=function(s){var i=this.props.onSearch;this.setState({inputValue:s.target.value},this.filterOptionsByInput),i&&i(s.target.value)},r.onKeyPress=function(s){var i=this.props.onKeyPressFn;i&&i(s,s.target.value)},r.filterOptionsByInput=function(){var s,i=this,p=this.state,c=p.inputValue,u=this.props,h=u.displayValue;s=p.filteredOptions.filter(u.isObject?function(g){return i.matchValues(g[h],c)}:function(g){return i.matchValues(g,c)}),this.groupByOptions(s),this.setState({options:s})},r.matchValues=function(s,i){return this.props.caseSensitiveSearch?s.indexOf(i)>-1:s.toLowerCase?s.toLowerCase().indexOf(i.toLowerCase())>-1:s.toString().indexOf(i)>-1},r.onArrowKeyNavigation=function(s){var i=this.state,p=i.options,c=i.highlightOption,u=i.toggleOptionsList,h=i.selectedValues;if(s.keyCode!==8||i.inputValue||this.props.disablePreSelectedValues||!h.length||this.onRemoveSelectedItem(h.length-1),p.length){if(s.keyCode===38)this.setState(c>0?function(g){return{highlightOption:g.highlightOption-1}}:{highlightOption:p.length-1});else if(s.keyCode===40)this.setState(c<p.length-1?function(g){return{highlightOption:g.highlightOption+1}}:{highlightOption:0});else if(s.key==="Enter"&&p.length&&u){if(c===-1)return;this.onSelectItem(p[c])}}},r.onRemoveSelectedItem=function(s){var i,p=this,c=this.state.selectedValues,u=this.props,h=u.onRemove,g=u.showCheckbox,x=u.displayValue;i=u.isObject?c.findIndex(function(f){return f[x]===s[x]}):c.indexOf(s),c.splice(i,1),h(c,s),this.setState({selectedValues:c},function(){g||p.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus()},r.onSelectItem=function(s){var i=this,p=this.state.selectedValues,c=this.props,u=c.selectionLimit,h=c.onSelect,g=c.singleSelect,x=c.showCheckbox;if(this.state.keepSearchTerm||this.setState({inputValue:""}),g)return this.onSingleSelect(s),void h([s],s);this.isSelectedValue(s)?this.onRemoveSelectedItem(s):u!=p.length&&(p.push(s),h(p,s),this.setState({selectedValues:p},function(){x?i.filterOptionsByInput():i.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus())},r.onSingleSelect=function(s){this.setState({selectedValues:[s],toggleOptionsList:!1})},r.isSelectedValue=function(s){var i=this.props,p=i.displayValue,c=this.state.selectedValues;return i.isObject?c.filter(function(u){return u[p]===s[p]}).length>0:c.filter(function(u){return u===s}).length>0},r.renderOptionList=function(){var s=this.props,i=s.groupBy,p=s.style,c=s.emptyRecordMsg,u=s.loadingMessage,h=u===void 0?"loading...":u,g=this.state.options;return s.loading?F.createElement("ul",{className:"optionContainer",style:p.optionContainer},typeof h=="string"&&F.createElement("span",{style:p.loadingMessage,className:"notFound"},h),typeof h!="string"&&h):F.createElement("ul",{className:"optionContainer",style:p.optionContainer},g.length===0&&F.createElement("span",{style:p.notFound,className:"notFound"},c),i?this.renderGroupByOptions():this.renderNormalOption())},r.renderGroupByOptions=function(){var s=this,i=this.props,p=i.isObject,c=p!==void 0&&p,u=i.displayValue,h=i.showCheckbox,g=i.style,x=i.singleSelect,f=this.state.groupedObject;return Object.keys(f).map(function(m){return F.createElement(F.Fragment,{key:m},F.createElement("li",{className:"groupHeading",style:g.groupHeading},m),f[m].map(function(o,j){var _=s.isSelectedValue(o);return F.createElement("li",{key:"option"+j,style:g.option,className:"groupChildEle option "+(_?"selected":"")+" "+(s.fadeOutSelection(o)?"disableSelection":"")+" "+(s.isDisablePreSelectedValues(o)?"disableSelection":""),onClick:function(){return s.onSelectItem(o)}},h&&!x&&F.createElement("input",{type:"checkbox",className:"checkbox",readOnly:!0,checked:_}),s.props.optionValueDecorator(c?o[u]:(o||"").toString(),o))}))})},r.renderNormalOption=function(){var s=this,i=this.props,p=i.isObject,c=p!==void 0&&p,u=i.displayValue,h=i.showCheckbox,g=i.style,x=i.singleSelect,f=this.state.highlightOption;return this.state.options.map(function(m,o){var j=s.isSelectedValue(m);return F.createElement("li",{key:"option"+o,style:g.option,className:"option "+(j?"selected":"")+" "+(f===o?"highlightOption highlight":"")+" "+(s.fadeOutSelection(m)?"disableSelection":"")+" "+(s.isDisablePreSelectedValues(m)?"disableSelection":""),onClick:function(){return s.onSelectItem(m)}},h&&!x&&F.createElement("input",{type:"checkbox",readOnly:!0,className:"checkbox",checked:j}),s.props.optionValueDecorator(c?m[u]:(m||"").toString(),m))})},r.renderSelectedList=function(){var s=this,i=this.props,p=i.isObject,c=p!==void 0&&p,u=i.displayValue,h=i.style,g=i.singleSelect,x=i.customCloseIcon,f=this.state,m=f.closeIconType;return f.selectedValues.map(function(o,j){return F.createElement("span",{className:"chip  "+(g&&"singleChip")+" "+(s.isDisablePreSelectedValues(o)&&"disableSelection"),key:j,style:h.chips},s.props.selectedValueDecorator(c?o[u]:(o||"").toString(),o),!s.isDisablePreSelectedValues(o)&&(x?F.createElement("i",{className:"custom-close",onClick:function(){return s.onRemoveSelectedItem(o)}},x):F.createElement("img",{className:"icon_cancel closeIcon",src:m,onClick:function(){return s.onRemoveSelectedItem(o)}})))})},r.isDisablePreSelectedValues=function(s){var i=this.props,p=i.displayValue,c=this.state.preSelectedValues;return!(!i.disablePreSelectedValues||!c.length)&&(i.isObject?c.filter(function(u){return u[p]===s[p]}).length>0:c.filter(function(u){return u===s}).length>0)},r.fadeOutSelection=function(s){var i=this.props,p=i.selectionLimit;if(!i.singleSelect){var c=this.state.selectedValues;return p!=-1&&p==c.length&&(p==c.length?!i.showCheckbox||!this.isSelectedValue(s):void 0)}},r.toggelOptionList=function(){this.setState({toggleOptionsList:!this.state.toggleOptionsList,highlightOption:this.props.avoidHighlightFirstOption?-1:0})},r.onCloseOptionList=function(){this.setState({toggleOptionsList:!1,highlightOption:this.props.avoidHighlightFirstOption?-1:0,inputValue:""})},r.onFocus=function(){this.state.toggleOptionsList?clearTimeout(this.optionTimeout):this.toggelOptionList()},r.onBlur=function(){this.setState({inputValue:""},this.filterOptionsByInput),this.optionTimeout=setTimeout(this.onCloseOptionList,250)},r.isVisible=function(s){return!!s&&!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},r.hideOnClickOutside=function(){var s=this,i=document.getElementsByClassName("multiselect-container")[0];document.addEventListener("click",function(p){i&&!i.contains(p.target)&&s.isVisible(i)&&s.toggelOptionList()})},r.renderMultiselectContainer=function(){var s=this.state,i=s.inputValue,p=s.toggleOptionsList,c=s.selectedValues,u=this.props,h=u.placeholder,g=u.style,x=u.singleSelect,f=u.id,m=u.name,o=u.hidePlaceholder,j=u.disable,_=u.showArrow,O=u.customArrow;return F.createElement("div",{className:"multiselect-container multiSelectContainer "+(j?"disable_ms":"")+" "+(u.className||""),id:f||"multiselectContainerReact",style:g.multiselectContainer},F.createElement("div",{className:"search-wrapper searchWrapper "+(x?"singleSelect":""),ref:this.searchWrapper,style:g.searchBox,onClick:x?this.toggelOptionList:function(){}},!u.hideSelectedList&&this.renderSelectedList(),F.createElement("input",{type:"text",ref:this.searchBox,className:"searchBox "+(x&&c.length?"display-none":""),id:(f||"search")+"_input",name:(m||"search_name")+"_input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:i,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:x&&c.length||o&&c.length?"":h,onKeyDown:this.onArrowKeyNavigation,style:g.inputField,autoComplete:"off",disabled:x||j}),(x||_)&&F.createElement(F.Fragment,null,O?F.createElement("span",{className:"icon_down_dir"},O):F.createElement("img",{src:"data:image/svg+xml,%3Csvg%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20width%3D%2232%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cg%20id%3D%22background%22%3E%20%20%20%20%20%20%20%20%3Crect%20fill%3D%22none%22%20height%3D%2232%22%20width%3D%2232%22%2F%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cg%20id%3D%22arrow_x5F_down%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20points%3D%222.002%2C10%2016.001%2C24%2030.002%2C10%20%20%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",className:"icon_cancel icon_down_dir"}))),F.createElement("div",{className:"optionListContainer "+(p?"displayBlock":"displayNone"),onMouseDown:function(M){M.preventDefault()}},this.renderOptionList()))},r.render=function(){return F.createElement(ea,{outsideClick:this.onCloseOptionList},this.renderMultiselectContainer())},n}(F.Component);ve.defaultProps={options:[],disablePreSelectedValues:!1,selectedValues:[],isObject:!0,displayValue:"model",showCheckbox:!1,selectionLimit:-1,placeholder:"Select",groupBy:"",style:{},emptyRecordMsg:"No Options Available",onSelect:function(){},onRemove:function(){},onKeyPressFn:function(){},closeIcon:"circle2",singleSelect:!1,caseSensitiveSearch:!1,id:"",name:"",closeOnSelect:!0,avoidHighlightFirstOption:!1,hidePlaceholder:!1,showArrow:!1,keepSearchTerm:!1,customCloseIcon:"",className:"",customArrow:void 0,selectedValueDecorator:function(a){return a},optionValueDecorator:function(a){return a}},he.Multiselect=ve,he.default=ve;Ot.exports=he;var ta=Ot.exports;const aa=Bt(ta),Ge=({data:a,defaultValue:l,className:t,placeholder:n,action:r,singleSelect:s=!1})=>e.jsx(aa,{options:a,selectedValues:l,displayValue:"label",className:t,placeholder:n,singleSelect:s,avoidHighlightFirstOption:!0,selectedValueDecorator:i=>{var p;return(p=a.find(c=>c.label===i))==null?void 0:p.value},onSelect:i=>r(i),onRemove:i=>r(i),style:{chips:{background:"hsl(var(--p) / 1)"},multiselectContainer:{color:"hsl(var(--n) / 1)"},searchBox:{border:"none",borderRadius:"0px",padding:"0px"}}});Ge.propTypes={data:N.array.isRequired,defaultValue:N.array,className:N.string.isRequired,placeholder:N.string,action:N.func.isRequired,singleSelect:N.bool};const Ja=()=>{const[a,l]=v.useState([]),{preferred_carrier:t}=d.useState(r=>r),{t:n}=D();return v.useEffect(()=>{const r=window.location.origin;ge.get(`${r}/airlines_list.json`).then(s=>{const i=Object.keys(s.data.data).map(p=>{const{iata_code:c,airline_name:u}=s.data.data[p];return{label:`${u} (${c})`,value:c}});l(i)})},[]),e.jsx(Ge,{data:a,className:"px-4 py-2 font-medium rounded-lg outline-none bg-neutral/5 placeholder:text-neutral/50",placeholder:n("preferred_carrier"),defaultValue:t,action:r=>d.update(s=>{s.preferred_carrier=r})})},sa=[{id:1,name:"Any Flight",value:"any"},{id:2,name:"Non-Stop",value:"non-stop"}],$a=()=>{const{non_stop_flight:a}=d.useState(t=>t),{t:l}=D();return e.jsx(Le,{items:sa.map(t=>({...t,name:l(`flightOptions.${t.value}`)})),selectedItem:l(`flightOptions.${a}`),action:t=>d.update(n=>{n.non_stop_flight=t})})},ft=[{id:1,name:"One-way",value:"OneWay",icon:e.jsx(ke,{})},{id:2,name:"Round-trip",value:"RoundTrip",icon:e.jsx(Ie,{})},{id:3,name:"Multi-city",value:"MultiCity",icon:e.jsx(De,{})}],Qa=()=>{const{journey_type:a}=d.useState(t=>t),{t:l}=D();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-sm:hidden",children:e.jsx(Jt,{items:ft.map(t=>({...t,name:l(`${t.value}`)})),activeTab:a,action:t=>d.update(n=>{n.journey_type=t})})}),e.jsx("div",{className:"hidden max-sm:block",children:e.jsx(Le,{items:ft.map(t=>({...t,name:l(`${t.value}`)})),selectedItem:l(`${a}`),action:t=>d.update(n=>{n.journey_type=t})})})]})},ra=[{id:0,name:"Any Class",value:"any"},{id:1,name:"Economy",value:"Economy"},{id:2,name:"Premium Economy",value:"Premium-Economy"},{id:3,name:"Business Class",value:"Business"},{id:4,name:"First Class",value:"First-Class"}],qa=()=>{const{booking_class:a}=d.useState(t=>t),{t:l}=D();return e.jsx(Le,{items:ra.map(t=>({...t,name:l("booking_classes."+t.value)})),selectedItem:l("booking_classes."+a),action:t=>d.update(n=>{n.booking_class=t})})},na=de(),Xa=()=>{var W,V;const{axiosInstance:a}=ae(),{login_required:l}=U.useState(),{journey_type:t,segment:n,preferred_carrier:r,...s}=d.useState(I=>I),{login_key:i,member_id:p}=((V=(W=Ee)==null?void 0:W.useState())==null?void 0:V.user_data)||{},c=d.useState(),{t:u}=D(),{data:h={}}=$({queryKey:["PARTNER_PROFILE",i,p],enabled:l==="yes"||!!i,queryFn:async()=>{var B,R;const I=await a.post("/settings/partner-profile",{login_key:i,member_id:p});if(((B=I==null?void 0:I.data)==null?void 0:B.status)==="success")return I.data;throw{...I,message:((R=I.data)==null?void 0:R.reason)||"Request failed!"}}}),{legal_name:g,contact_person_name:x,isd_code:f,contact_number:m,company_type:o,city:j,state:_,address:O,country:M}=(h==null?void 0:h.partner_profile)||{},P=!!(g&&x&&f&&m&&o&&j&&_&&O&&M),G=async()=>{var I,B,R,k;if(l==="yes"&&P===!1){Fe.error(e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Please update your partner profile first"}),e.jsx(Te,{to:"/settings/profile",className:"font-normal text-white normal-case btn btn-xs btn-error",children:"Update"})]}),{toastId:na,closeOnClick:!1});return}xt.update(E=>{E.isActive=!0,E.service_type="flight"});try{const E=n.map(w=>{var S,C,b,A;return{...w,departure_airport:w.departure_airport_type==="AIRPORT"?(S=w.departure_airport)==null?void 0:S.code:(C=w.departure_airport)==null?void 0:C.city_code,arrival_airport:w.arrival_airport_type==="AIRPORT"?(b=w.arrival_airport)==null?void 0:b.code:(A=w.arrival_airport)==null?void 0:A.city_code}}),L={...s,journey_type:t,segment:t==="MultiCity"?E.filter(w=>!!w.arrival_airport):E.slice(0,1),preferred_carrier:r.map(w=>w.value),version:1},y=await a.post(`/flight/search?login_required=${l}`,L);if(((I=y==null?void 0:y.data)==null?void 0:I.status)==="success"){const w=localStorage.getItem("flightRecentSearch"),S=JSON.parse(w)||[];if(S.some(C=>JSON.stringify(C)===JSON.stringify(c))===!1){const C=[c,...S.slice(0,9)];localStorage.setItem("flightRecentSearch",JSON.stringify(C))}se.update(()=>se._getInitialState()),window.open(`/flight/search?tracking_id=${y.data.tracking_id}`,"_self")}else throw new Error(((B=y==null?void 0:y.data)==null?void 0:B.reason)||((k=(R=y==null?void 0:y.response)==null?void 0:R.data)==null?void 0:k.message))}catch(E){Be("error","Failed",E.message)}finally{xt.update(E=>{E.isActive=!1})}};return e.jsx(e.Fragment,{children:e.jsxs("button",{type:"button",onClick:G,id:"flight_search_button",className:"btn sm:btn-lg btn-primary sm:absolute top-full left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:active:!-translate-x-1/2 sm:active:!-translate-y-1/2 sm:active:scale-95 !animate-none normal-case flex-nowrap max-sm:w-full",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 25 24",fill:"currentColor",className:"text-2xl max-sm:hidden",children:e.jsx("path",{d:"M11.1241 0.213867C13.1191 0.213737 15.0737 0.761183 16.7645 1.79355C18.4552 2.82593 19.8137 4.30151 20.6844 6.05144C21.5551 7.80137 21.9029 9.75495 21.688 11.6886C21.473 13.6222 20.7041 15.4578 19.4691 16.9853L24.0341 21.4359C24.2618 21.6658 24.3878 21.9736 24.3849 22.2931C24.3821 22.6127 24.2506 22.9183 24.0189 23.1443C23.7871 23.3702 23.4736 23.4984 23.1458 23.5012C22.8181 23.5039 22.5023 23.3811 22.2666 23.1591L17.7016 18.7085C16.3709 19.7309 14.8087 20.4283 13.1454 20.7424C11.482 21.0565 9.76575 20.9782 8.13974 20.5141C6.51373 20.05 5.02513 19.2135 3.79814 18.0745C2.57115 16.9354 1.64136 15.5268 1.08632 13.9661C0.531283 12.4055 0.367105 10.738 0.607482 9.10295C0.847858 7.46785 1.48582 5.91251 2.46814 4.56668C3.45046 3.22085 4.74866 2.12356 6.25442 1.36636C7.76018 0.609162 9.42984 0.214008 11.1241 0.213867ZM11.1241 2.65122C8.96921 2.65122 6.90259 3.48579 5.37885 4.97134C3.85512 6.4569 2.9991 8.47173 2.9991 10.5726C2.9991 12.6735 3.85512 14.6883 5.37885 16.1739C6.90259 17.6594 8.96921 18.494 11.1241 18.494C13.279 18.494 15.3456 17.6594 16.8693 16.1739C18.3931 14.6883 19.2491 12.6735 19.2491 10.5726C19.2491 8.47173 18.3931 6.4569 16.8693 4.97134C15.3456 3.48579 13.279 2.65122 11.1241 2.65122ZM11.1241 3.8699C12.9475 3.8699 14.6961 4.57608 15.9855 5.83308C17.2748 7.09008 17.9991 8.79495 17.9991 10.5726C17.9991 12.3503 17.2748 14.0552 15.9855 15.3122C14.6961 16.5692 12.9475 17.2753 11.1241 17.2753C9.30073 17.2753 7.55205 16.5692 6.26274 15.3122C4.97342 14.0552 4.2491 12.3503 4.2491 10.5726C4.2491 8.79495 4.97342 7.09008 6.26274 5.83308C7.55205 4.57608 9.30073 3.8699 11.1241 3.8699Z"})})," ",e.jsx("span",{className:"uppercase",children:u("search")})]})})},ia=()=>{const{travelers_adult:a}=d.useState(t=>t),{t:l}=D();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg text text-neutral/70",children:e.jsx("i",{className:"inline-block alight-middle",children:e.jsx(Se,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:l("adults")}),e.jsxs("p",{className:"text-[10px] text-neutral leading-3",children:[">12 ",l("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>1&&d.update(t=>{t.travelers_adult=a-1})},type:"button",disabled:a===1,className:"rounded minusBtn btn btn-xs btn-primary",children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>d.update(t=>{t.travelers_adult=a+1}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]})})},la=()=>{const{travelers_child:a,travelers_child_age:l}=d.useState(n=>n),{t}=D();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1 child-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg text-neutral/70",children:e.jsx("i",{className:"inline-block align-middle",children:e.jsx(Ae,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:t("children")}),e.jsxs("p",{className:"text-[10px] leading-3 text-neutral",children:["2-12 ",t("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>0&&d.update(n=>{n.travelers_child=a-1,n.travelers_child_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:a===0,children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>{d.update(n=>{n.travelers_child=a+1,n.travelers_child_age.push("12")})},type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),(l==null?void 0:l.length)>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1.5 mb-2",children:l.map((n,r)=>e.jsxs("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:n,onChange:s=>d.update(i=>{i.travelers_child_age[r]=s.target.value}),children:[e.jsxs("option",{value:"12",children:["12 ",t("years_old")]}),e.jsxs("option",{value:"11",children:["11 ",t("years_old")]}),e.jsxs("option",{value:"10",children:["10 ",t("years_old")]}),e.jsxs("option",{value:"9",children:["9 ",t("years_old")]}),e.jsxs("option",{value:"8",children:["8 ",t("years_old")]}),e.jsxs("option",{value:"7",children:["7 ",t("years_old")]}),e.jsxs("option",{value:"6",children:["6 ",t("years_old")]}),e.jsxs("option",{value:"5",children:["5 ",t("years_old")]}),e.jsxs("option",{value:"4",children:["4 ",t("years_old")]}),e.jsxs("option",{value:"3",children:["3 ",t("years_old")]}),e.jsxs("option",{value:"2",children:["2 ",t("years_old")]})]},r))})]})},ca=()=>{const{travelers_infants:a,travelers_infants_age:l}=d.useState(n=>n),{t}=D();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 infants-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg text-neutral/70",children:[e.jsx("i",{className:"fa-solid fa-hands-holding-child"}),e.jsx("i",{className:"inline-block align-middle",children:e.jsx(yt,{})})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:t("infants")}),e.jsxs("p",{className:"text-[10px] leading-3 text-neutral",children:["<2 ",t("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{a>0&&d.update(n=>{n.travelers_infants=a-1,n.travelers_infants_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:a===0,children:"-"}),e.jsx("span",{className:"value",children:a}),e.jsx("button",{onClick:()=>d.update(n=>{n.travelers_infants=a+1,n.travelers_infants_age.push("1")}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),(l==null?void 0:l.length)>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1.5",children:l.map((n,r)=>e.jsxs("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:n,onChange:s=>d.update(i=>{i.travelers_infants_age[r]=s.target.value}),children:[e.jsxs("option",{value:"1",children:["1 ",t("year_old")]}),e.jsx("option",{value:"0",children:t("below_1_year")})]},r))})]})},oa=()=>{const{flight:a}=U.useState(g=>g.component_version)||{},{travelers_adult:l,travelers_adult_age:t,travelers_child:n,travelers_child_age:r,travelers_infants:s,travelers_infants_age:i}=d.useState(g=>g),{axiosInstance:p}=ae(),{data:c,isLoading:u}=$({queryKey:["PAX_FARE_TYPES"],queryFn:async()=>(await p.get("/tools/pax-fare-type")).data.data}),{t:h}=D();return e.jsx("dialog",{id:"advanced_passenger_selection",className:"modal",children:e.jsxs("div",{className:"max-w-2xl p-0 rounded-md modal-box bg-base-200",children:[e.jsxs("form",{method:"dialog",className:"sticky top-0 left-0 right-0 flex min-h-[34px] bg-primary",children:[e.jsx("h1",{className:"px-5 py-2 text-xl font-semibold text-primary-content",children:h("advanced_pax_selection")}),e.jsx("button",{className:"absolute top-1 right-1 btn btn-ghost btn-circle btn-sm !text-primary-content",children:e.jsx(Zt,{})})]}),u?e.jsx(Lt,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-5 pt-4",children:[e.jsx("p",{className:"max-w-xl mb-4 text-base",children:h("advanced_pax_please")}),e.jsxs("div",{className:"w-full mb-4 rounded join join-vertical",children:[e.jsxs("div",{className:"p-4 border join-item",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg text text-neutral/70",children:e.jsx("i",{className:"inline-block alight-middle",children:e.jsx(Se,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:h("adults")}),e.jsxs("p",{className:"text-[10px] text-neutral leading-3",children:[">12 ",h("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{l>1&&d.update(g=>{g.travelers_adult=l-1})},type:"button",disabled:l===1,className:"rounded minusBtn btn btn-xs btn-primary",children:"-"}),e.jsx("span",{className:"value",children:l}),e.jsx("button",{onClick:()=>d.update(g=>{g.travelers_adult=l+1}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),Number(l)>0&&e.jsx("div",{className:"grid grid-cols-3 pt-1 gap-x-6 gap-y-1",children:[...Array(l)].map((g,x)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:[h("adult")," ",x+1," ",h("age")]}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:t[x],onChange:f=>d.update(m=>{m.travelers_adult_age[x]=f.target.value}),children:[...Array(88)].map((f,m)=>e.jsxs("option",{value:m+13,children:[m+13," ",h("years")]},m))})})]},"age"+x),(a==null?void 0:a.search_box)==="2"&&e.jsxs("div",{className:"flex items-center col-span-2 gap-1",children:[e.jsx("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:h("fare_types")}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",onChange:f=>d.update(m=>{m.travelers_adult_types[x]=f.target.value}),children:Object.values((c==null?void 0:c.ADT)||{}).map(f=>e.jsxs("option",{value:f==null?void 0:f.pax_type,children:[f==null?void 0:f.pax_type,"-",f==null?void 0:f.pax_title]},f==null?void 0:f.pax_type))})})]},"type"+x)]}))})]}),e.jsxs("div",{className:"p-4 border border-t-0 join-item",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1 child-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg text-neutral/70",children:e.jsx("i",{className:"inline-block align-middle",children:e.jsx(Ae,{})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:h("children")}),e.jsxs("p",{className:"text-[10px] leading-3 text-neutral",children:["2-12 ",h("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{n>0&&d.update(g=>{g.travelers_child=n-1,g.travelers_child_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:n===0,children:"-"}),e.jsx("span",{className:"value",children:n}),e.jsx("button",{onClick:()=>{d.update(g=>{g.travelers_child=n+1,g.travelers_child_age.push("12")})},type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),Number(n)>0&&e.jsx("div",{className:"grid grid-cols-3 pt-1 gap-x-6 gap-y-1",children:[...Array(n)].map((g,x)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:[h("child")," ",x+1," ",h("age")]}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:r[x],onChange:f=>d.update(m=>{m.travelers_child_age[x]=f.target.value}),children:[e.jsxs("option",{value:"12",children:["12 ",h("years")]}),e.jsxs("option",{value:"11",children:["11 ",h("years")]}),e.jsxs("option",{value:"10",children:["10 ",h("years")]}),e.jsxs("option",{value:"9",children:["9 ",h("years")]}),e.jsxs("option",{value:"8",children:["8 ",h("years")]}),e.jsxs("option",{value:"7",children:["7 ",h("years")]}),e.jsxs("option",{value:"6",children:["6 ",h("years")]}),e.jsxs("option",{value:"5",children:["5 ",h("years")]}),e.jsxs("option",{value:"4",children:["4 ",h("years")]}),e.jsxs("option",{value:"3",children:["3 ",h("years")]}),e.jsxs("option",{value:"2",children:["2 ",h("years")]})]})})]},"age"+x),(a==null?void 0:a.search_box)==="2"&&e.jsxs("div",{className:"flex items-center col-span-2 gap-1",children:[e.jsx("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:"Fare Type"}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",onChange:f=>d.update(m=>{m.travelers_child_types[x]=f.target.value}),children:Object.values((c==null?void 0:c.CNN)||{}).map(f=>e.jsxs("option",{value:f==null?void 0:f.pax_type,children:[f==null?void 0:f.pax_type,"-",f==null?void 0:f.pax_title]},f==null?void 0:f.pax_type))})})]},"type"+x)]}))})]}),e.jsxs("div",{className:"p-4 border join-item",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 infants-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg text-neutral/70",children:[e.jsx("i",{className:"fa-solid fa-hands-holding-child"}),e.jsx("i",{className:"inline-block align-middle",children:e.jsx(Mt,{})})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium",children:h("infants")}),e.jsxs("p",{className:"text-[10px] leading-3 text-neutral",children:["<2 ",h("years")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{s>0&&d.update(g=>{g.travelers_infants=s-1,g.travelers_infants_age.pop()})},type:"button",className:"rounded minusBtn btn btn-xs btn-primary",disabled:s===0,children:"-"}),e.jsx("span",{className:"value",children:s}),e.jsx("button",{onClick:()=>d.update(g=>{g.travelers_infants=s+1,g.travelers_infants_age.push("2")}),type:"button",className:"rounded plusBtn btn btn-xs btn-primary",children:"+"})]})]}),Number(s)>0&&e.jsx("div",{className:"grid grid-cols-3 pt-1 gap-x-6 gap-y-1",children:[...Array(s)].map((g,x)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:[h("infants")," ",x+1," ",h("age")]}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",defaultValue:i[x],onChange:f=>d.update(m=>{m.travelers_infants_age[x]=f.target.value}),children:[e.jsxs("option",{value:"1",children:["1 ",h("year_old")]}),e.jsxs("option",{value:"0",children:[h("below")," 1 ",h("year")]})]})})]},"age"+x),(a==null?void 0:a.search_box)==="2"&&e.jsxs("div",{className:"flex items-center col-span-2 gap-1",children:[e.jsx("div",{className:"font-medium normal-case rounded pointer-events-none btn btn-xs btn-primary no-animation",children:h("fare_types")}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{className:"w-full bg-transparent rounded-sm select select-bordered select-xs focus:outline-none focus:border-primary",onChange:f=>d.update(m=>{m.travelers_infants_types[x]=f.target.value}),children:Object.values((c==null?void 0:c.INF)||{}).map(f=>e.jsxs("option",{value:f==null?void 0:f.pax_type,children:[f==null?void 0:f.pax_type,"-",f==null?void 0:f.pax_title]},f==null?void 0:f.pax_type))})})]},"type"+x)]}))})]})]})]}),e.jsx("hr",{}),e.jsx("div",{className:"justify-center pb-2 mt-2 modal-action",children:e.jsx("button",{onClick:()=>{document.getElementById("advanced_passenger_selection").close()},type:"button",className:"h-10 min-h-0 normal-case rounded btn btn-primary min-w-[100px]",children:h("apply")})})]})]})})},Ka=()=>{const[a,l]=v.useState(!1),t=v.useRef(),{travelers_adult:n,travelers_child:r,travelers_infants:s}=d.useState(c=>c),i=n+r+s,{t:p}=D();return v.useEffect(()=>{const c=u=>{t.current&&!t.current.contains(u.target)&&l(!1)};return document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:t,className:`relative passengerContainer group ${a?"active":""}`,children:[e.jsxs("button",{onClick:()=>l(!a),type:"button",className:"w-full px-2 py-1 text-xs font-semibold rounded-xl text-start",children:[e.jsx(Ut,{className:"mr-1 text-base"})," ",i," ",i>1?p("Passengers"):p("Passenger"),e.jsx("i",{className:"ml-1 inline-flex align-middle items-center",children:a?e.jsx(Pt,{}):e.jsx(Vt,{})})]}),e.jsxs("div",{className:"absolute top-full right-0 z-10 w-56 min-w-full py-1 origin-['50%_0'] shadow-[0_4px_16px_0_rgba(69,88,115,.2)] rounded mt-0.5 max-w-max lists bg-base-200 transition-all scale-90 -translate-y-8 opacity-0 pointer-events-none group-[.active]:pointer-events-auto group-[.active]:scale-100 group-[.active]:translate-y-0 group-[.active]:opacity-100",style:{transition:"all .2s cubic-bezier(.5,0,0,1.25), opacity .15s ease-out"},children:[e.jsxs("div",{className:"p-3 pt-2",children:[e.jsx(ia,{}),e.jsx(la,{}),e.jsx(ca,{})]}),e.jsxs("div",{className:"flex justify-between px-3 pb-2",children:[e.jsx("button",{onClick:()=>{var c;(c=document.getElementById("advanced_passenger_selection"))==null||c.showModal(),l(!1)},type:"button",className:"font-normal normal-case border-dashed rounded btn btn-xs btn-primary btn-outline",children:p("advanced")}),e.jsx("button",{onClick:()=>l(!1),type:"button",className:"font-normal normal-case rounded btn btn-xs btn-primary",children:p("apply")})]})]})]}),e.jsx(oa,{})]})},kt=({isActive:a,setIsActive:l,fieldName:t})=>{const{system_config:n}=U.useState(),[r,s]=v.useState({}),{axiosInstance:i}=ae(),{data:p=[]}=$(["AIRPORTS"],async()=>(await i.get("/tools/airport-autosuggetion-data")).data),[c,u]=v.useState({}),h=v.useRef();v.useEffect(()=>{var o;const m=((o=n==null?void 0:n.default_flight_suggetion)==null?void 0:o.reduce((j,_)=>({...j,[_.city_name]:j!=null&&j[_.city_name]?[...j[_.city_name],_]:[_]}),{}))||{};s(m)},[n==null?void 0:n.default_flight_suggetion]),v.useEffect(()=>{a?h.current&&h.current.focus():(u(r),h.current&&(h.current.value=""))},[a,r]);const g=m=>{t.name==="arrival_airport"?d.update(o=>{o.segment[t.index]={...o.segment[t.index],arrival_airport:m,arrival_airport_type:"AIRPORT"},o.segment[t.index+1]={...o.segment[t.index+1],departure_airport:m,departure_airport_type:"AIRPORT"},o.segment[t.index+1].departure_airport_type="AIRPORT"}):d.update(o=>{o.segment[t.index]={...o.segment[t.index],departure_airport:m,departure_airport_type:"AIRPORT"},o.segment[t.index][t.name]=m,o.segment[t.index].departure_airport_type="AIRPORT"}),l(!1)},x=m=>{t.name==="arrival_airport"?d.update(o=>{o.segment[t.index]={...o.segment[t.index],arrival_airport:m,arrival_airport_type:"CITY"},o.segment[t.index+1]={...o.segment[t.index+1],departure_airport:m,departure_airport_type:"CITY"},o.segment[t.index+1].departure_airport_type="CITY"}):d.update(o=>{o.segment[t.index]={...o.segment[t.index],departure_airport:m,departure_airport_type:"CITY"},o.segment[t.index][t.name]=m,o.segment[t.index].departure_airport_type="CITY"}),l(!1)},f=m=>{var j,_,O,M,P,G;const o=m.target.value.toLowerCase();if(o.trim().length>0){const W=[],V=[],I=[],B=[],R=[],k=[];for(const y of p){const w=(j=y.city_code)==null?void 0:j.toLowerCase(),S=(_=y.code)==null?void 0:_.toLowerCase(),C=(O=y.airport_name)==null?void 0:O.toLowerCase(),b=(M=y.city_name)==null?void 0:M.toLowerCase(),A=(P=y.country_name)==null?void 0:P.toLowerCase(),Y=(G=y.search_contents)==null?void 0:G.toLowerCase();w===o?W.push(y):S===o?V.push(y):C.split(" ").some(Z=>Z.startsWith(o)||C.startsWith(o))?I.push(y):b!=null&&b.startsWith(o)?B.push(y):A!=null&&A.startsWith(o)?R.push(y):Y.includes(o)&&k.push(y)}[W,V,I,B,R,k].forEach(y=>y.sort((w,S)=>(w==null?void 0:w.priority)-(S==null?void 0:S.priority)));const E=W.concat(V,I,B,R,k).slice(0,50),L={};E.forEach(y=>{L[y.city_name]=[...L[y.city_name]||[],y]}),u(L)}else u(r)};return e.jsxs(Q,{open:a,onOpenChange:l,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{})}),e.jsx(X,{align:"start",onClick:m=>m.stopPropagation(),asChild:!0,children:e.jsxs(pe,{className:"p-0 w-[350px] max-w-full",children:[e.jsx("input",{autoComplete:"off",ref:h,onChange:f,type:"search",className:"w-full pl-10 my-2 text-xs bg-transparent border-none outline-none",placeholder:"Airport code, city, name or country"}),e.jsx("span",{className:"absolute text-xs top-2 left-4",children:e.jsx(Oe,{className:"inline"})}),e.jsx("hr",{}),e.jsx(Me,{className:"overflow-auto text-xs max-h-64",children:Object.keys(c).length>0?Object.keys(c).map(m=>{const o=c[m];return o.length>1?e.jsxs("div",{className:"border-b",children:[e.jsxs(H,{onSelect:()=>x(o[0]),className:"flex gap-2 p-2 cursor-pointer",children:[e.jsx(Re,{className:"text-lg"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex gap-2 text-xs",children:[e.jsx("span",{className:"font-medium text-primary",children:o[0].city_name}),e.jsx("span",{className:"text-neutral/80",children:o[0].city_code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:o[0].country_name})]})]}),o.map(j=>e.jsx(H,{onSelect:()=>g(j),className:"pl-6 cursor-pointer",children:e.jsxs("div",{className:"flex gap-2 py-2 pr-2 border-t border-primary/10",children:[e.jsx(re,{className:"text-base rotate-45"}),e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px] flex-1",children:[e.jsx("span",{children:j.airport_name}),e.jsx("span",{className:"text-neutral/80",children:j.code})]})]})},j.code))]},m):o.map(j=>e.jsxs(H,{onSelect:()=>g(j),className:"flex gap-2 p-2 border-b cursor-pointer border-primary/10",children:[e.jsx(re,{className:"text-lg rotate-45"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px]",children:[e.jsxs("span",{children:[j.city_name," - ",j.country_name]}),e.jsx("span",{className:"text-neutral",children:j.code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:j.airport_name})]})]},j.code))}):e.jsx("p",{className:"py-10 text-center text-error",children:"No result found"})})]})})]})};kt.propTypes={isActive:N.bool.isRequired,setIsActive:N.func.isRequired,fieldName:N.object.isRequired};const oe=({label:a,fieldName:l,value:t})=>{const[n,r]=v.useState(!1),s=v.useRef(),{t:i}=D();return v.useEffect(()=>{const p=c=>{s.current&&!s.current.contains(c.target)&&r(!1)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}},[]),e.jsxs("div",{ref:s,className:`sb-input-container group ${n?"active":""}`,children:[e.jsx("label",{className:"sb-label",children:a}),e.jsx("input",{autoComplete:"off",onClick:()=>r(!0),type:"text",className:"sb-input",placeholder:i("select"),value:t,readOnly:!0}),e.jsx(kt,{isActive:n,setIsActive:r,fieldName:l})]})};oe.propTypes={label:N.string.isRequired,fieldName:N.object.isRequired,value:N.string.isRequired};const me=({label:a,defaultValue:l,minDate:t,action:n,...r})=>{const{journey_type:s}=d.useState(i=>i);return e.jsxs("div",{className:"sb-input-container",children:[e.jsx("label",{className:"sb-label",children:a}),e.jsx(Ve,{className:`sb-input ${a==="Return Date"&&s!=="RoundTrip"?"pointer-events-none opacity-50":"pointer-events-auto opacity-100 cursor-pointer"}`,defaultValue:ne(l).format("YYYY-MM-DD"),minDate:t,type:"text",action:n,placeholder:"mm/dd/yyyy",...r})]})};me.propTypes={label:N.string.isRequired,defaultValue:N.string.isRequired,minDate:N.string.isRequired,action:N.func.isRequired};const es=()=>{var n,r,s,i,p;const{segment:a,journey_type:l}=d.useState(c=>c),{t}=D();return e.jsxs("div",{className:"grid-cols-1 gap-5 mb-4 sm:grid-cols-2 lg:grid-cols-5 one-way-round-trip grid",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-1 sm:grid-cols-2 sm:col-span-2 lg:col-span-3",children:[e.jsx(oe,{label:t("leaving_from"),fieldName:{name:"departure_airport",index:0},value:(n=a[0])!=null&&n.departure_airport?a[0].departure_airport_type==="AIRPORT"?`${a[0].departure_airport.code} - ${a[0].departure_airport.airport_name}`:`${a[0].departure_airport.city_code} - ${a[0].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{onClick:()=>d.update(c=>{c.segment[0].arrival_airport=a[0].departure_airport,c.segment[0].departure_airport=a[0].arrival_airport}),type:"button",className:"w-8 h-8 flex justify-center items-center absolute right-4 sm:left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white text-primary border border-neutral/20 rounded-[50%] shadow rotate-90 sm:rotate-0 z-[1]",disabled:!((r=a[0])!=null&&r.departure_airport)||!((s=a[0])!=null&&s.arrival_airport),children:e.jsx(fe,{})}),e.jsx(oe,{label:t("going_to"),fieldName:{name:"arrival_airport",index:0},value:(i=a[0])!=null&&i.arrival_airport?a[0].arrival_airport_type==="AIRPORT"?`${a[0].arrival_airport.code} - ${a[0].arrival_airport.airport_name}`:`${a[0].arrival_airport.city_code} - ${a[0].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(me,{label:t("departure_date"),minDate:"today",defaultValue:a[0].departure_date||ne().format("YYYY-MM-DD"),action:async c=>{var u,h;await d.update(g=>{g.segment[0].departure_date=c}),l==="RoundTrip"&&((h=(u=document.getElementById("_return_date"))==null?void 0:u.nextElementSibling)==null||h.click())}}),e.jsx(me,{label:t("return_date"),defaultValue:((p=a[0])==null?void 0:p.arrival_date)||null,minDate:a[0].departure_date||"today",action:c=>{d.update(u=>{u.segment[0].arrival_date=c})},id:"_return_date"})]})},ts=()=>{const{flight_count:a,segment:l}=d.useState(r=>r),{t}=D(),n=r=>{a>2&&d.update(s=>{s.flight_count=a-1,s.segment=l.filter((i,p)=>p!==r)})};return e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex flex-col gap-5 multi-flight",children:Array(a).fill("").map((r,s)=>{var i,p,c,u,h,g;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"grid w-full grid-cols-1 gap-5 md:grid-cols-4",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-1 md:col-span-3 md:grid-cols-2",children:[e.jsx(oe,{label:t("leaving_from"),fieldName:{name:"departure_airport",index:s},value:(i=l[s])!=null&&i.departure_airport?l[s].departure_airport_type==="AIRPORT"?`${l[s].departure_airport.code} - ${l[s].departure_airport.airport_name}`:`${l[s].departure_airport.city_code} - ${l[s].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{type:"button",onClick:()=>d.update(x=>{x.segment[s].arrival_airport=l[s].departure_airport,x.segment[s].departure_airport=l[s].arrival_airport,x.segment[s].arrival_airport_type=l[s].departure_airport_type,x.segment[s].departure_airport_type=l[s].arrival_airport_type}),className:"w-8 h-8 flex justify-center items-center absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-base-200 shadow text-primary border border-neutral/20 rounded-[50%] rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((p=l[s])!=null&&p.departure_airport)||!((c=l[s])!=null&&c.arrival_airport),children:e.jsx("i",{className:"inline-flex",children:e.jsx(fe,{})})}),e.jsx(oe,{label:t("going_to"),fieldName:{name:"arrival_airport",index:s},value:(u=l[s])!=null&&u.arrival_airport?l[s].arrival_airport_type==="AIRPORT"?`${l[s].arrival_airport.code} - ${l[s].arrival_airport.airport_name}`:`${l[s].arrival_airport.city_code} - ${l[s].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(me,{label:t("departure_date"),minDate:(h=l[s-1])!=null&&h.departure_date?l[s-1].departure_date:"today",defaultValue:((g=l[s])==null?void 0:g.departure_date)||new Date().toDateString(),action:x=>{var f;d.update(m=>{m.segment[s].departure_date=x}),(f=l[s])!=null&&f.arrival_date&&new Date(x)>new Date(l[s].arrival_date)&&d.update(m=>{m.segment[s].arrival_date=""})}})]}),e.jsx("button",{type:"button",onClick:()=>n(s),className:"text-xl text-neutral/90 ms-1 removeBtn disabled:opacity-30 text-primary",disabled:a<3,children:e.jsx("i",{children:e.jsx(vt,{})})})]},de())})}),e.jsx("div",{className:"flex mt-3 pr-7",children:e.jsxs("button",{type:"button",onClick:()=>d.update(r=>{r.flight_count=a+1,r.segment.length<a&&r.segment.push({departure_airport:r.segment.at(-1).departure_airport,departure_airport_type:r.segment.at(-1).departure_airport_type,arrival_airport:null,arrival_airport_type:"",departure_date:"",return_date:""})}),className:"w-full normal-case border-dashed rounded btn btn-primary btn-outline no-animation",children:["+ ",t("add_flight")]})})]})},as=()=>{const[a,l]=v.useState([]),{preferred_carrier:t}=d.useState(r=>r),{t:n}=D();return v.useEffect(()=>{const r=window.location.origin;ge.get(`${r}/airlines_list.json`).then(s=>{const i=Object.keys(s.data.data).map(p=>{const{iata_code:c,airline_name:u}=s.data.data[p];return{label:`${u} (${c})`,value:c}});l(i)})},[]),e.jsx(Ge,{data:a,className:"px-4 py-2 text-xs font-medium bg-transparent border rounded outline-none placeholder:text-neutral/50",placeholder:n("preferred_carrier"),defaultValue:t,action:r=>d.update(s=>{s.preferred_carrier=r})})},da=[{id:1,name:"Any Flight",value:"any"},{id:2,name:"Non-Stop",value:"non-stop"}],ss=()=>{const{non_stop_flight:a}=d.useState(t=>t),{t:l}=D();return e.jsx(je,{items:da.map(t=>({...t,name:l(`flightOptions.${t.value}`)})),selectedItem:l(`flightOptions.${a}`),action:t=>d.update(n=>{n.non_stop_flight=t}),icon:e.jsx($t,{className:"mr-1 text-base"})})},jt=[{id:1,name:"One-way",value:"OneWay",icon:e.jsx(ke,{})},{id:2,name:"Round-trip",value:"RoundTrip",icon:e.jsx(Ie,{})},{id:3,name:"Multi-city",value:"MultiCity",icon:e.jsx(De,{})}],rs=()=>{const{journey_type:a}=d.useState(t=>t),{t:l}=D();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-sm:hidden",children:e.jsx(Ht,{items:jt.map(t=>({...t,name:l(`${t.value}`)})),activeTab:a,action:t=>d.update(n=>{n.journey_type=t})})}),e.jsx("div",{className:"hidden max-sm:block",children:e.jsx(je,{items:jt.map(t=>({...t,name:l(`${t.value}`)})),selectedItem:l(`${a}`),action:t=>d.update(n=>{n.journey_type=t}),icon:e.jsx(Qt,{className:"mr-1 text-base"})})})]})},pa=[{id:1,name:"Any Baggage",value:"any"},{id:2,name:"With Baggage",value:"only-baggage"}],ns=()=>{const{baggage_option:a}=d.useState(t=>t),{t:l}=D();return e.jsx(je,{items:pa.map(t=>({...t,name:l(`baggage_options.${t.value}`)})),selectedItem:l(`baggage_options.${a}`),action:t=>d.update(n=>{n.baggage_option=t}),icon:e.jsx(Gt,{className:"mr-1 text-base"})})},ua=[{id:0,name:"Any Class",value:"any"},{id:1,name:"Economy",value:"Economy"},{id:2,name:"Premium Economy",value:"Premium-Economy"},{id:3,name:"Business Class",value:"Business"},{id:4,name:"First Class",value:"First-Class"}],is=()=>{const{booking_class:a}=d.useState(t=>t),{t:l}=D();return e.jsx(je,{items:ua.map(t=>({...t,name:l("booking_classes."+t.value)})),selectedItem:l("booking_classes."+a),action:t=>d.update(n=>{n.booking_class=t}),icon:e.jsx(Wt,{className:"mr-1 text-base"})})},ha=de(),ls=()=>{var I,B;const[a,l]=v.useState(!1),{t}=D(),{axiosInstance:n}=ae(),{login_required:r}=U.useState(),{journey_type:s,segment:i,preferred_carrier:p,...c}=d.useState(R=>R),{login_key:u,member_id:h}=((B=(I=Ee)==null?void 0:I.useState())==null?void 0:B.user_data)||{},g=d.useState(),{data:x={}}=$({queryKey:["PARTNER_PROFILE",u,h],enabled:r==="yes"||!!u,queryFn:async()=>{var k,E;const R=await n.post("/settings/partner-profile",{login_key:u,member_id:h});if(((k=R==null?void 0:R.data)==null?void 0:k.status)==="success")return R.data;throw{...R,message:((E=R.data)==null?void 0:E.reason)||"Request failed!"}}}),{legal_name:f,contact_person_name:m,isd_code:o,contact_number:j,company_type:_,city:O,state:M,address:P,country:G}=(x==null?void 0:x.partner_profile)||{},W=!!(f&&m&&o&&j&&_&&O&&M&&P&&G),V=async()=>{var R,k,E,L;if(r==="yes"&&W===!1){Fe.error(e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Please update your partner profile first"}),e.jsx(Te,{to:"/settings/profile",className:"font-normal text-white normal-case btn btn-xs btn-error",children:"Update"})]}),{toastId:ha,closeOnClick:!1});return}l(!0),document.body.classList.add("pointer-events-none");try{const y=i.map(C=>{var b,A,Y,Z;return{...C,departure_airport:C.departure_airport_type==="AIRPORT"?(b=C.departure_airport)==null?void 0:b.code:(A=C.departure_airport)==null?void 0:A.city_code,arrival_airport:C.arrival_airport_type==="AIRPORT"?(Y=C.arrival_airport)==null?void 0:Y.code:(Z=C.arrival_airport)==null?void 0:Z.city_code}}),w={...c,journey_type:s,segment:s==="MultiCity"?y.filter(C=>!!C.arrival_airport):y.slice(0,1),preferred_carrier:p.map(C=>C.value),version:2},S=await n.post(`/flight/search?login_required=${r}`,w);if(((R=S==null?void 0:S.data)==null?void 0:R.status)==="success"){const C=localStorage.getItem("flightRecentSearch"),b=JSON.parse(C)||[];if(b.some(A=>JSON.stringify(A)===JSON.stringify(g))===!1){const A=[g,...b.slice(0,9)];localStorage.setItem("flightRecentSearch",JSON.stringify(A))}se.update(()=>se._getInitialState()),window.open(`/flight/search?tracking_id=${S.data.tracking_id}`,"_self")}else throw new Error(((k=S==null?void 0:S.data)==null?void 0:k.reason)||((L=(E=S==null?void 0:S.response)==null?void 0:E.data)==null?void 0:L.message))}catch(y){Be("error","Failed",y.message)}finally{l(!1),document.body.classList.remove("pointer-events-none")}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:V,id:"flight_search_button",className:"btn btn-lg min-h-0 h-12 btn-primary sm:absolute static top-full left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:active:!-translate-x-1/2 sm:active:!-translate-y-1/2 sm:active:scale-95 !animate-none normal-case flex-nowrap font-normal max-sm:w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsxs("span",{children:[t("searching"),"..."]})]}):e.jsx("span",{children:t("search")})}),a&&e.jsx("dialog",{className:"modal bg-black/50",open:!0,children:e.jsxs("div",{className:"max-w-xs rounded-md modal-box",children:[e.jsx("div",{className:"relative z-20 mb-2 text-xl font-semibold text-center",children:t("search_flight_title")}),e.jsx("div",{className:"flex items-center justify-center mb-5",children:e.jsx(bt,{color:"hsl(var(--p))"})}),e.jsx("p",{className:"px-4 mb-3 text-center",children:t("search_flight_waiting")})]})})]})};function cs(a){return Yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.52,3.43A9.09,9.09,0,0,0,5.7,5.55V2.35H4.07v6.5h6.5V7.21H6.3a7.46,7.46,0,1,1-1.47,8.65l-1.46.73A9.11,9.11,0,1,0,11.52,3.43Z"}}]})(a)}const os=()=>{const{travelers_adult:a,travelers_child:l,travelers_infants:t}=d.useState(n=>n);return e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:"Adt"}),e.jsx("select",{className:"field",value:a,onChange:n=>d.update(r=>{r.travelers_adult=Number(n.target.value)}),children:[...Array(6)].map((n,r)=>e.jsx("option",{value:r+1,children:r+1},r))})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:"Chd"}),e.jsx("select",{className:"field",value:l,onChange:n=>d.update(r=>{r.travelers_child=Number(n.target.value),r.travelers_child_age=[...Array(Number(n.target.value))].fill("12")}),children:[...Array(7)].map((n,r)=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:"Inf"}),e.jsx("select",{className:"field",value:t,onChange:n=>d.update(r=>{r.travelers_infants=Number(n.target.value),r.travelers_infants_age=[...Array(Number(n.target.value))].fill("1")}),children:[...Array(7)].map((n,r)=>e.jsx("option",{value:r,children:r},r))})]})]})},It=({isActive:a,setIsActive:l,fieldName:t})=>{const{system_config:n}=U.useState(),[r,s]=v.useState({}),{axiosInstance:i}=ae(),{data:p=[]}=$(["AIRPORTS"],async()=>(await i.get("/tools/airport-autosuggetion-data")).data),[c,u]=v.useState({}),h=v.useRef();v.useEffect(()=>{var o;const m=((o=n==null?void 0:n.default_flight_suggetion)==null?void 0:o.reduce((j,_)=>({...j,[_.city_name]:j!=null&&j[_.city_name]?[...j[_.city_name],_]:[_]}),{}))||{};s(m)},[n==null?void 0:n.default_flight_suggetion]),v.useEffect(()=>{a?h.current&&h.current.focus():(u(r),h.current&&(h.current.value=""))},[a,r]);const g=m=>{t.name==="arrival_airport"?d.update(o=>{o.segment[t.index]={...o.segment[t.index],arrival_airport:m,arrival_airport_type:"AIRPORT"},o.segment[t.index+1]={...o.segment[t.index+1],departure_airport:m,departure_airport_type:"AIRPORT"},o.segment[t.index+1].departure_airport_type="AIRPORT"}):d.update(o=>{o.segment[t.index]={...o.segment[t.index],departure_airport:m,departure_airport_type:"AIRPORT"},o.segment[t.index][t.name]=m,o.segment[t.index].departure_airport_type="AIRPORT"}),l(!1)},x=m=>{t.name==="arrival_airport"?d.update(o=>{o.segment[t.index]={...o.segment[t.index],arrival_airport:m,arrival_airport_type:"CITY"},o.segment[t.index+1]={...o.segment[t.index+1],departure_airport:m,departure_airport_type:"CITY"},o.segment[t.index+1].departure_airport_type="CITY"}):d.update(o=>{o.segment[t.index]={...o.segment[t.index],departure_airport:m,departure_airport_type:"CITY"},o.segment[t.index][t.name]=m,o.segment[t.index].departure_airport_type="CITY"}),l(!1)},f=m=>{var j,_,O,M,P,G;const o=m.target.value.toLowerCase();if(o.trim().length>0){const W=[],V=[],I=[],B=[],R=[],k=[];for(const y of p){const w=(j=y.city_code)==null?void 0:j.toLowerCase(),S=(_=y.code)==null?void 0:_.toLowerCase(),C=(O=y.airport_name)==null?void 0:O.toLowerCase(),b=(M=y.city_name)==null?void 0:M.toLowerCase(),A=(P=y.country_name)==null?void 0:P.toLowerCase(),Y=(G=y.search_contents)==null?void 0:G.toLowerCase();w===o?W.push(y):S===o?V.push(y):C.split(" ").some(Z=>Z.startsWith(o)||C.startsWith(o))?I.push(y):b!=null&&b.startsWith(o)?B.push(y):A!=null&&A.startsWith(o)?R.push(y):Y.includes(o)&&k.push(y)}[W,V,I,B,R,k].forEach(y=>y.sort((w,S)=>(w==null?void 0:w.priority)-(S==null?void 0:S.priority)));const E=W.concat(V,I,B,R,k).slice(0,50),L={};E.forEach(y=>{L[y.city_name]=[...L[y.city_name]||[],y]}),u(L)}else u(r)};return e.jsxs(Q,{open:a,onOpenChange:l,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{})}),e.jsx(X,{align:"start",onClick:m=>m.stopPropagation(),asChild:!0,children:e.jsxs(pe,{className:"p-0 w-[350px] max-w-full",children:[e.jsx("input",{autoComplete:"off",ref:h,onChange:f,type:"search",className:"w-full pl-10 my-2 text-xs bg-transparent border-none outline-none",placeholder:"Airport code, city, name or country"}),e.jsx("span",{className:"absolute text-xs top-2 left-4",children:e.jsx(Oe,{className:"inline"})}),e.jsx("hr",{}),e.jsx(Me,{className:"overflow-auto text-xs max-h-64",children:Object.keys(c).length>0?Object.keys(c).map(m=>{const o=c[m];return o.length>1?e.jsxs("div",{className:"border-b",children:[e.jsxs(H,{onSelect:()=>x(o[0]),className:"flex gap-2 p-2 cursor-pointer",children:[e.jsx(Re,{className:"text-lg"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex gap-2 text-xs",children:[e.jsx("span",{className:"font-medium text-primary",children:o[0].city_name}),e.jsx("span",{className:"text-neutral/80",children:o[0].city_code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:o[0].country_name})]})]}),o.map(j=>e.jsx(H,{onSelect:()=>g(j),className:"pl-6 cursor-pointer",children:e.jsxs("div",{className:"flex gap-2 py-2 pr-2 border-t border-primary/10",children:[e.jsx(re,{className:"text-base rotate-45"}),e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px] flex-1",children:[e.jsx("span",{children:j.airport_name}),e.jsx("span",{className:"text-neutral/80",children:j.code})]})]})},j.code))]},m):o.map(j=>e.jsxs(H,{onSelect:()=>g(j),className:"flex gap-2 p-2 border-b cursor-pointer border-primary/10",children:[e.jsx(re,{className:"text-lg rotate-45"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"flex gap-2 justify-between text-[13px]",children:[e.jsxs("span",{children:[j.city_name," - ",j.country_name]}),e.jsx("span",{className:"text-neutral",children:j.code})]}),e.jsx("p",{className:"text-[11px] text-neutral",children:j.airport_name})]})]},j.code))}):e.jsx("p",{className:"py-10 text-center text-error",children:"No result found"})})]})})]})};It.propTypes={isActive:N.bool.isRequired,setIsActive:N.func.isRequired,fieldName:N.object.isRequired};const K=({label:a,fieldName:l,value:t,...n})=>{const[r,s]=v.useState(!1),i=v.useRef();return v.useEffect(()=>{const p=c=>{i.current&&!i.current.contains(c.target)&&s(!1)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}},[]),e.jsxs("div",{ref:i,className:J("relative input-container group min-w-[220px]",r?"active":""),children:[e.jsx("label",{className:"input-label",children:a}),e.jsx("input",{autoComplete:"off",onClick:()=>s(!0),type:"text",className:"field",placeholder:"Select",value:t,readOnly:!0,...n}),e.jsx(It,{isActive:r,setIsActive:s,fieldName:l})]})};K.propTypes={label:N.string.isRequired,fieldName:N.object.isRequired,value:N.string.isRequired};const Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHuWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTA4LTEwVDE3OjE3OjA1KzA1OjMwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA4LTEwVDE3OjE3OjA1KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMi0wOC0xMFQxNzoxNzowNSswNTozMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5YjcxM2M0Ni1hYjRlLTVjNGUtYWVmNC0xNDQ0NDk1MTEyMjIiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MTY4Mzk2Mi04YTY3LTk2NDUtYWZkNS1lNzJjNTY3NWMxNmYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNWIxZjQ4ZC1iYzJiLWI4NGItYmVjNS1jODkzNzIwZmQ2Y2IiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI1YjFmNDhkLWJjMmItYjg0Yi1iZWM1LWM4OTM3MjBmZDZjYiIgc3RFdnQ6d2hlbj0iMjAyMi0wOC0xMFQxNzoxNzowNSswNTozMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5YjcxM2M0Ni1hYjRlLTVjNGUtYWVmNC0xNDQ0NDk1MTEyMjIiIHN0RXZ0OndoZW49IjIwMjItMDgtMTBUMTc6MTc6MDUrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+MTEwNDM1OUFENzE1QTc4QzY3QkQ1ODMwMjkzODAxNTg8L3JkZjpsaT4gPHJkZjpsaT41Nzg0ODcyN0NEMUJEQkIxQkU0NzNBMzc4RDk5NEFFQzwvcmRmOmxpPiA8cmRmOmxpPkJBQTc2NDcxQjMyOUI0MUJFNzI2RjkwRjczQ0RDMzVEPC9yZGY6bGk+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjA0NmI1NGVmLTdhN2YtOWU0Ny1hNDM5LTNkYmVkZjhhZjc2MDwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkZTJjZjA2Ny05ODcxLWY3NGQtOWI4YS02Y2ExYzViNDcxOTQ8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpzdG9jazpjZjgwMzBiZC1kMTlmLTQyM2YtODc3Ny1hYTA1ZDNiYmU4NzU8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6ct7g7AAAHiUlEQVR4nO2ce4gVVRzHP7Pu+lifqZirPTSSfKxJomIpBWokiBKaqwYqGqIGZUZY4pp/9PinsPSfiEArs0DRIv8ILVMLH0SJSZIvUsrUwvWxaa2P9fbHd4a9e+/ce2funJnjXvzAZXfOzJxz7u+emd/v/M53xkmlUtymeMpsd6Clc9uAEXGmTp1qo90q4EvgHqAVMAP4OkqFGzZsMNCt8JRbaLMdsBkY5m5vA3ZY6IcRkr6EHWAtMNLdvgo8B9xIuB/GCD0Ci/XajuMAvAlMSyteBRwtqsJbhCRH4ALglbTt48AbCbYfC6FHoDuSwjIeWJ1RVgvUF1PZrUQSI3AwsA6oSCvbjRxJiyduA/YBNgHd08oagZeA6zG3nQhxGrAzGnn9Mso3AftibDdR4jKgA3wIjM4orweWxtSmFeIy4CrgSZ/y9cBvMbVphTgM+DwKjjOpB1bG0J5VTBtwBhp9fnyGYr+SwqQBJwBrcuy7iRyKaVoDTwPjYqg7EKYMOAL4FGibY/8BYI+htjzaoFhyPTDFcN2BMWHA/uiLdMpzzOeAydR3GfABGvUAWw3WHbojUagCNgK9Cxy3N2I7mawEZrr/XwUOGq4/MFEMWImMV13guMvoEjbFa8CitO0fgRMG6w+FXzKhHOiKRlfnHOc56EuMCtBGHfAImsI5yKH8iy5pB7gG/ANccP82uGV+vICSEOnsxOztIRSeAXsDjwJPoExxFdAFM/fIe1H6Ph+NyKiXUbx4CTgF/AL87v4/AHjH57yNBvpYNOUoT/c60M1iP1oBHd1PlVs2Aphc4LwrwB1AL+B0bL3LQxmwHLvGi0IH4H1gvq0OlAET0SzhnK1OFOAimsH49a8B9X9Fkh1KpxzYj6L5nsDDwAM0ORAvMHbQappD081/rFtWiGvAt2jh6DpNDsJzKA1unVeRE7kInAf+RpflSbesD/CF2z+PSmAQFtdV0r3wWRTwBmUW8FGA4xqBOW79UTiMZhw7aZ6gnUi4fhslipf9GFgS4Lh2KK1vgkPAJBTyeDwGtDdUf2iihilvuZ9CDCt8SGD2AtORBwa4D4U4VjAR5y2hcKZlooF20tmGbguN7rbJHygUprIxzwDb8+wfCgw01JbHRmAe8AdKaFjBlAGvo6B3d479bSgcFBfDWvTDLIuh7kAUZcBUKuX3qQdqgGM5TpuFwg7TXKbpfpg4ccjbHgR2obl0JnPRqDHB42gC0Ijmy5OAM4bqDkwci0oHgakoMM7kRcxJ6nYAPwE9kBPZTLDA3ihxLWt+g//8tBqNQhPcQKt/3g81Eo3uosQ7xdJq0KBBcdX9M/qSYzLKh6J0fK6cXxjqUAbHy0tWI4e1PaIMLzBxGhDge+BOYHhaWSc0/91lqI0f0C2jq7s9GvgLZapDE9aASaizngW2ZJS9DPQ1VH892Vnq1Y7jjHcch7CfsCQlsJyDsj4elWR/6ShspnkMWoFmR6bm4DlJyoB1SLVwKq1sDkqJmeA6ksw1ppV1R0qwPoba8CVJie9RpI9ucLcdtMZRkfOMcOxDBkunHxqJuRbHIpO0Sn8PMDttezCw0GD9S8mWDY9GUrtYwpu4vbAfh1Ds9hAajUNQQtSEXvoCenhneEZ5f+SlvzLQRjMcWw8b1tTUxFX1/WiG4ic1WUS22D0Spfis3HE0R/ZjFXJmxrBpwHFoMat1DHWvQwtWfqyhSZQUGZsGnIKkaZvR9Mske8itx2mLpHgjTDRk04CeJG0Cmhub7EuK/Ct1ndAPFzmTbdOAB2nKpMzEvH66kKSuN1oWqCpwXF5sGvAEzSf8i5B0zRQHULY6H9XIiEVnym08L+yRQovk6RK5WjTtezfHOa3RPawjEhV1dMs8tUQlGhQpJFiqQ/qZfIwCPkEeOldMdwllu8+T8Wiu7ThwCIrZWmXsXgz8CtyFAuNq9//O6P7VARkr87y4uInkJWfQVbMV+A740+YI7IVG0RWyg95MHaBtytBMpivS4sxGo7vWpgHnI4VBoUvsVqUbsNymE1mBFAsNPvvOoRnFxSQ7FIJzaLYz0eYIBF0OmR7wCHrO7iRaGu2DLvce6BLqgpxHG+Q42tLkOEBOpQI5yDEEm+n8h5QVnjNKuWVenQ00OZIjKEQ6C3a9MGRrZs6hGcphd/ssxcviehL8wcYFSG0WGpuXcHskTfO4gBbHDxmqfzDB1omXUKTxwK4BByBpGsgTT8fsAzlBFFtB5Xk5sWlA7wt6CtZthusvJKlbRzCBaF5sGrA/kqbNw/yzHgPRAn4utiNJXmRsOpFlaOpWaL5aDJPJnSLb7e438tILmwaMS5JWiaR0fhwDalwpXhbFLKzbDmPiYBrZbwoBBeVPAaeLfHmQL6W2JlKOJHSZXEX6GeOPxZaaAefi//jtfCS5M04pGbAj8KpPeS3BHggqilIy4GKyn5x/j5jfEFcqBuyLJHPpbEHSulgpFQPW0jyrsx/NbmKnFAw4lubGOoXUB3VJNN7SDViB0v9eYNeA4sDEHn9t6QZcSHMV6mzMv+AnLy15JnI3etHZeZQ5fhtI/GXS1pY1S4WWfglb57YBI3LbgBH5H1Ohd93vhiOjAAAAAElFTkSuQmCC",ma=({segment_no:a})=>{var r,s,i,p,c,u,h,g;const[l,t]=v.useState(!1),{segment:n}=d.useState();return e.jsxs(Q,{open:l,onOpenChange:t,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{className:"select-field",children:!((r=n==null?void 0:n.at(a))!=null&&r.departure_time)||((s=n==null?void 0:n.at(a))==null?void 0:s.departure_time)==="anytime"?"Anytime":`${(i=n==null?void 0:n.at(a))==null?void 0:i.departure_time}-${(p=n==null?void 0:n.at(a))==null?void 0:p.departure_time_within}`})}),e.jsx(X,{align:"end",className:"p-0 w-fit",children:e.jsxs("ul",{className:"w-full p-0 rounded-lg menu menu-xs bg-base-200 [&_li>*]:rounded-xl hover:[&_li>a]:!bg-warning/10 [&_li>*]:text-[11px]",children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="anytime",x.segment[a].departure_time_within="anytime"}),t(!1)},children:"Anytime"})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:"Fixed Departure Range"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="anytime",x.segment[a].departure_time_within="anytime"}),t(!1)},children:"All day"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="00:00",x.segment[a].departure_time_within="06:00"}),t(!1)},children:"00:00-06:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="06:00",x.segment[a].departure_time_within="11:00"}),t(!1)},children:"06:00-11:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="11:00",x.segment[a].departure_time_within="16:00"}),t(!1)},children:"11:00-16:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="16:00",x.segment[a].departure_time_within="21:00"}),t(!1)},children:"16:00-21:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(x=>{x.segment[a].departure_time="21:00",x.segment[a].departure_time_within="00:00"}),t(!1)},children:"21:00-00:00"})})]})]})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:"Departure After"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[11px] text-neutral",children:"Select Time"}),e.jsx("div",{className:"flex items-center justify-center p-1 text-xs",children:e.jsx("input",{type:"number",className:"w-16 text-[11px] hide_arrow_key focus:outline-0 placeholder:text-base-content text-center",placeholder:"HH:MM",defaultValue:((c=n==null?void 0:n.at(a))==null?void 0:c.departure_time)!=="anytime"?(u=n==null?void 0:n.at(a))==null?void 0:u.departure_time:"",onChange:x=>{d.update(f=>{f.segment[a].departure_time=x.target.value})}})})]})]})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:"Arrival Before"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[11px] text-neutral",children:"Select Time"}),e.jsx("div",{className:"flex items-center justify-center p-1 text-xs",children:e.jsx("input",{type:"number",className:"w-16 text-[11px] hide_arrow_key focus:outline-0 placeholder:text-base-content text-center",placeholder:"HH:MM",defaultValue:((h=n==null?void 0:n.at(a))==null?void 0:h.departure_time_within)!=="anytime"?(g=n==null?void 0:n.at(a))==null?void 0:g.departure_time_within:"",onChange:x=>{d.update(f=>{f.segment[a].departure_time_within=x.target.value})}})})]})]})})]})})]})},xa=({segment_no:a})=>{var r,s,i,p,c,u,h;const[l,t]=v.useState(!1),{segment:n}=d.useState();return e.jsxs(Q,{open:l,onOpenChange:t,children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{className:"select-field",children:((r=n==null?void 0:n.at(a))==null?void 0:r.arrival_time)==="anytime"?"Anytime":`${(s=n==null?void 0:n.at(a))==null?void 0:s.arrival_time}-${(i=n==null?void 0:n.at(a))==null?void 0:i.arrival_time_within}`})}),e.jsx(X,{align:"end",className:"p-0 w-fit",children:e.jsxs("ul",{className:"w-full p-0 rounded-lg menu menu-xs bg-base-200 [&_li>*]:rounded-xl hover:[&_li>a]:!bg-warning/10 [&_li>*]:text-[11px]",children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(g=>{g.segment[a].arrival_time="anytime",g.segment[a].arrival_time_within="anytime"}),t(!1)},children:"Anytime"})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:"Fixed Departure Range"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(g=>{g.segment[a].arrival_time="anytime",g.segment[a].arrival_time_within="anytime"}),t(!1)},children:"All day"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(g=>{g.segment[a].arrival_time="00:00",g.segment[a].arrival_time_within="06:00"}),t(!1)},children:"00:00-06:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(g=>{g.segment[a].arrival_time="06:00",g.segment[a].arrival_time_within="11:00"}),t(!1)},children:"06:00-11:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(g=>{g.segment[a].arrival_time="11:00",g.segment[a].arrival_time_within="16:00"}),t(!1)},children:"11:00-16:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(g=>{g.segment[a].arrival_time="16:00",g.segment[a].arrival_time_within="21:00"}),t(!1)},children:"16:00-21:00"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>{d.update(g=>{g.segment[a].arrival_time="21:00",g.segment[a].arrival_time_within="00:00"}),t(!1)},children:"21:00-00:00"})})]})]})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:"Departure After"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[11px] text-neutral",children:"Select Time"}),e.jsx("div",{className:"flex items-center justify-center p-1 text-xs",children:e.jsx("input",{type:"number",className:"w-16 text-[11px] hide_arrow_key focus:outline-0 placeholder:text-base-content text-center",placeholder:"HH:MM",defaultValue:((p=n==null?void 0:n.at(a))==null?void 0:p.arrival_time)!=="anytime"?(c=n==null?void 0:n.at(a))==null?void 0:c.arrival_time:"",onChange:g=>{d.update(x=>{x.segment[a].arrival_time=g.target.value})}})})]})]})}),e.jsx("li",{children:e.jsxs("details",{children:[e.jsx("summary",{className:"after:w-1.5 after:h-1.5 text-[11px]",children:"Arrival Before"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[11px] text-neutral",children:"Select Time"}),e.jsx("div",{className:"flex items-center justify-center p-1 text-xs",children:e.jsx("input",{type:"number",className:"w-16 text-[11px] hide_arrow_key focus:outline-0 placeholder:text-base-content text-center",placeholder:"HH:MM",defaultValue:((u=n==null?void 0:n.at(a))==null?void 0:u.arrival_time_within)!=="anytime"?(h=n==null?void 0:n.at(a))==null?void 0:h.arrival_time_within:"",onChange:g=>{d.update(x=>{x.segment[a].arrival_time_within=g.target.value})}})})]})]})})]})})]})},xe=({label:a,defaultValue:l,minDate:t,action:n,segment_no:r=0,isArrival:s=!1})=>{const{journey_type:i}=d.useState(p=>p);return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative input-container group",children:[e.jsx("label",{className:"input-label",children:a}),e.jsx(Ve,{className:`field ${a==="Return Date"&&i!=="RoundTrip"?"pointer-events-none opacity-50":"pointer-events-auto opacity-100 cursor-pointer"}`,defaultValue:ne(l).format("YYYY-MM-DD"),minDate:t,type:"text",action:n,placeholder:"mm/dd/yyyy"})]}),e.jsx("div",{className:"self-end sm:pb-1",children:s?e.jsx(xa,{segment_no:r}):e.jsx(ma,{segment_no:r})})]})};xe.propTypes={label:N.string.isRequired,defaultValue:N.string.isRequired,minDate:N.string.isRequired,action:N.func.isRequired};const ga=[{id:1,name:"Select..",value:""},{id:2,name:"Star Alliance",value:"SA"},{id:3,name:"Sky Team",value:"ST"},{id:4,name:"One World",value:"OW"}],fa=({segment_no:a,isIncluded:l,setIsIncluded:t})=>{var r,s,i,p,c,u;const{segment:n}=d.useState();return e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"appearance-none field",value:l?((i=(s=(r=n==null?void 0:n.at(a))==null?void 0:r.alliance)==null?void 0:s.include)==null?void 0:i.at(0))||"":((u=(c=(p=n==null?void 0:n.at(a))==null?void 0:p.alliance)==null?void 0:c.exclude)==null?void 0:u.at(0))||"",onChange:h=>d.update(g=>{l?g.segment.at(a).alliance={exclude:[],include:[h.target.value]}:g.segment.at(a).alliance={include:[],exclude:[h.target.value]}}),children:ga.map(h=>e.jsx("option",{value:h.value,children:h.name},h.id))}),e.jsx("div",{className:"absolute -translate-y-1/2 tooltip tooltip-secondary right-1 top-1/2","data-tip":l?"Click to Exclude":"Click to Include",children:e.jsx("button",{onClick:()=>t(!l),type:"button",className:"flex items-center justify-center pl-1 border-l border-l-neutral/80 bg-base-200",children:l?e.jsx(ee,{}):e.jsx(te,{})})})]})},ja=[{id:0,name:"Any Class",value:"any"},{id:1,name:"Economy",value:"Economy"},{id:2,name:"Premium Economy",value:"Premium-Economy"},{id:3,name:"Business Class",value:"Business"},{id:4,name:"First Class",value:"First-Class"}],ya=({segment_no:a})=>{var t;const{segment:l}=d.useState(n=>n);return e.jsx("select",{className:"field",value:(t=l==null?void 0:l.at(a))==null?void 0:t.booking_class,onChange:n=>d.update(r=>{r.segment[a].booking_class=n.target.value}),children:ja.map(n=>e.jsx("option",{value:n.value,children:n.name},n.id))})},va=({name:a,action:l,placeholder:t,className:n,...r})=>{const{data:s=[]}=$(["COUNTRY"],async()=>{const i=window.location.origin,p=await ge.get(`${i}/country.json`);return Object.values(p.data.data).map(c=>({label:`${c.country_name} (${c.country_code})`,value:c.country_code}))});return e.jsx(Pe,{options:s,className:n,name:a,action:l,placeholder:t,defaultValue:!0,...r})},ba=({segment_no:a,isIncluded:l,setIsIncluded:t})=>{var r,s,i,p,c,u;const{segment:n}=d.useState();return e.jsxs("div",{className:"relative",children:[e.jsx(va,{className:"field",defaultValue:l?((i=(s=(r=n==null?void 0:n.at(a))==null?void 0:r.country)==null?void 0:s.include)==null?void 0:i.at(0))||"":((u=(c=(p=n==null?void 0:n.at(a))==null?void 0:p.country)==null?void 0:c.exclude)==null?void 0:u.at(0))||"",action:h=>d.update(g=>{var x,f;l?g.segment.at(a).country={exclude:[],include:[(x=h==null?void 0:h.at(0))==null?void 0:x.value]}:g.segment.at(a).country={include:[],exclude:[(f=h==null?void 0:h.at(0))==null?void 0:f.value]}})}),e.jsx("div",{className:"absolute -translate-y-1/2 tooltip tooltip-secondary right-1 top-1/2","data-tip":l?"Click to Exclude":"Click to Include",children:e.jsx("button",{onClick:()=>{t(!l)},type:"button",className:"flex items-center justify-center pl-1 border-l border-l-neutral/80 bg-base-200",children:l?e.jsx(ee,{}):e.jsx(te,{})})})]})},Dt=({className:a,name:l,options:t,action:n,placeholder:r,defaultValue:s,isRequired:i=!1,readOnly:p=!0,...c})=>{const[u,h]=v.useState(!1),[g,x]=v.useState([]);v.useEffect(()=>{u&&x(t)},[t,u]);const f=v.useCallback(m=>{const o=m.target.value.toLowerCase().trim(),j=[],_=[];for(const O of t)O.value===o?j.push(O):O.label.toLowerCase().includes(o)&&_.push(O);return x(j.concat(_))},[t]);return e.jsxs(Q,{open:u,onOpenChange:h,children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:J(a,"flex items-center gap-2 focus-within:outline-0 relative",c!=null&&c.disabled?"pointer-events-none":""),...c,children:[e.jsx("input",{role:"combobox","aria-expanded":u,readOnly:p,name:l,value:s,className:"flex-1 bg-transparent focus:outline-0 max-w-[calc(100%-1.1rem)]",placeholder:r||"Select...",type:"text",required:i}),e.jsx(_t,{className:"w-4 h-4 opacity-50 pointer-events-none shrink-0"})]})}),e.jsx(X,{align:"start",className:"w-[200px] p-0 z-[9999]",children:e.jsxs(pe,{shouldFilter:!1,children:[e.jsx(Ct,{placeholder:"Search...",className:"h-8",onInput:f}),e.jsx(Nt,{children:"No result found."}),e.jsx(wt,{className:"max-h-[250px] overflow-auto p-0",children:g.map(m=>e.jsxs(H,{onSelect:()=>{n(m.value)},className:"justify-between px-2 py-1 text-xs",children:[m.label,e.jsx(St,{className:J("ml-2 h-4 w-4 shrink-0",s.includes(m.value)?"opacity-100":"opacity-0")})]},m.label))})]})})]})},_a=({segment_no:a})=>{var p,c,u,h,g,x;const[l,t]=v.useState([]),[n,r]=v.useState(!0),{segment:s}=d.useState(),i=((c=(p=s.at(a))==null?void 0:p.airlines)==null?void 0:c[n?"include":"exclude"])||[];return v.useEffect(()=>{const f=window.location.origin;ge.get(`${f}/airlines_list.json`).then(m=>{const o=Object.keys(m.data.data).map(j=>{const{iata_code:_,airline_name:O}=m.data.data[j];return{label:`[${_}] ${O}`,value:_}});t(o)})},[]),e.jsxs("div",{className:"input-container group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 input-label",children:[e.jsx("span",{children:"Airlines"}),i!=null&&i.length?e.jsxs(Q,{children:[e.jsx(q,{asChild:!0,children:e.jsxs("button",{className:"text-secondary",children:["(",i.length,")"]})}),e.jsx(X,{className:"p-0 border rounded w-72 border-secondary",children:e.jsx("ul",{className:"w-full rounded-none join join-vertical",children:i.map(f=>{var m;return e.jsx("li",{className:"p-1 text-xs border text-secondary join-item",children:(m=l.find(o=>o.value===f))==null?void 0:m.label},f)})})})]}):null,e.jsx("span",{className:"duration-100 opacity-0 group-hover:opacity-100",children:n?"Included":"Excluded"})]}),e.jsxs("button",{type:"button",onClick:()=>{d.update(f=>{f.segment.at(a).airlines={include:[],exclude:[]}})},className:"h-4 min-h-0 gap-0 p-0 normal-case rounded px-0.5 btn btn-xs btn-ghost group/btn",children:["R",e.jsx("span",{className:"hidden font-normal duration-100 opacity-0 group-hover:inline-block group-hover/btn:opacity-100",children:"eset"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"field",defaultValue:n?((h=(u=s==null?void 0:s.at(a))==null?void 0:u.airlines)==null?void 0:h.include)||"":((x=(g=s==null?void 0:s.at(a))==null?void 0:g.airlines)==null?void 0:x.exclude)||"",action:f=>{d.update(m=>{var o,j,_,O,M,P;n?(_=(j=(o=s.at(a))==null?void 0:o.airlines)==null?void 0:j.include)!=null&&_.includes(f)?m.segment.at(a).airlines={include:m.segment.at(a).airlines.include.filter(G=>G!==f),exclude:[]}:m.segment.at(a).airlines.include.push(f):(P=(M=(O=s.at(a))==null?void 0:O.airlines)==null?void 0:M.exclude)!=null&&P.includes(f)?m.segment.at(a).airlines={exclude:m.segment.at(a).airlines.exclude.filter(G=>G!==f),include:[]}:m.segment.at(a).airlines.exclude.push(f)})},options:l}),e.jsx("div",{className:"absolute -translate-y-1/2 tooltip tooltip-secondary right-1 top-1/2","data-tip":n?"Click to Exclude":"Click to Include",children:e.jsx("button",{onClick:()=>{r(!n)},type:"button",className:"flex items-center justify-center pl-1 border-l border-l-neutral/80 bg-base-200",children:n?e.jsx(ee,{}):e.jsx(te,{})})})]})]})},Ca=[{id:0,name:"Any",value:"any"},{id:1,name:"Direct",value:"non-stop"},{id:2,name:"One",value:"1"},{id:3,name:"Two",value:"2"},{id:4,name:"Three",value:"3"}],Na=({segment_no:a})=>{var t;const{segment:l}=d.useState();return e.jsx("select",{className:"field",value:(t=l==null?void 0:l.at(a))==null?void 0:t.stop,onChange:n=>d.update(r=>{r.segment[a].stop=n.target.value}),children:Ca.map(n=>e.jsx("option",{value:n.value,children:n.name},n.id))})},we=({segment_no:a=0})=>{var c,u;const[l,t]=v.useState(!1),[n,r]=v.useState(!0),{supplier_option:s}=U.useState(),{supplier_uid:i}=d.useState(),p=(u=(c=s==null?void 0:s.data)==null?void 0:c.find(h=>(h==null?void 0:h.supplier_uid)===i))==null?void 0:u.supplier_code;return e.jsx("div",{className:"max-w-[750px]",children:e.jsxs("div",{className:"grid gap-4 mb-4 max-sm:grid-cols-2 sm:grid-flow-col",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:"Class"}),e.jsx(ya,{segment_no:a})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("div",{className:"input-label",children:"Stop"}),e.jsx(Na,{segment_no:a})]}),e.jsxs("div",{className:"input-container group",children:[e.jsxs("div",{className:"input-label",children:["Alliances"," ",e.jsx("span",{className:"duration-100 opacity-0 group-hover:opacity-100",children:n?"Included":"Excluded"})]}),e.jsx(fa,{segment_no:a,isIncluded:n,setIsIncluded:r})]}),p!=="sabre"&&e.jsxs("div",{className:"input-container group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"input-label",children:["Countries"," ",e.jsx("span",{className:"duration-100 opacity-0 group-hover:opacity-100",children:l?"Included":"Excluded"})]}),e.jsxs("button",{type:"button",onClick:()=>{d.update(h=>{h.segment.at(a).country={include:[],exclude:[]}})},className:"h-4 min-h-0 gap-0 p-0 normal-case rounded px-0.5 btn btn-xs btn-ghost group/btn",children:["R",e.jsx("span",{className:"hidden font-normal duration-100 opacity-0 group-hover/btn:inline-block group-hover:opacity-100",children:"eset"})]})]}),e.jsx(ba,{segment_no:a,isIncluded:l,setIsIncluded:t})]}),e.jsx(_a,{segment_no:a})]})})},ds=()=>{var p,c,u,h,g,x,f,m;const{segment:a,journey_type:l}=d.useState(o=>o),[t,n]=v.useState(!0),[r,s]=v.useState(!0),i=a[0];return v.useEffect(()=>{l==="RoundTrip"?(n(!1),d.update(o=>{o.segment[1].departure_airport=i.arrival_airport,o.segment[1].departure_airport_type=i.arrival_airport_type,o.segment[1].arrival_airport=i.departure_airport,o.segment[1].arrival_airport_type=i.departure_airport_type})):n(!0)},[l,i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"grid-cols-1 gap-5 mb-4 sm:grid-cols-2 lg:grid-cols-3 one-way-round-trip grid flex-1",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-x-10 gap-y-3 sm:grid-cols-2 sm:col-span-2",children:[e.jsx(K,{label:"From",fieldName:{name:"departure_airport",index:0},value:(p=a[0])!=null&&p.departure_airport?a[0].departure_airport_type==="AIRPORT"?`${a[0].departure_airport.code} - ${a[0].departure_airport.airport_name}`:`${a[0].departure_airport.city_code} - ${a[0].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{onClick:()=>d.update(o=>{o.segment[0].arrival_airport=a[0].departure_airport,o.segment[0].departure_airport=a[0].arrival_airport}),type:"button",className:"w-6 h-6 flex justify-center items-center absolute sm:left-1/2 sm:bottom-1 top-1/2 right-8 -translate-x-1/2 -translate-y-1 bg-base-200 text-primary rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((c=a[0])!=null&&c.departure_airport)||!((u=a[0])!=null&&u.arrival_airport),children:e.jsx("img",{src:Ne,alt:"",className:"w-full"})}),e.jsx(K,{label:"To",fieldName:{name:"arrival_airport",index:0},value:(h=a[0])!=null&&h.arrival_airport?a[0].arrival_airport_type==="AIRPORT"?`${a[0].arrival_airport.code} - ${a[0].arrival_airport.airport_name}`:`${a[0].arrival_airport.city_code} - ${a[0].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(xe,{label:"Departure Date",minDate:"today",defaultValue:a[0].departure_date||ne().format("YYYY-MM-DD"),action:o=>{d.update(j=>{j.segment[0].departure_date=o})},segment_no:0})]}),e.jsx("button",{type:"button",onClick:()=>d.update(o=>{o.journey_type="RoundTrip"}),className:J("ml-1 text-xl removeBtn text-primary",l==="OneWay"?"visible":"invisible pointer-events-none"),children:e.jsx("i",{children:e.jsx(te,{})})}),e.jsx("button",{className:"invisible mt-2 ml-1 text-xl text-neutral/90 removeBtn disabled:opacity-30 text-primary",children:e.jsx("i",{children:e.jsx(ee,{})})})]}),e.jsx("button",{onClick:()=>n(!t),type:"button",className:"pl-2",children:t?e.jsx(be,{}):e.jsx(_e,{})})]}),e.jsx("div",{className:"overflow-visible rounded-none collapse",open:t,children:e.jsx("div",{className:"p-0 collapse-content",children:e.jsx(we,{segment_no:0})})}),l==="RoundTrip"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"grid-cols-1 gap-5 mb-4 sm:grid-cols-2 lg:grid-cols-3 one-way-round-trip grid flex-1",children:[e.jsxs("div",{className:"relative grid grid-cols-1 pointer-events-none gap-x-10 gap-y-3 sm:grid-cols-2 sm:col-span-2",children:[e.jsx(K,{label:"From",fieldName:{name:"departure_airport",index:1},value:(g=a[1])!=null&&g.departure_airport?a[1].departure_airport_type==="AIRPORT"?`${a[1].departure_airport.code} - ${a[1].departure_airport.airport_name}`:`${a[1].departure_airport.city_code} - ${a[1].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{onClick:()=>d.update(o=>{o.segment[1].arrival_airport=a[1].departure_airport,o.segment[1].departure_airport=a[1].arrival_airport}),type:"button",className:"w-6 h-6 flex justify-center items-center absolute sm:left-1/2 sm:bottom-1 top-1/2 right-8 -translate-x-1/2 -translate-y-1 bg-base-200 text-primary rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((x=a[1])!=null&&x.departure_airport)||!((f=a[1])!=null&&f.arrival_airport),children:e.jsx("img",{src:Ne,alt:"",className:"w-full"})}),e.jsx(K,{label:"To",fieldName:{name:"arrival_airport",index:1},value:(m=a[1])!=null&&m.arrival_airport?a[1].arrival_airport_type==="AIRPORT"?`${a[1].arrival_airport.code} - ${a[1].arrival_airport.airport_name}`:`${a[1].arrival_airport.city_code} - ${a[1].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(xe,{label:"Return Date",defaultValue:a[1].departure_date,minDate:a[0].departure_date||"today",action:o=>{d.update(j=>{j.segment[1].departure_date=o})},isArrival:!0})]}),e.jsx("button",{type:"button",onClick:()=>{d.update(o=>{o.journey_type="MultiCity"}),d.update(o=>{o.flight_count=3,o.segment.length<3&&o.segment.push({departure_airport:o.segment.at(-1).departure_airport,departure_airport_type:o.segment.at(-1).departure_airport_type,arrival_airport:null,arrival_airport_type:"",departure_date:"",return_date:"",departure_time:"anytime",departure_time_within:"anytime",booking_class:"Economy",stop:"any",alliance:{include:[],exclude:[]},country:{include:[],exclude:[]},airlines:{include:[],exclude:[]}})})},className:J("ml-1 text-xl removeBtn text-primary",l==="RoundTrip"?"visible":"invisible pointer-events-none"),children:e.jsx("i",{children:e.jsx(te,{})})}),e.jsx("button",{onClick:()=>d.update(o=>{o.journey_type="OneWay"}),className:"ml-1 text-xl removeBtn disabled:opacity-30 text-error",children:e.jsx("i",{children:e.jsx(ee,{})})})]}),e.jsx("button",{onClick:()=>s(!r),type:"button",className:"pl-2",children:r?e.jsx(be,{}):e.jsx(_e,{})})]}),e.jsx("div",{className:"overflow-visible rounded-none collapse",open:r,children:e.jsx("div",{className:"p-0 collapse-content",children:e.jsx(we,{segment_no:1})})})]})]})},wa=({index:a})=>{var i,p,c,u,h,g;const[l,t]=v.useState(!1),{flight_count:n,segment:r}=d.useState(x=>x),s=x=>{n>2&&d.update(f=>{f.flight_count=n-1,f.segment=r.filter((m,o)=>o!==x)})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center flex-1 gap-1",children:[e.jsxs("div",{className:"grid flex-1 w-full grid-flow-row gap-5 md:grid-flow-col",children:[e.jsxs("div",{className:"relative grid grid-cols-1 gap-x-10 gap-y-3 md:col-span-3 md:grid-cols-2",children:[e.jsx(K,{label:"Leaving From",fieldName:{name:"departure_airport",index:a},value:(i=r[a])!=null&&i.departure_airport?r[a].departure_airport_type==="AIRPORT"?`${r[a].departure_airport.code} - ${r[a].departure_airport.airport_name}`:`${r[a].departure_airport.city_code} - ${r[a].departure_airport.city_name} (All Airports)`:""}),e.jsx("button",{type:"button",onClick:()=>d.update(x=>{x.segment[a].arrival_airport=r[a].departure_airport,x.segment[a].departure_airport=r[a].arrival_airport}),className:"w-6 h-6 flex justify-center items-center absolute sm:left-1/2 sm:bottom-1 top-1/2 right-8 -translate-x-1/2 -translate-y-1 bg-base-200 text-primary rotate-90 sm:rotate-0 disabled:!opacity-100 z-[1]",disabled:!((p=r[a])!=null&&p.departure_airport)||!((c=r[a])!=null&&c.arrival_airport),children:e.jsx("img",{src:Ne,alt:"",className:"w-full"})}),e.jsx(K,{label:"Going To",fieldName:{name:"arrival_airport",index:a},value:(u=r[a])!=null&&u.arrival_airport?r[a].arrival_airport_type==="AIRPORT"?`${r[a].arrival_airport.code} - ${r[a].arrival_airport.airport_name}`:`${r[a].arrival_airport.city_code} - ${r[a].arrival_airport.city_name} (All Airports)`:""})]}),e.jsx(xe,{label:"Departure Date",minDate:(h=r[a-1])!=null&&h.departure_date?r[a-1].departure_date:"today",defaultValue:((g=r[a])==null?void 0:g.departure_date)||new Date().toDateString(),action:x=>{var f;d.update(m=>{m.segment[a].departure_date=x}),(f=r[a])!=null&&f.arrival_date&&new Date(x)>new Date(r[a].arrival_date)&&d.update(m=>{m.segment[a].arrival_date=""})},segment_no:a})]}),n<6&&n-1===a?e.jsx("div",{className:"tooltip tooltip-secondary w-fit","data-tip":"Add Flights",children:e.jsx("button",{type:"button",onClick:()=>d.update(x=>{x.flight_count=n+1,x.segment.length<n+1&&x.segment.push({departure_airport:x.segment.at(-1).departure_airport,departure_airport_type:x.segment.at(-1).departure_airport_type,arrival_airport:null,arrival_airport_type:"",departure_date:"",return_date:"",departure_time:"anytime",departure_time_within:"anytime",booking_class:"Economy",stop:"any",alliance:{include:[],exclude:[]},country:{include:[],exclude:[]},airlines:{include:[],exclude:[]}})}),className:"mt-2 ml-1 text-xl removeBtn text-primary",children:e.jsx("i",{children:e.jsx(te,{})})})}):e.jsx("button",{type:"button",className:"invisible text-xl ms-1 removeBtn text-error",children:e.jsx("i",{children:e.jsx(te,{})})}),n>2&&n-1===a?e.jsx("div",{className:"tooltip tooltip-secondary","data-tip":"Remove Flights",children:e.jsx("button",{type:"button",onClick:()=>s(a),className:"text-xl ms-1 removeBtn text-error",children:e.jsx("i",{children:e.jsx(ee,{})})})}):e.jsx("button",{className:"invisible mt-2 ml-1 text-xl text-neutral/90 removeBtn disabled:opacity-30 text-primary",children:e.jsx("i",{children:e.jsx(ee,{})})})]}),e.jsx("button",{onClick:()=>t(!l),type:"button",className:"pl-2",children:l?e.jsx(be,{}):e.jsx(_e,{})})]}),e.jsx("div",{className:"overflow-visible rounded-none collapse",open:l,children:e.jsx("div",{className:"p-0 pt-3 collapse-content",children:e.jsx(we,{segment_no:a})})})]})},ps=()=>{const{flight_count:a}=d.useState(l=>l);return e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex flex-col gap-2 multi-flight",children:Array(a).fill("").map((l,t)=>e.jsx(wa,{index:t},String(a)+t))})})},Sa=({items:a,activeTab:l,action:t})=>e.jsx("ul",{className:"flex flex-wrap items-center gap-4 text-xs",children:a.map(n=>e.jsxs("li",{onClick:()=>t(n.value),className:J("flex items-center group cursor-pointer gap-1.5 px-1",l===n.value?"active":""),children:[e.jsx("i",{className:"inline-flex w-3.5 h-3.5 ring-1 border-[3px] border-base-200 rounded-full ring-base-content group-[.active]:ring-primary group-[.active]:bg-primary"})," ",e.jsx("span",{children:n.name})]},n.id))}),Aa=[{id:1,name:"One-way",value:"OneWay",icon:e.jsx(ke,{})},{id:2,name:"Round-trip",value:"RoundTrip",icon:e.jsx(Ie,{})},{id:3,name:"Multi-city",value:"MultiCity",icon:e.jsx(De,{})}],us=()=>{const{journey_type:a}=d.useState(t=>t),{t:l}=D();return e.jsx(Sa,{items:Aa.map(t=>({...t,name:l(`${t.value}`)})),activeTab:a,action:t=>d.update(n=>{n.journey_type=t})})},Oa=de(),hs=()=>{var B,R;const[a,l]=v.useState(!1),{axiosInstance:t}=ae(),{login_required:n}=U.useState(),{journey_type:r,segment:s,preferred_carrier:i,fare_type:p,...c}=d.useState(k=>k),{login_key:u,member_id:h}=((R=(B=Ee)==null?void 0:B.useState())==null?void 0:R.user_data)||{},g=d.useState(),{data:x={}}=$({queryKey:["PARTNER_PROFILE",u,h],enabled:n==="yes"||!!u,queryFn:async()=>{var E,L;const k=await t.post("/settings/partner-profile",{login_key:u,member_id:h});if(((E=k==null?void 0:k.data)==null?void 0:E.status)==="success")return k.data;throw{...k,message:((L=k.data)==null?void 0:L.reason)||"Request failed!"}}}),{legal_name:f,contact_person_name:m,isd_code:o,contact_number:j,company_type:_,city:O,state:M,address:P,country:G}=(x==null?void 0:x.partner_profile)||{},W=!!(f&&m&&o&&j&&_&&O&&M&&P&&G),{t:V}=D(),I=async()=>{var k,E,L,y;if(n==="yes"&&W===!1){Fe.error(e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Please update your partner profile first"}),e.jsx(Te,{to:"/settings/profile",className:"font-normal text-white normal-case btn btn-xs btn-error",children:"Update"})]}),{toastId:Oa,closeOnClick:!1});return}l(!0),document.body.classList.add("pointer-events-none");try{const w=r==="RoundTrip"?s.map((b,A)=>{var Y,Z,ie,We,Ye,ze,Ze,Ue,He,Je,$e,Qe,qe,Xe,Ke,et,tt,at,st,rt,nt,it,lt,ct,ot,dt,pt,ut,ht,mt;return{...b,booking_class:b.booking_class||((Y=s[A+1])==null?void 0:Y.booking_class)||"",stop:b.stop||((Z=s[A+1])==null?void 0:Z.stop)||"",alliance:{include:String((ie=b.alliance)==null?void 0:ie.include)?(We=b.alliance)==null?void 0:We.include:((ze=(Ye=s[A+1])==null?void 0:Ye.alliance)==null?void 0:ze.include)||[],exclude:String((Ze=b.alliance)==null?void 0:Ze.exclude)?(Ue=b.alliance)==null?void 0:Ue.exclude:((Je=(He=s[A+1])==null?void 0:He.alliance)==null?void 0:Je.exclude)||[]},country:{include:String(($e=b.country)==null?void 0:$e.include)?(Qe=b.country)==null?void 0:Qe.include:((Xe=(qe=s[A+1])==null?void 0:qe.country)==null?void 0:Xe.include)||[],exclude:String((Ke=b.country)==null?void 0:Ke.exclude)?(et=b.country)==null?void 0:et.exclude:((at=(tt=s[A+1])==null?void 0:tt.country)==null?void 0:at.exclude)||[]},airlines:{include:String((st=b.airlines)==null?void 0:st.include)?(rt=b.airlines)==null?void 0:rt.include:((it=(nt=s[A+1])==null?void 0:nt.airlines)==null?void 0:it.include)||[],exclude:String((lt=b.airlines)==null?void 0:lt.exclude)?(ct=b.airlines)==null?void 0:ct.exclude:((dt=(ot=s[A+1])==null?void 0:ot.airlines)==null?void 0:dt.exclude)||[]},departure_airport:b.departure_airport_type==="AIRPORT"?(pt=b.departure_airport)==null?void 0:pt.code:(ut=b.departure_airport)==null?void 0:ut.city_code,arrival_airport:b.arrival_airport_type==="AIRPORT"?(ht=b.arrival_airport)==null?void 0:ht.code:(mt=b.arrival_airport)==null?void 0:mt.city_code}}):s.map(b=>{var A,Y,Z,ie;return{...b,departure_airport:b.departure_airport_type==="AIRPORT"?(A=b.departure_airport)==null?void 0:A.code:(Y=b.departure_airport)==null?void 0:Y.city_code,arrival_airport:b.arrival_airport_type==="AIRPORT"?(Z=b.arrival_airport)==null?void 0:Z.code:(ie=b.arrival_airport)==null?void 0:ie.city_code}}),S={...c,journey_type:r,segment:r==="MultiCity"?w.filter(b=>!!b.arrival_airport):r==="RoundTrip"?w.slice(0,2):w.slice(0,1),preferred_carrier:i.map(b=>b.value),fare_account_code:p!=null&&p.includes("ACCOUNT")?c.fare_account_code:[],fare_corporate_code:p!=null&&p.includes("CORPORATE")?c.fare_corporate_code:null,version:3,fare_type:(p==null?void 0:p.length)===0&&!c.travelers_ptc?["PUBLIC","BRAND","PRIVATE"]:p},C=await t.post(`/flight/search?login_required=${n}`,S);if(((k=C==null?void 0:C.data)==null?void 0:k.status)==="success"){const b=localStorage.getItem("flightRecentSearch"),A=JSON.parse(b)||[];if(A.some(Y=>JSON.stringify(Y)===JSON.stringify(g))===!1){const Y=[g,...A.slice(0,9)];localStorage.setItem("flightRecentSearch",JSON.stringify(Y))}se.update(()=>se._getInitialState()),window.open(`/flight/search?tracking_id=${C.data.tracking_id}`,"_self")}else throw new Error(((E=C==null?void 0:C.data)==null?void 0:E.reason)||((y=(L=C==null?void 0:C.response)==null?void 0:L.data)==null?void 0:y.message))}catch(w){Be("error","Failed",w.message)}finally{l(!1),document.body.classList.remove("pointer-events-none")}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:I,id:"flight_search_button",className:"h-8 min-h-0 font-normal normal-case duration-300 rounded-md btn btn-sm btn-primary hover:scale-125",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Searching..."})]}):e.jsx("span",{children:"Search"})}),a&&e.jsx("dialog",{className:"modal bg-black/50",open:!0,children:e.jsxs("div",{className:"max-w-xs rounded-md modal-box",children:[e.jsx("div",{className:"relative z-20 mb-2 text-xl font-semibold text-center",children:V("search_flight_title")}),e.jsx("div",{className:"flex items-center justify-center mb-5",children:e.jsx(bt,{color:"hsl(var(--p))"})}),e.jsx("p",{className:"px-4 mb-3 text-center",children:V("search_flight_waiting")})]})})]})},Ra=({supplier_type:a})=>{const{supplier_uid:l}=a==="FLIGHT"?d.useState():ye.useState(),[t,n]=v.useState([]),{supplier_option:r}=U.useState(),{pathname:s}=zt();return v.useEffect(()=>{if((r==null?void 0:r.status.toLowerCase())==="yes"){const i=[];r.UnifiedSearch.toLowerCase()==="yes"&&i.push({label:"All",value:"all"}),i.push(...r.data.filter(p=>p.supplier_type===a).map(p=>({label:p.title,value:p.supplier_uid}))),a==="FLIGHT"&&s==="/"?d.update(p=>{var c;p.supplier_uid=((c=i[0])==null?void 0:c.value)||"all"}):a==="HOTEL"&&s==="/"&&ye.update(p=>{var c;p.supplier_uid=((c=i[0])==null?void 0:c.value)||"all"}),n(i)}else n([])},[r,a,s]),v.useEffect(()=>{l||l===null&&d.update(i=>{var p;i.supplier_uid=((p=t[0])==null?void 0:p.value)||"all"})},[l,t]),t.length===0?null:e.jsx("ul",{className:"relative z-10 flex flex-wrap gap-1",children:t.map((i,p)=>e.jsx("li",{onClick:()=>{a==="FLIGHT"?d.update(c=>{c.supplier_uid=i.value}):a==="HOTEL"&&ye.update(c=>{c.supplier_uid=i.value})},className:J("px-4 py-1 text-xs rounded-md cursor-pointer",l===i.value?"bg-primary text-primary-content":"bg-neutral/10 text-base-content"),children:i.label},p))})};Ra.propTypes={supplier_type:N.string.isRequired};const ms=()=>{var i,p;const{travelers_ptc:a,supplier_uid:l}=d.useState(),{supplier_option:t}=U.useState();if(l==="all")return null;const{data:n}=t||{},r=n.find(c=>c.supplier_uid===l);if(!((i=r==null?void 0:r.search_box)!=null&&i.PTC))return null;const s=((p=r==null?void 0:r.search_box)==null?void 0:p.PTC)||[];return e.jsxs("div",{className:"input-container",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"input-label",children:"Select PTC"}),e.jsxs("button",{type:"button",onClick:()=>{d.update(c=>{c.travelers_ptc=null})},className:"h-4 min-h-0 gap-0 p-0 normal-case rounded px-0.5 btn btn-xs btn-ghost group",children:["R",e.jsx("span",{className:"hidden font-normal duration-100 opacity-0 group-hover:inline-block group-hover:opacity-100",children:"eset"})]})]}),e.jsx(Pe,{className:"field",options:s.map(c=>({label:`${(c==null?void 0:c.ptc_adt)||""}${c!=null&&c.ptc_cnn?"-"+c.ptc_cnn:""}${c!=null&&c.ptc_inf?"-"+c.ptc_inf:""} (${c==null?void 0:c.title})`,value:`${c==null?void 0:c.category}#${c==null?void 0:c.code}`})),defaultValue:a||"",action:c=>{d.update(u=>{var h;u.travelers_ptc=(h=c==null?void 0:c.at(0))==null?void 0:h.value}),d.update(u=>{u.fare_type=[]})}})]})},z=({label:a,defaultChecked:l,action:t})=>e.jsxs("label",{className:"flex items-center gap-0.5 cursor-pointer",children:[e.jsx("input",{autoComplete:"off",type:"checkbox",checked:l,onClick:n=>t(n.target.checked),className:"rounded checkbox checkbox-xs !border border-neutral/70 checkbox-primary"}),e.jsx("span",{className:"capitalize select-none",children:a})]});z.propTypes={label:N.any.isRequired,defaultChecked:N.bool,action:N.func.isRequired};const ka="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFyGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTA3LTA1VDE0OjU4OjE3KzA1OjMwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA3LTA1VDE0OjU4OjE3KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMi0wNy0wNVQxNDo1ODoxNyswNTozMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkMDQ0Zjk4NC01NzY1LTNjNGMtYmQwYy1kMjRjZmZmMThmNjMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo5NzE1NDZkZi01YzQ3LTg3NDgtOGI5OC01NjJkYWM4NmI1MzYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1YzM1MTQ2YS1mNWZmLWEwNDYtOTcwMi1jZmNkNGEzZGMzZmEiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1YzM1MTQ2YS1mNWZmLWEwNDYtOTcwMi1jZmNkNGEzZGMzZmEiIHN0RXZ0OndoZW49IjIwMjItMDctMDVUMTQ6NTg6MTcrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDA0NGY5ODQtNTc2NS0zYzRjLWJkMGMtZDI0Y2ZmZjE4ZjYzIiBzdEV2dDp3aGVuPSIyMDIyLTA3LTA1VDE0OjU4OjE3KzA1OjMwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+veXGagAABEZJREFUaIHtmmtoW1UcwH/n3ia3W9vN0kHdtEu60S2YtesGo43BDfdN1C8KvqibfpgdVUQnIijswyYDFfEFVRQFUdnW4Wvr9lGwTUwf1lb3aEW0iQW/rN2rW2luknv9cJK1TdM2j1ualvwgkNycc/7nl3P/59xziDBNk5WAstQdsIqCSL5RRKcAeBF4FqiKX18OiSOAG8A54LAwO3gJeG9Ju5Q73wuzg3+A6qXuSY6YClO303LGUFgZCW8qwNWl7oUFFCnAD0vdCwv4SwFeA06xPKbcVFwA9gmzA5BzcgNQC6gsDykBjACdwI2EyOKFsiF/Gh2ILV6oxZuxNIgIhZP9tbz87UMMj5WDBhQtTjhrR0QAdiAGJy+5+cDvJRDaCFEbJSXjHNz5G82N3dRUjsnR0eN1rAhtiUhCIAqnB7dyxLeHvpAjfmvpDwCVmOI4k8Xh8tJxmnYM0NzQg3v9ZYjIejl3ISeRhEAE2odcHOncTW/ICYoBRVEQ5gvAh/GSbUAThhIhrLGm9CaP1Z3nFa8f152jOedQdiIC0EAPK5z908X7Pi8dw5tANcCmJ0odAD5hZh5+BTwDGBgq6DaKV0/wdP0Ar3s6cVZekzJZjFDmIhpEowqnLrr5ONBAZzD+vGnXp5dqAj5HjlcyrcDztz8ZCkRs2FZN0FzfzyFPgOrKKxkLpSeSmEYNaLvk5l2/l57QRjBFsgDAI8DXwKp5WnwbuRBPYQoIa5StnuDAzj6ea+xha+WoFIrkKpKUxEd9u/k15ARhJnIgucaDwAmgdOHQHAUOz7pqKBDWKC8b56ntv9Pi6eae9ZdlDs0zQqlF4gJGBM4NuTjmu49AsHp6Eqdq637gR6AsDYkEbwDHUn5jKKDbKSu5xePb/+BVr48t667I0UkRfrZIMei6yplBFx/57+Xn4U1SYPYtNB0PcAaoyEAiwSHm26EaCug2NC3CN4+28bB7CLs9BpOpRFTkCOiCExe30RpoxB90AClzIJk64CxwdxYSILOgBfh03lKGAjEVryNEi6eLJ9wXUOzm7WlbmN0w9N86ukactA7soDfomCuJU7EN+A6oyVIiQRRoBr5YsKRuB2Gyyxmipb6fxqogrg2jiLr9Bxm5tparYxWghUGNzZUDydQA7cCWnBSmiAL7gOMLljQFxFQ5KVSMUXXHdQR735Q5oGa0rDqQOVGbVZfnZhJ4kkw2ezEVDAUFWyRTiQ3IjZjVEgDFwJfA3rRrqDGwRbJ6jN8P7MqiXrqsIdX6sgDZiJxHzhWLSW+mFbLZ5rQDe4C7mLk0xZAHfe+k2e5nwGlmPo8J4BbwU6adyna/1jXH9c3AW2m20YP8USzB6q1uSQZlNSsDr4RTRqAgkn8URPKNgki+URCxAIsOSyVWi5jIjXM65LXIv8BgGuUMoM/KwFaLXEcelfbG348nvW4CfyMPG36xMrAo/DsozyiI5Bv/A5P5SZ7ROBlBAAAAAElFTkSuQmCC",Ia="/assets/coming-soon.png",Da=({className:a,name:l,options:t,action:n,placeholder:r,defaultValue:s,isRequired:i=!1,readOnly:p=!0,...c})=>{const[u,h]=v.useState(!1),[g,x]=v.useState([]);v.useEffect(()=>{u&&x(t)},[t,u]);const f=v.useCallback(m=>{const o=m.target.value.toLowerCase().trim(),j=[],_=[];for(const O of t)O.value===o?j.push(O):O.label.toLowerCase().includes(o)&&_.push(O);return x(j.concat(_))},[t]);return e.jsxs(Q,{open:u,onOpenChange:h,children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:J(a,"flex items-center gap-2 focus-within:outline-0 relative",c!=null&&c.disabled?"pointer-events-none":""),...c,children:[e.jsx("input",{role:"combobox","aria-expanded":u,readOnly:p,name:l,value:t!=null&&t.every(m=>s==null?void 0:s.includes(m==null?void 0:m.value))?"All":s==null?void 0:s.map(m=>{var o;return(o=t==null?void 0:t.find(j=>(j==null?void 0:j.value)===m))==null?void 0:o.label}),className:"flex-1 bg-transparent focus:outline-0 max-w-[calc(100%-1.1rem)]",placeholder:r||"Select...",type:"text",required:i}),e.jsx(_t,{className:"w-4 h-4 opacity-50 pointer-events-none shrink-0"})]})}),e.jsx(X,{align:"start",className:"w-[200px] p-0 z-[9999]",children:e.jsxs(pe,{shouldFilter:!1,children:[e.jsx(Ct,{placeholder:"Search...",className:"h-8",onInput:f}),e.jsx(Nt,{children:"No result found."}),e.jsx(wt,{className:"max-h-[250px] overflow-auto p-0",children:g.map(m=>e.jsxs(H,{onSelect:()=>{n(m.value)},className:"justify-between px-2 py-1 text-xs",children:[m.label,e.jsx(St,{className:J("ml-2 h-4 w-4 shrink-0",s.includes(m.value)?"opacity-100":"opacity-0")})]},m.label))})]})})]})},Ea=({account_code_options:a})=>(v.useEffect(()=>{(a==null?void 0:a.length)>0&&d.update(l=>{l.fare_account_code=a.map(t=>t.value)})},[a]),null),Fa=()=>{var i;const{supplier_uid:a,fare_account_code:l}=d.useState(),{supplier_option:t}=U.useState(),{data:n}=t||{},r=n.find(p=>p.supplier_uid===a),s=v.useMemo(()=>{var p,c,u;return((u=(c=(p=r==null?void 0:r.search_box)==null?void 0:p["ACCOUNT-CODE"])==null?void 0:c.filter(h=>!!(h!=null&&h.account_code)))==null?void 0:u.map(h=>({label:(h==null?void 0:h.title)||(h==null?void 0:h.account_code),value:`${h==null?void 0:h.category}#${h==null?void 0:h.code}`})))||[]},[r]);return a==="all"||!((i=r==null?void 0:r.search_box)!=null&&i["ACCOUNT-CODE"])||(s==null?void 0:s.length)<1?null:e.jsxs(e.Fragment,{children:[e.jsx(Ea,{account_code_options:s}),e.jsx(Da,{className:"field",defaultValue:l||[],action:p=>{d.update(c=>{l.includes(p)?c.fare_account_code=l.filter(u=>u!==p):c.fare_account_code.push(p)})},options:s,placeholder:"Select Account Code"})]})},Ta=()=>{var i,p,c;const{supplier_uid:a,fare_corporate_code:l}=d.useState(),{supplier_option:t}=U.useState();if(a==="all")return null;const{data:n}=t||{},r=n.find(u=>u.supplier_uid===a);if(!((i=r==null?void 0:r.search_box)!=null&&i["COPORATE-CODE"]))return null;const s=((c=(p=r==null?void 0:r.search_box)==null?void 0:p["COPORATE-CODE"])==null?void 0:c.filter(u=>!!(u!=null&&u.coporate_code)))||[];return(s==null?void 0:s.length)<1?null:e.jsx(Pe,{className:"field",options:s.map(u=>({label:(u==null?void 0:u.title)||(u==null?void 0:u.coporate_code),value:`${u==null?void 0:u.category}#${u==null?void 0:u.code}`})),defaultValue:l||"",action:u=>{d.update(h=>{var g;h.fare_corporate_code=(g=u==null?void 0:u.at(0))==null?void 0:g.value})},placeholder:"Select Corporate Code"})},Ba=()=>{var p,c;const{fare_option:a,supplier_uid:l,baggage_option:t}=d.useState(),{supplier_option:n}=U.useState();if(l==="all")return e.jsx("div",{});const{data:r}=n||{},s=r.find(u=>u.supplier_uid===l);if(!((p=s==null?void 0:s.search_box)!=null&&p.PTC))return e.jsx("div",{});const i=((c=s==null?void 0:s.search_box)==null?void 0:c.fare_option)||[];return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 input-container",children:[e.jsx("div",{className:"input-label",children:"Fare Option"}),e.jsx(Dt,{className:"field !rounded-sm",defaultValue:a||[],action:u=>{d.update(h=>{a.includes(u)?h.fare_option=a.filter(g=>g!==u):h.fare_option.push(u)})},options:i.map(u=>({label:`${u==null?void 0:u.code} - ${u==null?void 0:u.title}`,value:u.code})),placeholder:"Select Fare Option"})]}),e.jsx("div",{className:"text-xs",children:e.jsx(z,{label:"Baggage Included",defaultChecked:t==="only-baggage",action:u=>{d.update(h=>{u?h.baggage_option="only-baggage":h.baggage_option="any"})}})})]})},La=()=>{var i,p;const{travelers_ptc:a,supplier_uid:l}=d.useState(),{supplier_option:t}=U.useState();if(l==="all")return null;const{data:n}=t||{},r=n.find(c=>c.supplier_uid===l);if(!((i=r==null?void 0:r.search_box)!=null&&i.PTC))return null;const s=((p=r==null?void 0:r.search_box)==null?void 0:p.PTC)||[];return e.jsxs("div",{className:"input-container mt-0.5 opacity-90",children:[e.jsx("div",{className:"px-1 input-label",children:"Agency Ethnic Fare"}),e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"table table-xs table-bordered",children:[e.jsx("thead",{}),e.jsx("tbody",{className:"text-[10px]",children:s.map(c=>{const{code:u,ptc_adt:h,ptc_cnn:g,ptc_inf:x,category:f,airlines_code:m,title:o,notes:j}=c||{},_=`${f}#${u}`,O=`${h||""}${g?"-"+g:""}${x?"-"+x:""}`;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"ptc-fare-radio",id:"",value:_,checked:a===_,className:"radio-xs radio radio-primary",onChange:M=>{M.target.checked&&d.update(P=>{P.travelers_ptc=_}),d.update(P=>{P.fare_type=[]})}})," ",o]})}),e.jsx("td",{children:O}),e.jsx("td",{children:m}),e.jsx("td",{children:e.jsx("p",{className:"line-clamp-1",children:j})})]},u)})})]})})]})},xs=()=>{const[a,l]=v.useState(!1),{fare_type:t}=d.useState();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center border border-neutral/80 h-[30px] rounded-[5px] px-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs",onChange:n=>{n.target.type==="checkbox"&&d.update(r=>{r.travelers_ptc=null})},children:[(t==null?void 0:t.includes("PUBLIC"))&&e.jsx(z,{label:"Public",defaultChecked:t==null?void 0:t.includes("PUBLIC"),action:n=>{d.update(r=>{n?r.fare_type.push("PUBLIC"):r.fare_type=r.fare_type.filter(s=>s!=="PUBLIC")})}}),(t==null?void 0:t.includes("BRAND"))&&e.jsx(z,{label:"Branded Fare",defaultChecked:t==null?void 0:t.includes("BRAND"),action:n=>{d.update(r=>{n?r.fare_type.push("BRAND"):r.fare_type=r.fare_type.filter(s=>s!=="BRAND")})}}),(t==null?void 0:t.includes("PRIVATE"))&&e.jsx(z,{label:"Private Fare",defaultChecked:t==null?void 0:t.includes("PRIVATE"),action:n=>{d.update(r=>{n?r.fare_type.push("PRIVATE"):r.fare_type=r.fare_type.filter(s=>s!=="PRIVATE")})}}),(t==null?void 0:t.includes("NEGO"))&&e.jsx(z,{label:"Nego (Ethnic)",defaultChecked:t==null?void 0:t.includes("NEGO"),action:n=>{d.update(r=>{n?r.fare_type.push("NEGO"):r.fare_type=r.fare_type.filter(s=>s!=="NEGO")})}}),(t==null?void 0:t.includes("NEGO_ONLY"))&&e.jsx(z,{label:"Nego Only",defaultChecked:t==null?void 0:t.includes("NEGO_ONLY"),action:n=>{d.update(r=>{n?r.fare_type.push("NEGO_ONLY"):r.fare_type=r.fare_type.filter(s=>s!=="NEGO_ONLY")})}}),(t==null?void 0:t.includes("CORPORATE"))&&e.jsx(z,{label:"Corporate Code",defaultChecked:t==null?void 0:t.includes("CORPORATE"),action:n=>{d.update(r=>{n?r.fare_type.push("CORPORATE"):r.fare_type=r.fare_type.filter(s=>s!=="CORPORATE")})}}),(t==null?void 0:t.includes("ACCOUNT"))&&e.jsx(z,{label:"Account Code",defaultChecked:t==null?void 0:t.includes("ACCOUNT"),action:n=>{d.update(r=>{n?r.fare_type.push("ACCOUNT"):r.fare_type=r.fare_type.filter(s=>s!=="ACCOUNT")})}})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium uppercase",children:"Please Select Fare ID"}),e.jsx("button",{onClick:()=>l(!a),type:"button",className:J("inline-flex items-center justify-center text-xl text-warning",a?"rotate-180":""),children:e.jsx("img",{src:ka,alt:"",className:"w-5"})})]})]}),e.jsx("div",{className:"rounded-none collapse",open:a,children:e.jsxs("div",{className:"p-0 collapse-content",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 sm:grid-cols-3",children:[e.jsxs("div",{onChange:n=>{n.target.type==="checkbox"&&d.update(r=>{r.travelers_ptc=null})},className:"input-container",children:[e.jsx("div",{className:"mb-1 input-label",children:"Fare Type"}),e.jsxs("div",{className:"flex flex-wrap text-xs gap-x-4 gap-y-1",children:[e.jsx(z,{label:"Public",defaultChecked:t==null?void 0:t.includes("PUBLIC"),action:n=>{d.update(r=>{n?(r.fare_type.push("PUBLIC"),r.fare_type=r.fare_type.filter(s=>["PUBLIC","BRAND","PRIVATE"].includes(s))):r.fare_type=r.fare_type.filter(s=>s!=="PUBLIC")})}}),e.jsx(z,{label:"Branded Fare",defaultChecked:t==null?void 0:t.includes("BRAND"),action:n=>{d.update(r=>{n?(r.fare_type.push("BRAND"),r.fare_type=r.fare_type.filter(s=>["PUBLIC","BRAND","PRIVATE"].includes(s))):r.fare_type=r.fare_type.filter(s=>s!=="BRAND")})}}),e.jsx(z,{label:"Private Fare",defaultChecked:t==null?void 0:t.includes("PRIVATE"),action:n=>{d.update(r=>{n?(r.fare_type.push("PRIVATE"),r.fare_type=r.fare_type.filter(s=>["PUBLIC","BRAND","PRIVATE"].includes(s))):r.fare_type=r.fare_type.filter(s=>s!=="PRIVATE")})}})]}),e.jsxs("div",{className:"flex flex-wrap text-xs gap-x-4 gap-y-1 ",children:[e.jsx(z,{label:"Nego Only",defaultChecked:t==null?void 0:t.includes("NEGO_ONLY"),action:n=>{d.update(r=>{n?r.fare_type=["NEGO_ONLY"]:r.fare_type=r.fare_type.filter(s=>s!=="NEGO_ONLY")})}}),e.jsx(z,{label:"Nego (ethnic)",defaultChecked:t==null?void 0:t.includes("NEGO"),action:n=>{d.update(r=>{n?r.fare_type=["NEGO"]:r.fare_type=r.fare_type.filter(s=>s!=="NEGO")})}})]}),e.jsx("div",{className:"text-xs",children:e.jsx(z,{label:"Corporate Code",defaultChecked:t==null?void 0:t.includes("CORPORATE"),action:n=>{d.update(r=>{n?r.fare_type=["CORPORATE"]:r.fare_type=r.fare_type.filter(s=>s!=="CORPORATE")})}})}),e.jsx("div",{className:"text-xs",children:e.jsx(z,{label:"Account Code",defaultChecked:t==null?void 0:t.includes("ACCOUNT"),action:n=>{d.update(r=>{n?r.fare_type=["ACCOUNT"]:r.fare_type=r.fare_type.filter(s=>s!=="ACCOUNT")})}})}),(t==null?void 0:t.includes("CORPORATE"))&&e.jsx(Ta,{}),(t==null?void 0:t.includes("ACCOUNT"))&&e.jsx(Fa,{})]}),e.jsx(Ba,{}),e.jsxs("div",{className:"relative w-full px-1 pointer-events-none bg-neutral/10 input-container opacity-90",children:[e.jsx("img",{src:Ia,alt:"",className:"absolute top-0 right-0 w-[50px] z-[1] block"}),e.jsx("div",{className:"input-label",children:"Content Option"}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"gap-2 py-0.5 text-xs cursor-pointer label w-fit",children:[e.jsx("input",{type:"radio",name:"radio-10",className:"radio radio-xs"}),e.jsx("span",{children:"All Content"})]}),e.jsxs("label",{className:"gap-2 py-0.5 text-xs cursor-pointer label w-fit",children:[e.jsx("input",{type:"radio",name:"radio-10",className:"radio radio-xs"}),e.jsx("span",{children:"Exclude NDC"})]}),e.jsxs("label",{className:"gap-2 py-0.5 text-xs cursor-pointer label w-fit",children:[e.jsx("input",{type:"radio",name:"radio-10",className:"radio radio-xs"}),e.jsx("span",{children:"Only NDC"})]})]}),e.jsx("div",{className:"input-label",children:"Content Option"}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"py-0.5 text-xs cursor-pointer label w-fit",children:[e.jsx("input",{type:"checkbox",className:"rounded checkbox checkbox-xs",defaultChecked:!1}),e.jsx("span",{children:"NDC Promotion Code"})]})})]})]}),e.jsx(La,{})]})})]})};export{qa as B,z as C,$a as F,cs as G,Ha as M,Ua as O,Za as P,Ra as S,Qa as W,Ja as a,Xa as b,rs as c,ss as d,Ka as e,is as f,es as g,ts as h,as as i,ns as j,ls as k,us as l,ds as m,ps as n,os as o,ms as p,hs as q,xs as r};
