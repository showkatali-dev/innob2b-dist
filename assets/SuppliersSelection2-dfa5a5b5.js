import{e as x,o as i,a1 as f,a3 as h,m as g,l as R}from"./index-179efefa.js";import{P as r,bW as j,bX as T,bP as L,u as w,r as y,a as q,w as C,c7 as b,c1 as N,t as I}from"./App-5691a897.js";import{S}from"./SingleSelect-2525a2fe.js";const E=({selectedItem:e,items:o,action:c})=>{const[d,s]=x.useState(!1),l=x.useRef();return x.useEffect(()=>{const u=a=>{l.current&&!l.current.contains(a.target)&&s(!1)};return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[]),i.jsxs("div",{ref:l,className:`relative selection-container group ${d?"active":""}`,children:[i.jsxs("button",{type:"button",onClick:()=>s(!d),className:"w-full px-4 py-2 text-xs rounded-lg hover:bg-neutral/5 text-start lg:text-sm",children:[e," ",i.jsx("i",{className:"ml-1 inline-flex align-middle items-center",children:d?i.jsx(j,{}):i.jsx(T,{})})]}),i.jsx("ul",{className:"absolute top-full right-0 z-10 w-64 min-w-full py-1 origin-['50%_0'] border rounded-lg mt-0.5 shadow-xl max-w-max lists bg-base-200 transition-all scale-90 -translate-y-8 opacity-0 pointer-events-none group-[.active]:pointer-events-auto group-[.active]:scale-100 group-[.active]:translate-y-0 group-[.active]:opacity-100",style:{transition:"all .2s cubic-bezier(.5,0,0,1.25), opacity .15s ease-out"},children:o.map(u=>i.jsxs("li",{onClick:()=>{c(u.value),s(!1)},className:`px-4 py-2 cursor-pointer hover:bg-neutral/10 text-xs lg:text-sm ${e===u.name?"text-primary":""}`,children:[u.name,e===u.name?i.jsx(L,{className:"ml-2"}):""]},u.id))})]})};E.propTypes={items:r.arrayOf(r.shape({id:r.number.isRequired,name:r.string.isRequired,value:r.any.isRequired})).isRequired,selectedItem:r.string.isRequired,action:r.func.isRequired};const k=({supplier_type:e})=>{const{supplier_uid:o}=e==="FLIGHT"?f.useState():h.useState(),[c,d]=x.useState([]),{supplier_option:s}=g.useState(),{pathname:l}=w(),{t:u}=y();return x.useEffect(()=>{if((s==null?void 0:s.status.toLowerCase())==="yes"&&(s!=null&&s.data)){const a=[];s.UnifiedSearch.toLowerCase()==="yes"&&a.push({label:"All",value:"all"}),a.push(...s.data.filter(t=>t.supplier_type===e).map(t=>({label:t.title,value:t.supplier_uid}))),e==="FLIGHT"&&l==="/"?f.update(t=>{var n;t.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}):e==="HOTEL"&&l==="/"&&h.update(t=>{var n;t.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}),d(a)}else d([]),f.update(a=>{a.supplier_uid="all"})},[s,e,l]),x.useEffect(()=>{o||o===null&&f.update(a=>{var t;a.supplier_uid=((t=c[0])==null?void 0:t.value)||"all"})},[o,c]),c.length===0?null:i.jsx(S,{className:"!px-4 !py-2 font-medium !rounded-lg bg-neutral/5 placeholder:text-neutral/50 focus:!outline-0  !m-0 !border-0 !min-h-0 !shadow-none",options:c,action:a=>{e==="FLIGHT"?f.update(t=>{var n;t.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}):e==="HOTEL"&&h.update(t=>{var n;t.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"})},placeholder:u("select_supplier"),defaultValue:o})};k.propTypes={supplier_type:r.string.isRequired};const V=({supplier_type:e})=>{var n,_;const{axiosInstance:o}=q(),{login_key:c,member_id:d}=((n=R.useState())==null?void 0:n.user_data)||{},{partner_id:s}=e==="FLIGHT"?f.useState():h.useState(),{data:l=[],isLoading:u}=C({queryKey:["PARTNER_OPTIONS",e],queryFn:async()=>{var v;const p=await o.post("/secure?pathName=/partner/my-partner-list",{login_key:c,member_id:d});if(((v=p==null?void 0:p.data)==null?void 0:v.status)==="success")return e==="FLIGHT"?f.update(m=>{m.partner_id=p.data.data[0].partner_id}):h.update(m=>{m.partner_id=p.data.data[0].partner_id}),p.data.data.map(m=>({label:m.brand_name,value:m.partner_id}))}}),{t:a}=y(),{component_version:t}=g.useState();return u||l.length===0?null:i.jsx(S,{className:((_=t==null?void 0:t.flight)==null?void 0:_.search_box)==="1"?"!px-4 !py-2 font-medium !rounded-lg bg-neutral/5 placeholder:text-neutral/50 focus:!outline-0  !m-0 !border-0 !min-h-0 !shadow-none":"!px-4 !py-2 font-medium !rounded bg-transparent text-xs !border-base-content/10 !border placeholder:text-neutral/50 focus:!outline-0 !m-0 !min-h-0 !shadow-none",options:l,action:p=>{e==="FLIGHT"?f.update(v=>{var m;v.partner_id=(m=p==null?void 0:p.at(0))==null?void 0:m.value}):h.update(v=>{var m;v.partner_id=(m=p==null?void 0:p.at(0))==null?void 0:m.value})},placeholder:a("select_partner"),defaultValue:s})};function P(e){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.7 230.4l-141.1-132c-1.7-1.6-3.3-2.5-5.6-2.4-4.4.2-10 3.3-10 8v66.2c0 2-1.6 3.8-3.6 4.1C144.1 195.8 85 300.8 64.1 409.8c-.8 4.3 5 8.3 7.7 4.9 51.2-64.5 113.5-106.6 212-107.4 2.2 0 4.2 2.6 4.2 4.8v65c0 7 9.3 10.1 14.5 5.3l142.1-134.3c2.6-2.4 3.4-5.2 3.5-8.4-.1-3.2-.9-6.9-3.4-9.3z"}}]})(e)}function M(e){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 336v-40L288 192V79.2c0-17.7-14.8-31.2-32-31.2s-32 13.5-32 31.2V192L64 296v40l160-48v113.6l-48 31.2V464l80-16 80 16v-31.2l-48-31.2V288l160 48z"}}]})(e)}function B(e){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M330.666 131.202c18.668 0 33.598-14.935 33.598-33.601S349.334 64 330.666 64C312 64 297.07 78.935 297.07 97.601s14.93 33.601 33.596 33.601zm56 130.132c-51.332 0-93.332 42-93.332 93.333s42 93.333 93.332 93.333C438 448 480 406 480 354.667s-42-93.333-93.334-93.333zm0 158.666c-36.402 0-65.332-28.93-65.332-65.333s28.93-65.333 65.332-65.333c36.404 0 65.334 28.93 65.334 65.333S423.07 420 386.666 420zm-81.069-196H384v-32h-58.845l-34.62-60.134c-5.605-9.333-15.869-15.864-27.07-15.864-8.399 0-16.798 3.732-22.399 9.333L169.334 194.4c-5.601 5.601-9.333 14-9.333 22.399 0 12.131 9.202 21.465 18.535 27.065L240 282.134V368h32V256l-39.333-32 42.929-44.533L305.597 224zm-180.264 37.334C74 261.334 32 303.334 32 354.667S74 448 125.333 448s93.333-42 93.333-93.333-41.999-93.333-93.333-93.333zm0 158.666C88.934 420 60 391.07 60 354.667s28.934-65.333 65.333-65.333 65.333 28.93 65.333 65.333S161.732 420 125.333 420z"}}]})(e)}function $(e){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 248L288 96v85.334C138.666 202.667 85.333 309.334 64 416c53.333-74.666 117.333-108.802 224-108.802v87.469L448 248z"}}]})(e)}const F=({selectedItem:e,items:o,action:c,icon:d})=>{const[s,l]=x.useState(!1),u=x.useRef();return x.useEffect(()=>{const a=t=>{u.current&&!u.current.contains(t.target)&&l(!1)};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[]),i.jsxs("div",{ref:u,className:`relative selection-container group ${s?"active":""}`,children:[i.jsxs("button",{type:"button",onClick:()=>l(!s),className:"w-full px-2 py-1 text-xs font-semibold rounded-xl text-start",children:[d," ",e," ",i.jsx("i",{className:"ml-1 inline-flex align-middle items-center",children:s?i.jsx(N,{}):i.jsx(I,{})})]}),i.jsx("ul",{className:"absolute top-full right-0 z-10 w-64 min-w-full py-1 origin-['50%_0'] rounded mt-0.5  shadow-[0_4px_16px_0_rgba(69,88,115,.2)] max-w-max lists bg-base-200 transition-all scale-90 -translate-y-8 opacity-0 pointer-events-none group-[.active]:pointer-events-auto group-[.active]:scale-100 group-[.active]:translate-y-0 group-[.active]:opacity-100 text-xs",style:{transition:"all .2s cubic-bezier(.5,0,0,1.25), opacity .15s ease-out"},children:o.map(a=>i.jsxs("li",{onClick:()=>{c(a.value),l(!1)},className:`px-4 py-2 cursor-pointer hover:bg-neutral/10 ${e===a.name?"text-primary":""}`,children:[a.name,e===a.name?i.jsx(L,{className:"ml-2"}):""]},a.id))})]})};F.propTypes={items:r.arrayOf(r.shape({id:r.number.isRequired,name:r.string.isRequired,value:r.any.isRequired})).isRequired,selectedItem:r.string.isRequired,action:r.func.isRequired,icon:r.element};const H=({items:e,activeTab:o,action:c})=>{const{flight:d}=g.useState(s=>s.component_version)||{};return i.jsx("ul",{className:`flex flex-wrap items-center gap-2 custom-tab2 ${(d==null?void 0:d.search_box)==="2"?"!text-xs":""}`,children:e.map(s=>i.jsxs("li",{onClick:()=>c(s.value),className:`flex items-center ${o===s.value?"active":""}`,children:[i.jsx("i",{className:"p-1 mr-1.5 inline-flex",children:s.icon}),i.jsx("span",{children:s.name})]},s.id))})};H.propTypes={items:r.arrayOf(r.shape({id:r.number.isRequired,icon:r.element.isRequired,name:r.string.isRequired,value:r.any.isRequired})).isRequired,activeTab:r.any.isRequired,action:r.func.isRequired};const z=({supplier_type:e})=>{const{supplier_uid:o}=e==="FLIGHT"?f.useState():h.useState(),[c,d]=x.useState([]),{supplier_option:s}=g.useState(),{pathname:l}=w(),{t:u}=y();return x.useEffect(()=>{if((s==null?void 0:s.status.toLowerCase())==="yes"){const a=[];s.UnifiedSearch.toLowerCase()==="yes"&&a.push({label:"All",value:"all"}),a.push(...s.data.filter(t=>t.supplier_type===e).map(t=>({label:t.title,value:t.supplier_uid}))),e==="FLIGHT"&&l==="/"?f.update(t=>{var n;t.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}):e==="HOTEL"&&l==="/"&&h.update(t=>{var n;t.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}),d(a)}else d([])},[s,e,l]),x.useEffect(()=>{o||o===null&&f.update(a=>{var t;a.supplier_uid=((t=c[0])==null?void 0:t.value)||"all"})},[o,c]),c.length===0?null:i.jsx(S,{className:"!px-4 !py-2 font-medium !rounded bg-transparent text-xs !border-base-content/10 !border placeholder:text-neutral/50 focus:!outline-0 !m-0 !min-h-0 !shadow-none",options:c,action:a=>{e==="FLIGHT"?f.update(t=>{var n;t.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}):e==="HOTEL"&&h.update(t=>{var n;t.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"})},placeholder:u("select_supplier"),defaultValue:o})};z.propTypes={supplier_type:r.string.isRequired};export{E as D,B as I,V as P,k as S,z as a,F as b,H as c,M as d,$ as e,P as f};
