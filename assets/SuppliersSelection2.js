import{aV as k,e as p,aX as y,o as c,aa as h,a8 as g,m as S,l as F}from"./index.js";import{bz as w,P as o,bB as z,bC as H,bo as R,U as O,u as L,a as A,b as M}from"./App.js";import{S as j}from"./SingleSelect.js";import{b as P,F as V}from"./index.esm.js";var _=globalThis&&globalThis.__assign||function(){return _=Object.assign||function(e){for(var i,l=1,r=arguments.length;l<r;l++){i=arguments[l];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},_.apply(this,arguments)},G=globalThis&&globalThis.__rest||function(e,i){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(e);t<r.length;t++)i.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(l[r[t]]=e[r[t]]);return l},B=k("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function Z(e){var i=e.loading,l=i===void 0?!0:i,r=e.color,t=r===void 0?"#000000":r,u=e.speedMultiplier,d=u===void 0?1:u,a=e.cssOverride,s=a===void 0?{}:a,n=e.height,b=n===void 0?35:n,m=e.width,v=m===void 0?4:m,f=e.radius,C=f===void 0?2:f,T=e.margin,E=T===void 0?2:T,q=G(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),I=_({display:"inherit"},s),x=function(N){return{backgroundColor:t,width:y(v),height:y(b),margin:y(E),borderRadius:y(C),display:"inline-block",animation:"".concat(B," ").concat(1/d,"s ").concat(N*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return l?p.createElement("span",_({style:I},q),p.createElement("span",{style:x(1)}),p.createElement("span",{style:x(2)}),p.createElement("span",{style:x(3)}),p.createElement("span",{style:x(4)}),p.createElement("span",{style:x(5)})):null}function ee(e){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.7 230.4l-141.1-132c-1.7-1.6-3.3-2.5-5.6-2.4-4.4.2-10 3.3-10 8v66.2c0 2-1.6 3.8-3.6 4.1C144.1 195.8 85 300.8 64.1 409.8c-.8 4.3 5 8.3 7.7 4.9 51.2-64.5 113.5-106.6 212-107.4 2.2 0 4.2 2.6 4.2 4.8v65c0 7 9.3 10.1 14.5 5.3l142.1-134.3c2.6-2.4 3.4-5.2 3.5-8.4-.1-3.2-.9-6.9-3.4-9.3z"}}]})(e)}function te(e){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 336v-40L288 192V79.2c0-17.7-14.8-31.2-32-31.2s-32 13.5-32 31.2V192L64 296v40l160-48v113.6l-48 31.2V464l80-16 80 16v-31.2l-48-31.2V288l160 48z"}}]})(e)}function ae(e){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M330.666 131.202c18.668 0 33.598-14.935 33.598-33.601S349.334 64 330.666 64C312 64 297.07 78.935 297.07 97.601s14.93 33.601 33.596 33.601zm56 130.132c-51.332 0-93.332 42-93.332 93.333s42 93.333 93.332 93.333C438 448 480 406 480 354.667s-42-93.333-93.334-93.333zm0 158.666c-36.402 0-65.332-28.93-65.332-65.333s28.93-65.333 65.332-65.333c36.404 0 65.334 28.93 65.334 65.333S423.07 420 386.666 420zm-81.069-196H384v-32h-58.845l-34.62-60.134c-5.605-9.333-15.869-15.864-27.07-15.864-8.399 0-16.798 3.732-22.399 9.333L169.334 194.4c-5.601 5.601-9.333 14-9.333 22.399 0 12.131 9.202 21.465 18.535 27.065L240 282.134V368h32V256l-39.333-32 42.929-44.533L305.597 224zm-180.264 37.334C74 261.334 32 303.334 32 354.667S74 448 125.333 448s93.333-42 93.333-93.333-41.999-93.333-93.333-93.333zm0 158.666C88.934 420 60 391.07 60 354.667s28.934-65.333 65.333-65.333 65.333 28.93 65.333 65.333S161.732 420 125.333 420z"}}]})(e)}function se(e){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 248L288 96v85.334C138.666 202.667 85.333 309.334 64 416c53.333-74.666 117.333-108.802 224-108.802v87.469L448 248z"}}]})(e)}const $=({selectedItem:e,items:i,action:l})=>{const[r,t]=p.useState(!1),u=p.useRef();return p.useEffect(()=>{const d=a=>{u.current&&!u.current.contains(a.target)&&t(!1)};return document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}},[]),c.jsxs("div",{ref:u,className:`relative selection-container group ${r?"active":""}`,children:[c.jsxs("button",{type:"button",onClick:()=>t(!r),className:"w-full px-4 py-2 text-xs rounded-xl hover:bg-neutral/10 text-start lg:text-sm",children:[e," ",c.jsx("i",{className:"ml-1 inline-flex align-middle items-center",children:r?c.jsx(z,{}):c.jsx(H,{})})]}),c.jsx("ul",{className:"absolute top-full right-0 z-10 w-64 min-w-full py-1 origin-['50%_0'] border rounded-lg mt-0.5 shadow-xl max-w-max lists bg-base-200 transition-all scale-90 -translate-y-8 opacity-0 pointer-events-none group-[.active]:pointer-events-auto group-[.active]:scale-100 group-[.active]:translate-y-0 group-[.active]:opacity-100",style:{transition:"all .2s cubic-bezier(.5,0,0,1.25), opacity .15s ease-out"},children:i.map(d=>c.jsxs("li",{onClick:()=>{l(d.value),t(!1)},className:`px-4 py-2 cursor-pointer hover:bg-neutral/10 text-xs lg:text-sm ${e===d.name?"text-primary":""}`,children:[d.name,e===d.name?c.jsx(R,{className:"ml-2"}):""]},d.id))})]})};$.propTypes={items:o.arrayOf(o.shape({id:o.number.isRequired,name:o.string.isRequired,value:o.any.isRequired})).isRequired,selectedItem:o.string.isRequired,action:o.func.isRequired};const D=({supplier_type:e})=>{const{supplier_uid:i}=e==="FLIGHT"?h.useState():g.useState(),[l,r]=p.useState([]),{supplier_option:t}=S.useState(),{pathname:u}=O(),{t:d}=L();return p.useEffect(()=>{if((t==null?void 0:t.status.toLowerCase())==="yes"&&(t!=null&&t.data)){const a=[];t.UnifiedSearch.toLowerCase()==="yes"&&a.push({label:"All",value:"all"}),a.push(...t.data.filter(s=>s.supplier_type===e).map(s=>({label:s.title,value:s.supplier_uid}))),e==="FLIGHT"&&u==="/"?h.update(s=>{var n;s.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}):e==="HOTEL"&&u==="/"&&g.update(s=>{var n;s.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}),r(a)}else r([]),h.update(a=>{a.supplier_uid="all"})},[t,e,u]),p.useEffect(()=>{i||i===null&&h.update(a=>{var s;a.supplier_uid=((s=l[0])==null?void 0:s.value)||"all"})},[i,l]),l.length===0?null:c.jsx(j,{className:"!px-4 !py-2 font-medium !rounded-lg bg-neutral/5 placeholder:text-neutral/50 focus:!outline-0  !m-0 !border-0 !min-h-0 !shadow-none",options:l,action:a=>{e==="FLIGHT"?h.update(s=>{var n;s.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}):e==="HOTEL"&&g.update(s=>{var n;s.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"})},placeholder:d("select_supplier"),defaultValue:i})};D.propTypes={supplier_type:o.string.isRequired};const re=({supplier_type:e})=>{var n,b;const{axiosInstance:i}=A(),{login_key:l,member_id:r}=((n=F.useState())==null?void 0:n.user_data)||{},{partner_id:t}=e==="FLIGHT"?h.useState():g.useState(),{data:u=[],isLoading:d}=M({queryKey:["PARTNER_OPTIONS",e],queryFn:async()=>{var v;const m=await i.post("/secure?pathName=/partner/my-partner-list",{login_key:l,member_id:r});if(((v=m==null?void 0:m.data)==null?void 0:v.status)==="success")return e==="FLIGHT"?h.update(f=>{f.partner_id=m.data.data[0].partner_id}):g.update(f=>{f.partner_id=m.data.data[0].partner_id}),m.data.data.map(f=>({label:f.brand_name,value:f.partner_id}))}}),{t:a}=L(),{component_version:s}=S.useState();return d||u.length===0?null:c.jsx(j,{className:((b=s==null?void 0:s.flight)==null?void 0:b.search_box)==="1"?"!px-4 !py-2 font-medium !rounded-lg bg-neutral/5 placeholder:text-neutral/50 focus:!outline-0  !m-0 !border-0 !min-h-0 !shadow-none":"!px-4 !py-2 font-medium !rounded bg-transparent text-xs !border-base-content/10 !border placeholder:text-neutral/50 focus:!outline-0 !m-0 !min-h-0 !shadow-none",options:u,action:m=>{e==="FLIGHT"?h.update(v=>{var f;v.partner_id=(f=m==null?void 0:m.at(0))==null?void 0:f.value}):g.update(v=>{var f;v.partner_id=(f=m==null?void 0:m.at(0))==null?void 0:f.value})},placeholder:a("select_partner"),defaultValue:t})},U=({selectedItem:e,items:i,action:l,icon:r})=>{const[t,u]=p.useState(!1),d=p.useRef();return p.useEffect(()=>{const a=s=>{d.current&&!d.current.contains(s.target)&&u(!1)};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[]),c.jsxs("div",{ref:d,className:`relative selection-container group ${t?"active":""}`,children:[c.jsxs("button",{type:"button",onClick:()=>u(!t),className:"w-full px-2 py-1 text-xs font-semibold rounded-xl text-start",children:[r," ",e," ",c.jsx("i",{className:"ml-1 inline-flex align-middle items-center",children:t?c.jsx(P,{}):c.jsx(V,{})})]}),c.jsx("ul",{className:"absolute top-full right-0 z-10 w-64 min-w-full py-1 origin-['50%_0'] rounded mt-0.5  shadow-[0_4px_16px_0_rgba(69,88,115,.2)] max-w-max lists bg-base-200 transition-all scale-90 -translate-y-8 opacity-0 pointer-events-none group-[.active]:pointer-events-auto group-[.active]:scale-100 group-[.active]:translate-y-0 group-[.active]:opacity-100 text-xs",style:{transition:"all .2s cubic-bezier(.5,0,0,1.25), opacity .15s ease-out"},children:i.map(a=>c.jsxs("li",{onClick:()=>{l(a.value),u(!1)},className:`px-4 py-2 cursor-pointer hover:bg-neutral/10 ${e===a.name?"text-primary":""}`,children:[a.name,e===a.name?c.jsx(R,{className:"ml-2"}):""]},a.id))})]})};U.propTypes={items:o.arrayOf(o.shape({id:o.number.isRequired,name:o.string.isRequired,value:o.any.isRequired})).isRequired,selectedItem:o.string.isRequired,action:o.func.isRequired,icon:o.element};const K=({items:e,activeTab:i,action:l})=>{const{flight:r}=S.useState(t=>t.component_version)||{};return c.jsx("ul",{className:`flex flex-wrap items-center gap-2 custom-tab2 ${(r==null?void 0:r.search_box)==="2"?"!text-xs":""}`,children:e.map(t=>c.jsxs("li",{onClick:()=>l(t.value),className:`flex items-center ${i===t.value?"active":""}`,children:[c.jsx("i",{className:"p-1 mr-1.5 inline-flex",children:t.icon}),c.jsx("span",{children:t.name})]},t.id))})};K.propTypes={items:o.arrayOf(o.shape({id:o.number.isRequired,icon:o.element.isRequired,name:o.string.isRequired,value:o.any.isRequired})).isRequired,activeTab:o.any.isRequired,action:o.func.isRequired};const Q=({supplier_type:e})=>{const{supplier_uid:i}=e==="FLIGHT"?h.useState():g.useState(),[l,r]=p.useState([]),{supplier_option:t}=S.useState(),{pathname:u}=O(),{t:d}=L();return p.useEffect(()=>{if((t==null?void 0:t.status.toLowerCase())==="yes"){const a=[];t.UnifiedSearch.toLowerCase()==="yes"&&a.push({label:"All",value:"all"}),a.push(...t.data.filter(s=>s.supplier_type===e).map(s=>({label:s.title,value:s.supplier_uid}))),e==="FLIGHT"&&u==="/"?h.update(s=>{var n;s.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}):e==="HOTEL"&&u==="/"&&g.update(s=>{var n;s.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}),r(a)}else r([])},[t,e,u]),p.useEffect(()=>{i||i===null&&h.update(a=>{var s;a.supplier_uid=((s=l[0])==null?void 0:s.value)||"all"})},[i,l]),l.length===0?null:c.jsx(j,{className:"!px-4 !py-2 font-medium !rounded bg-transparent text-xs !border-base-content/10 !border placeholder:text-neutral/50 focus:!outline-0 !m-0 !min-h-0 !shadow-none",options:l,action:a=>{e==="FLIGHT"?h.update(s=>{var n;s.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"}):e==="HOTEL"&&g.update(s=>{var n;s.supplier_uid=((n=a[0])==null?void 0:n.value)||"all"})},placeholder:d("select_supplier"),defaultValue:i})};Q.propTypes={supplier_type:o.string.isRequired};export{$ as D,ae as I,re as P,D as S,Q as a,Z as b,U as c,K as d,te as e,se as f,ee as g};
