import{q as e,e as I,o as C,m as k,a4 as P,a5 as S,H as n}from"./index-c8ac75dd.js";import{c as o,d as H,e as D,dl as A,dm as R,dn as L,dp as M,dq as T,dr as q,aH as x,aI as E,aJ as O,L as B}from"./App-b4275d2d.js";import{L as J,I as K,R as Q,P as U,A as Y,D as z,O as G}from"./OfflinePaymentInfoModal-88e2b991.js";import"./InputDate-9d6e658e.js";import"./index-8a5699ef.js";import"./PhoneNumberSelect-62c93c81.js";import"./NoResult-1527d237.js";import"./index.esm-205c51a0.js";const c=({Icon:i,label:l,value:d,img:a})=>e.jsxs("div",{className:o("relative h-36 overflow-hidden rounded-lg shadow-sam2 flex flex-col gap-2 justify-center items-center bg-white group"),children:[a?e.jsx("img",{src:a,alt:l,className:"w-12 h-12 duration-300 group-hover:translate-[-20px,-40px] group-hover:rotate-[-15deg] group-hover:scale-[1.3]"}):e.jsx(i,{className:"text-4xl duration-300 group-hover:translate-[-20px,-40px] group-hover:rotate-[-15deg] group-hover:scale-[1.3]"}),e.jsx("p",{className:"text-xs",children:l}),e.jsx("h1",{className:"text-lg",children:d})]}),V=({finance_summary:i})=>{const{partner_transaction:l,partner_invoices:d,partner_refunds:a,partner_payment:m}=i,[s,t]=I.useState("ledger");return e.jsxs("div",{className:"mb-8 border-t-4 rounded-lg bg-base-200 shadow-sam2 border-t-primary",children:[e.jsxs("div",{className:"px-1 tabs tabs-bordered",children:[e.jsx("div",{onClick:()=>t("ledger"),className:o("tab border-b-4 border-b-transparent h-12 text-base",s==="ledger"&&"tab-active !border-b-primary"),children:"Ledger History"}),e.jsx("div",{onClick:()=>t("invoice"),className:o("tab border-b-4 border-b-transparent h-12 text-base",s==="invoice"&&"tab-active !border-b-primary"),children:"Invoices"}),e.jsx("div",{onClick:()=>t("refund"),className:o("tab border-b-4 border-b-transparent h-12 text-base",s==="refund"&&"tab-active !border-b-primary"),children:"Refund History"}),e.jsx("div",{onClick:()=>t("payment"),className:o("tab border-b-4 border-b-transparent h-12 text-base",s==="payment"&&"tab-active !border-b-primary"),children:"Payment History"})]}),e.jsx("div",{className:"px-1 pb-1",children:e.jsxs("div",{className:"p-2",children:[s==="ledger"&&e.jsx(J,{data:l}),s==="invoice"&&e.jsx(K,{data:d}),s==="refund"&&e.jsx(Q,{data:a}),s==="payment"&&e.jsx(U,{data:m})]})})]})},ne=()=>{var h,j,g,y,f;const{site_title:i}=C.useState(),{axiosInstance:l}=H(),{user_data:{member_id:d,login_key:a}}=k.useState(),{data:m,isLoading:s,error:t}=D({queryKey:["FINANCE_SUMMARY",d,a],queryFn:async()=>(await l.post("/finance/summery",{member_id:d,login_key:a})).data});if(s)return e.jsx(P,{});if(t)throw t;const{default_currency:r,dashboard:{total_sales_amount:b,monthly_sales_amount:v,monthly_transactions:N,total_due_invoices:_,total_pending_refund:w,available_balance:u,total_credit_amount:F,total_due_amount:p}}=m;return e.jsxs("main",{className:"container min-h-screen pt-20",children:[e.jsx(S,{children:e.jsxs("title",{children:["Finance",i?" - "+i:""]})}),e.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Financial Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6",children:[e.jsx(c,{Icon:A,label:"Available Balance",value:n(r)+" "+((h=Number(u))==null?void 0:h.toFixed(2))}),e.jsx(c,{Icon:R,label:"Total Sales",value:n(r)+" "+((j=Number(b))==null?void 0:j.toFixed(2))}),e.jsx(c,{Icon:L,label:"Sales",value:n(r)+" "+((g=Number(v))==null?void 0:g.toFixed(2))}),e.jsx(c,{Icon:M,label:"Transactions",value:N}),e.jsx(c,{Icon:T,label:"Due Invoices",value:_}),e.jsx(c,{Icon:q,label:"Refund under process",value:w})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-8 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-3 p-5 mb-8 rounded-lg shadow-sam2 bg-base-200",children:[e.jsxs("div",{className:"flex items-center justify-between gap-5 mb-3",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Spend ",e.jsx(x,{})]}),e.jsx("h3",{className:"text-2xl font-semibold",children:n(r)+" "+((y=Number(b))==null?void 0:y.toFixed(2))})]}),e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Available (",e.jsx("span",{className:"text-[10px]",children:"Including"})," Credit Limit) ",e.jsx(x,{})]}),e.jsx("h3",{className:"text-2xl font-semibold",children:n(r)+" "+((f=Number(u))==null?void 0:f.toFixed(2))})]})]}),e.jsx("progress",{className:"w-full h-3 mb-3 progress progress-primary",value:"5",max:"100"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1 px-4 py-3 rounded-md bg-base-100",children:e.jsxs("h6",{className:"font-medium whitespace-nowrap",children:["Credit limit:"," ",n(r)+" "+F," ",e.jsxs("span",{className:"text-xs bg-sky-500 text-white rounded py-0.5 px-1",children:[e.jsx(E,{}),"Info"]})]})}),e.jsxs("button",{className:"normal-case btn btn-primary max-sm:btn-sm",children:[e.jsx(O,{})," Credit Request"]})]})]}),e.jsxs("div",{className:"flex flex-col justify-between gap-3 p-5 mb-8 rounded-lg shadow-sam2 bg-base-200",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-medium text-neutral",children:["Total Due ",e.jsx(x,{})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-2xl font-semibold",children:n(r)+" "+p}),Number(p)>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"p-1 text-xs uppercase border-2 border-primary bg-primary/10 text-primary",children:"Outstanding"}),e.jsx("button",{className:"normal-case btn bg-sky-100 text-sky-500 hover:bg-sky-200 hover:text-sky-600 max-sm:btn-sm",children:"Pay with card"})]}):null]})]}),e.jsx("div",{className:"px-4 py-2 rounded-md bg-base-100",children:e.jsx("h6",{className:"font-medium whitespace-nowrap",children:"Pay Due Date : 2023-11-30"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("button",{onClick:()=>document.getElementById("offline_payment_modal").showModal(),className:"text-white normal-case btn max-sm:btn-sm btn-info",children:"Offline Payment Information"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(B,{to:"/balance-request",className:"normal-case btn max-sm:btn-sm btn-primary",children:"Submit payment"})})]})]})]}),e.jsx(V,{finance_summary:m}),e.jsx(Y,{}),e.jsx(z,{}),e.jsx(G,{})]})};export{ne as default};
